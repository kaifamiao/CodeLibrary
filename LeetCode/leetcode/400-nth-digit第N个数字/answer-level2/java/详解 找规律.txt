### æ€è·¯ä¸€ï¼šæ‰¾è§„å¾‹
æˆ‘ä»¬é€šè¿‡è§‚å¯Ÿï¼Œå¯ä»¥å‘ç°ä»¥ä¸‹è§„å¾‹ï¼š

![1.png](https://pic.leetcode-cn.com/4f913f7a795d55038dc3a480c8268d8cc3367b14cb0cb4a7ea0c9d23f26fff9b-1.png)




å¯¹äºç¬¬ n ä½å¯¹åº”çš„æ•°å­—ï¼Œæˆ‘ä»¬ä»¤è¿™ä¸ªæ•°å­—å¯¹åº”çš„æ•°ä¸º `target`ï¼Œç„¶ååˆ†ä¸‰æ­¥è¿›è¡Œã€‚
- é¦–å…ˆæ‰¾åˆ°è¿™ä¸ªæ•°å­—å¯¹åº”çš„æ•°æ˜¯å‡ ä½æ•°ï¼Œç”¨ `digits` è¡¨ç¤ºï¼›
- ç„¶åç¡®å®šè¿™ä¸ªå¯¹åº”çš„æ•°çš„æ•°å€¼ `target`ï¼›
- æœ€åç¡®å®šè¿”å›å€¼æ˜¯ `target` ä¸­çš„å“ªä¸ªæ•°å­—ã€‚


ä¸¾ä¸ªæ —å­ï¼š

æ¯”å¦‚è¾“å…¥çš„ n æ˜¯ `365`ï¼š

1. ç»è¿‡ç¬¬ä¸€æ­¥è®¡ç®—æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç¬¬ 365 ä¸ªæ•°å­—è¡¨ç¤ºçš„æ•°æ˜¯ä¸‰ä½æ•°ï¼Œ$n=365-9-90\times2=176$ï¼Œ`digtis = 3`ã€‚è¿™æ—¶ $n=176$ è¡¨ç¤ºç›®æ ‡æ•°å­—æ˜¯ä¸‰ä½æ•°ä¸­çš„ç¬¬ $176$ ä¸ªæ•°å­—ã€‚

2. æˆ‘ä»¬è®¾ç›®æ ‡æ•°å­—æ‰€åœ¨çš„æ•°ä¸º `number`ï¼Œè®¡ç®—å¾—åˆ° $number=100+176/3=158$ï¼Œ`idx` æ˜¯ç›®æ ‡æ•°å­—åœ¨ `number` ä¸­çš„ç´¢å¼•ï¼Œå¦‚æœ `idx = 0`ï¼Œè¡¨ç¤ºç›®æ ‡æ•°å­—æ˜¯ `number - 1` ä¸­çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚ï¼ˆæ„Ÿè°¢[@1m188](/u/1m188/) æ›´æ­£ä¸º number-1ï¼‰
3. æ ¹æ®æ­¥éª¤2ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å¾—åˆ° `idx = n % digits = 176 % 3 = 2`ï¼Œè¯´æ˜ç›®æ ‡æ•°å­—åº”è¯¥æ˜¯ `number = 158` ä¸­çš„ç¬¬äºŒä¸ªæ•°å­—ï¼Œå³è¾“å‡ºä¸º `5`ã€‚
### ä»£ç 

æ„Ÿè°¢ [@zhi-meng-7](/u/zhi-meng-7/) æä¾›çš„ java ä»£ç ï¼


```python []
class Solution:
    def findNthDigit(self, n: int) -> int:
        # é¦–å…ˆåˆ¤æ–­targetæ˜¯å‡ ä½æ•°ï¼Œç”¨digitsè¡¨ç¤º
        base = 9
        digits = 1
        while n - base * digits > 0:
            n -= base * digits
            base *= 10
            digits += 1
        # è®¡ç®—targetçš„å€¼
        idx = n % digits  # æ³¨æ„ç”±äºä¸Šé¢çš„è®¡ç®—ï¼Œnç°åœ¨è¡¨ç¤ºdigitsä½æ•°çš„ç¬¬nä¸ªæ•°å­—
        if idx == 0: 
            idx = digits
        number = 1
        for i in range(1,digits):
            number *= 10
        if idx == digits:
            number += n // digits - 1
        else:
            number += n // digits
        # æ‰¾åˆ°targetä¸­å¯¹åº”çš„æ•°å­—
        for i in range(idx,digits):
            number //= 10
        return number % 10
    
```
```java []
class Solution {
    public int findNthDigit(int n) {
		long num=n;
		
		long size=1;
		long max=9;
		
		while(n>0){
			//åˆ¤æ–­ä¸åœ¨å½“å‰ä½æ•°å†…
			if(num-max*size>0){
				num=num-max*size;
				size++;
				max=max*10;
			}else{
				long count=num/size;
				long left=num%size;
				if(left==0){
					return (int) (((long)Math.pow(10, size-1)+count-1)%10);
				}else{
					return (int) (((long)Math.pow(10, size-1)+count)/((long)Math.pow(10, (size-left)))%10);
				}
			}
		}
		
		return 0;
    }
}
```


```c++ []
class Solution {
public:
    int findNthDigit(int n) {
        // è®¡ç®—è¯¥æ•°å­—ç”±å‡ ä½æ•°å­—ç»„æˆï¼Œç”±1ä½ï¼šdigits = 1ï¼›2ä½ï¼šdigits = 2...
        long base = 9,digits = 1;
        while (n - base * digits > 0){
            n -= base * digits;
            base *= 10;
            digits ++;
        }

        // è®¡ç®—çœŸå®ä»£è¡¨çš„æ•°å­—æ˜¯å¤šå°‘
        int idx = n % digits;  // æ³¨æ„ç”±äºä¸Šé¢çš„è®¡ç®—ï¼Œnç°åœ¨è¡¨ç¤ºdigitsä½æ•°çš„ç¬¬nä¸ªæ•°å­—
        if (idx == 0)idx = digits;
        long number = 1;
        for (int i = 1;i < digits;i++)
            number *= 10;
        number += (idx == digits)? n/digits - 1:n/digits;

        // ä»çœŸå®çš„æ•°å­—ä¸­æ‰¾åˆ°æˆ‘ä»¬æƒ³è¦çš„é‚£ä¸ªæ•°å­—
        for (int i=idx;i<digits;i++) number /= 10;
        return number % 10;
    }
};
```
### å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚
### æ€è·¯äºŒ
æŒæ¡äº†æ–¹æ³•ä¹‹åå¯ä»¥å¯¹ä»£ç è¿›è¡Œç®€åŒ–ï¼Œæ€è·¯ä¸ä¹‹å‰ä¸€æ ·ï¼Œè¿™é‡Œæ³¨æ„çš„æ˜¯ `first_num` è¡¨ç¤ºæ¯ç»„æ•°çš„ç¬¬ä¸€ä¸ªæ•°ã€‚

![2.png](https://pic.leetcode-cn.com/5a7b1f4a799ca649835939d7e1fdbc051c0e46506f0ccca703fa79d3028726b3-2.png)


### ä»£ç 


```cpp []
class Solution {
public:
    int findNthDigit(int n) {
        n -= 1;
        for (long digits=1;digits < 11;++digits ){
            int first_num = pow(10,digits-1);
            if (n < 9 * first_num * digits){
                return int(to_string(first_num + n/digits)[n%digits])-'0';
            }
            n -= 9 * first_num * digits;
        }
        return 0;
    }
};
```
```python []
class Solution:
    def findNthDigit(self, n):
        n -= 1
        for digits in range(1, 11):
            first_num = 10**(digits - 1)
            if n < 9 * first_num * digits:
                return int(str(first_num + n/digits)[n%digits])
            n -= 9 * first_num * digits
```



### å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š$O(N)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚

å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿è®¨è®º~

PSï¼šæƒ³è¦ä¸€èµ·åŠªåŠ›çš„ç«¥é‹ä»¬å¯ä»¥å…³æ³¨æˆ‘åˆ›åŠçš„å…¬ä¼—å·ï¼šè…çƒ‚çš„æ©˜å­ï¼Œè‡´åŠ›äºæ‘†è„±ç®—æ³•çš„æŠ½è±¡æ€ç»´ï¼Œå½»åº•ææ‡‚ç®—æ³•ï¼ŒåŒæ—¶å…¬ä¼—å·è¿˜ä¼šå‘å¸ƒé¢è¯•ä¸­çš„é«˜é¢‘çŸ¥è¯†ç‚¹ï¼Œä¸€èµ·åŠªåŠ›å§ï¼ğŸ˜‹