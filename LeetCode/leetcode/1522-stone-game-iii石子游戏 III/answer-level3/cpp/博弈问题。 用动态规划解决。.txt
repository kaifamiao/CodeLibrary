首先明确一点， 这一道题不可以贪心。 比如说数据[1,2,4,1,10,1,1]这一种是不可以贪心的。

所以考虑动态规划。 这道题注意一点， 就是操作方法与操作的人没有关系（即面对同一个局面，Alice可以做的， Bob也可以做）。 那么我们可以拟一个函数 f(x) 代表x开始的数列中， 先手与后手的差最大是多少。

则显然每一次有（最多）三种情况。

其中取1个的收益是 stones[x] + f(x + 1)
取2个的收益是 stones[x] + stone[x + 1] + f(x + 2)
取3个的收益是 stones[x] + stone[x + 1] + stone[x + 2] + f(x + 3)

显然先手要取三种情况的max才是最优的。

因此， 我们从后往前递推就可以了。

时间复杂度 $O(n)$.
空间复杂度 $O(1)$.