### ä¸¤ç§è§£æ³•

##### 1.åŒæŒ‡é’ˆï¼ˆStringBuildä½¿ç”¨ï¼‰

```java
public static char[] vowels = {'a','A','e','E','i','I','o','O','u','U'};
public String reverseVowels(String s) {
        int n = s.length();
        if(n == 0)
            return "";
        StringBuilder res = new StringBuilder(s);
        for(int i = -1, j = n; ;){
            while(!isVowel(res.charAt(++i))){
                if(i == n - 1)
                    break;
            }
            while(!isVowel(res.charAt(--j))){
                if(j == 0)
                    break;
            }
            if(i >= j)
                break;
            exch(res, i, j);
        }
        return res.toString();
    }

    private void exch(StringBuilder sb, int i, int j){
        char temp = sb.charAt(i);
        sb.setCharAt(i, sb.charAt(j));
        sb.setCharAt(j, temp);
    }

    private boolean isVowel(char c){
        for(char v : vowels)
            if(c == v)
                return true;
        return false;
    }
```

æ€è·¯åˆ†æï¼š

* ä»ç»™çš„ç¤ºä¾‹æ¥çœ‹ï¼Œè¦å®Œæˆçš„åŠŸèƒ½å°±æ˜¯ä»å­—ç¬¦ä¸²çš„å·¦è¾¹æ‰¾åˆ°ä¸€ä¸ªå…ƒéŸ³å­—æ¯ï¼Œä»å­—ç¬¦ä¸²çš„å³è¾¹æ‰¾åˆ°ä¸€ä¸ªå…ƒéŸ³å­—æ¯ï¼Œç„¶åè¿™ä¸¤ä¸ªå­—æ¯äº¤æ¢ã€‚ç›´åˆ°æ²¡æœ‰è¿™æ ·å¯ä»¥è¿›è¡Œäº¤æ¢çš„ä¸€ç»„å…ƒéŸ³å­—æ¯ã€‚
* è¿™ä¸ªè¿‡ç¨‹å¾ˆåƒå¿«é€Ÿæ’åºä¸­çš„æŸä¸€æ¬¡åˆ‡åˆ†ã€‚å†™æ³•ç±»ä¼¼ã€‚
* ä½¿ç”¨åŒæŒ‡é’ˆ`i`ï¼Œ`j`åˆ†åˆ«ä»å­—ç¬¦ä¸²çš„å·¦å³å¼€å§‹æŸ¥æ‰¾å…ƒéŸ³å­—ç¬¦ã€‚åœ¨å†…å¾ªç¯ä¸­ï¼š
    * å·¦è¾¹æ‰¾åˆ°ä¸€ä¸ªå…ƒéŸ³å­—ç¬¦ï¼ˆå½“å‰å­—ç¬¦ä¸æ˜¯å…ƒéŸ³å­—æ¯åˆ™æŒ‡é’ˆ`i`å³ç§»ï¼‰ï¼Œå³è¾¹æ‰¾åˆ°ä¸€ä¸ªå…ƒéŸ³å­—ç¬¦ï¼Œç„¶åè¿›è¡Œäº¤æ¢ã€‚ï¼ˆå¯¹åº”åˆ°åˆ‡åˆ†ä¸­å°±æ˜¯ä»æ•°ç»„å·¦è¾¹æ‰¾ä¸€ä¸ªåˆ«åˆ‡åˆ†ç‚¹å¤§æˆ–è€…ç›¸ç­‰çš„å…ƒç´ ï¼Œä»å³è¾¹æ‰¾ä¸€ä¸ªæ¯”åˆ‡åˆ†ç‚¹å°æˆ–è€…ç›¸ç­‰çš„å…ƒç´ ï¼Œç„¶åäº¤æ¢ï¼‰
    * å†…å¾ªç¯è¦é˜²æ­¢è¶Šç•Œï¼Œæ‰€ä»¥å½“`i == n - 1`æ—¶`break`ï¼›å½“`j == 0`æ—¶`break`ã€‚
    * å¤–å¾ªç¯åœæ­¢æ¡ä»¶å½“ä¸¤ä¸ªæŒ‡é’ˆç›¸äº¤åå³ä¸å†è¿›è¡Œäº¤æ¢ï¼Œç›´æ¥ç»“æŸã€‚
* è¿›è¡Œäº¤æ¢çš„è¾…åŠ©å‡½æ•°ä¸º`void exch(StringBuilder sb, int i, int j)`ï¼Œç¬¬äºŒä¸‰ä¸ªå‚æ•°å³è¦è¿›è¡Œäº¤æ¢çš„å­—ç¬¦çš„ç´¢å¼•ï¼Œå‡½æ•°ä¸­è¿ç”¨äº†`StringBuilder`çš„æ–¹æ³•`setCharAt`
* åˆ¤æ–­æ˜¯å¦ä¸ºå…ƒéŸ³å­—æ¯ï¼Œå…ˆåœ¨ç±»å˜é‡`char[] vowels`ä¸­æšä¸¾å‡ºæ‰€æœ‰å…ƒéŸ³å­—æ¯ï¼Œç„¶åç”±è¾…åŠ©å‡½æ•°`boolean isVowel(char c)`å¯¹å‚æ•°`c`è¿›è¡Œåˆ¤æ–­ï¼Œçº¿æ€§éå†å¦‚æœæ•°ç»„ä¸­æœ‰ç›¸ç­‰å…ƒç´ ï¼Œå°±è¿”å›`true`ã€‚
* æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(n)$ã€‚

è¿è¡Œç»“æœï¼š

* æ‰§è¡Œç”¨æ—¶ :5 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†74.79%çš„ç”¨æˆ·
* å†…å­˜æ¶ˆè€— :42.1 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†5.08%çš„ç”¨æˆ·

##### 2.åŒæŒ‡é’ˆï¼ˆæ•°ç»„çš„ä½¿ç”¨ï¼‰

```java
public static char[] vowels = {'a','A','e','E','i','I','o','O','u','U'};
public String reverseVowels2(String s) {
        int n = s.length();
        if(n == 0)
            return "";
        char[] chars = s.toCharArray();
        for(int i = -1, j = s.length(); ;){
            while(!isVowel(chars[++i])){
                if(i == n - 1)
                    break;
            }
            while(!isVowel(chars[--j])){
                if(j == 0)
                    break;
            }
            if(i >= j)
                break;
            char temp = chars[i];
            chars[i] = chars[j];
            chars[j] = temp;
        }
        return String.valueOf(chars);
    }

    private boolean isVowel(char c){
        for(char v : vowels)
            if(c == v)
                return true;
        return false;
    }
```

æ€è·¯åˆ†æï¼š

* é€»è¾‘ä¸æ–¹æ³•ä¸€ä¸€è‡´ã€‚è¿™é‡Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯æ”¹ç”¨å­—ç¬¦æ•°ç»„æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œç”¨æ•°ç»„å…ƒç´ çš„äº¤æ¢ä»£æ›¿`StringBuilder`çš„`setCharAt`ã€‚æœ€åè¿”å›æ—¶ä½¿ç”¨`String.valueOf(chars)`å¾—åˆ°å­—ç¬¦ä¸²ã€‚

è¿è¡Œç»“æœï¼š

* æ‰§è¡Œç”¨æ—¶ :3 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†96.67%çš„ç”¨æˆ·
* å†…å­˜æ¶ˆè€— :41.9 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†5.08%çš„ç”¨æˆ·

æ›´å¤šLeetCodeé¢˜è§£è¯·çœ‹æˆ‘çš„[github](https://github.com/ustcyyw/yyw_algorithm)ï¼Œåœ°å€https://github.com/ustcyyw/yyw_algorithmã€‚è¿˜æœ‰åˆ«çš„å°é¡¹ç›®ä¹Ÿå¾ˆå¥½ç©~å‘å¾®æ±‚ä¸ªå°æ˜Ÿæ˜ŸğŸ’–