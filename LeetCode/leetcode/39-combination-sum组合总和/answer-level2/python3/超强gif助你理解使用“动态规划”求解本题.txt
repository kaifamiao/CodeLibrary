# å‰è¨€
çœ‹è¿™é¢˜çš„é¢˜è§£ï¼Œå¤§å®¶éƒ½æ˜¯ç”¨`å›æº¯æ³•`è§£çš„ã€‚éšç€æˆ‘æŠŠç»„åˆæ€»å’Œçš„[II](https://leetcode-cn.com/problems/combination-sum-ii/)ã€[III](https://leetcode-cn.com/problems/combination-sum-iii/)ã€[IV](https://leetcode-cn.com/problems/combination-sum-iv/)åšå®Œï¼Œå°¤å…¶æ˜¯åˆ°IVçš„æ—¶å€™ï¼Œå›æº¯ç®—æ³•å°±è¶…æ—¶äº†ï¼Œè€ŒIVæ°å¥½æ˜¯ç”¨åŠ¨æ€è§„åˆ’è§£å†³çš„ï¼Œäºæ˜¯æˆ‘å°±æ€è€ƒï¼šèƒ½ä¸èƒ½ç”¨`åŠ¨æ€è§„åˆ’`æ±‚è§£æœ¬é¢˜ã€‚

# ä¸»è¦æ€æƒ³
å¯¹äºç›®æ ‡å€¼targetï¼Œå®ƒä¸€å®šæ˜¯ç”±æ¯”å®ƒå°çš„æ•°ç›¸åŠ å¾—åˆ°çš„ã€‚æ¯”å¦‚5=1+4=2+3ï¼Œè€Œ4=3+1=2+2ï¼Œ3=2+1ï¼Œ2=1+1...ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»1å¼€å§‹ï¼Œæˆ‘ä»¬ä¾æ¬¡æ±‚è§£æ¯ä¸ªæ•°å¯ä»¥æœ‰å‡ ç§å½¢æˆçš„æ–¹å¼ï¼Œåˆ™æ•°å€¼æ›´é«˜çš„æ•°çš„ç»„åˆæ–¹å¼å»ºç«‹åœ¨æ•°å€¼ä½çš„æ•°çš„ç»„åˆæ–¹å¼ä¸Šå¾—åˆ°ï¼Œå¥½å§æˆ‘è‡ªå·±éƒ½æ²¡çœ‹æ‡‚æˆ‘è¯´çš„è¯ï¼Œç›´æ¥çœ‹å›¾ç‰‡å§ã€‚


## å‡†å¤‡å·¥ä½œ
åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„`dict`ï¼Œé”®æ˜¯1~targetï¼Œå€¼åˆå§‹åŒ–ä¸ºç©ºåˆ—è¡¨ã€‚

## åˆ†æ`1`çš„ç»„æˆæ–¹å¼
![1.gif](https://pic.leetcode-cn.com/aa56c93c2dbafb2e3762ad87fba7a2e43e891c7e3b77b07f77b536a5ed112c43-1.gif)


##### å¾—åˆ°ï¼š`1`åªå¯ä»¥ç”±[1]è¿™1ç§æ–¹å¼ç»„æˆã€‚

## åˆ†æ`2`çš„ç»„æˆæ–¹å¼
![2.gif](https://pic.leetcode-cn.com/e935252d2edcccb56a2bb07dd5e4d4720915947d0f25c49b36a8c40699ff1a75-2.gif)



##### å¾—åˆ°ï¼š`2`åªå¯ä»¥ç”±[1,1],[2]è¿™2ç§æ–¹å¼ç»„æˆã€‚
## åˆ†æ`3`çš„ç»„æˆæ–¹å¼
![3.gif](https://pic.leetcode-cn.com/5e9d47666166af237caf5216760c6e54b3bc58ceca660f97c72f4571991fafb5-3.gif)


##### å¾—åˆ°ï¼š`3`å¯ä»¥ç”±[1,1,1],[1,2],[3]è¿™3ç§æ–¹å¼ç»„æˆã€‚
## åˆ†æ`4`çš„ç»„æˆæ–¹å¼
ï¼ˆå…¶ä¸­æœ‰ä¸¤æ¬¡çš„æ¥å›åŠ¨ç”»ï¼Œå¸®åŠ©ä½ ç†è§£æ‹¿å–çš„æ˜¯å“ªä¸€ä¸ªï¼‰
![4.gif](https://pic.leetcode-cn.com/72488722ef5f7d41aab5083b86a9c663f3b97b3085cd5b53d40020c85480d29a-4.gif)


##### å¾—åˆ°ï¼š`4`å¯ä»¥ç”±[1,1,1,1],[1,1,2],[2,2],[3,1],[4]è¿™5ç§æ–¹å¼ç»„æˆã€‚
## åˆ†æ`5`çš„ç»„æˆæ–¹å¼
ï¼ˆæŠ±æ­‰æ¥å›äº†3æ¬¡ï¼Œæˆ‘è§‰å¾—`æ¥å›æ¥å›`å¥½é­”æ€§å•Š~å“ˆå“ˆå“ˆï¼ï¼ï¼‰
![5.gif](https://pic.leetcode-cn.com/ed4f041592003fc654099ea3ad89e7c6debba3eceea7722d1dd5ff80145a18cc-5.gif)



##### å¾—åˆ°ï¼š`5`å¯ä»¥ç”±[1,1,1,1,1],[1,1,1,2],[2,2,1],[3,1,1],[3,2],[4,1]è¿™6ç§æ–¹å¼ç»„æˆã€‚


# æ€»ç»“
æ±‚è§£ä¸€ä¸ªå€¼ï¼Œéœ€è¦æ±‚è§£ä¸Šä¸€ä¸ªå€¼ï¼Œè¿›è€Œéœ€è¦æ±‚è§£ä¸Šä¸Šä¸ªå€¼...ï¼Œè¿™ç§æ–¹æ³•å°±æ˜¯åŠ¨æ€è§„åˆ’ã€‚é‡å¤çš„å€¼åªéœ€è¦è¿›è¡Œä¸€æ¬¡ï¼Œè€Œåå†ä½¿ç”¨åˆ°è¿™ä¸ªå€¼æ—¶ï¼Œåªéœ€è¦å°†ä»–çš„ç»“æœæ‹¿æ¥é€‚å½“å¢åŠ å³å¯ã€‚

# æ„Ÿè°¢
å—ç¼–ç¨‹æ°´å¹³é™åˆ¶ï¼Œåšä¸»æœ€åˆåªæä¾›äº†Python3çš„ä»£ç ï¼Œæ¬¢è¿å…¶ä»–ç¼–ç¨‹è¯­è¨€çˆ±å¥½è€…æä¾›ç›¸åº”ä»£ç å¤ç°`åŠ¨æ€è§„åˆ’`ã€‚

C++ç‰ˆæœ¬1ç®—æ³•ç”±[@lan-yun-2](/u/lan-yun-2)æä¾›ã€‚

C++ç‰ˆæœ¬2ç®—æ³•ç”±[@pris_bupt](/u/pris_bupt)æä¾›ã€‚

Javaç®—æ³•ç”±[@liu-li-8](/u/liu-li-8)æä¾›ã€‚
```python []
class Solution:
    def combinationSum(self, candidates: List[int], target: int) -> List[List[int]]:
        dict = {}
        for i in range(1,target+1):
            dict[i]=[]
        
        for i in range(1,target+1):
            for j in candidates:
                if i==j:
                    dict[i].append([i])
                elif i>j:
                    for k in dict[i-j]:
                        x = k[:]
                        x.append(j)
                        x.sort() # å‡åºï¼Œä¾¿äºåç»­å»é‡
                        if x not in dict[i]:
                            dict[i].append(x)

        return dict[target]
```
```c++ []
// ç”±@lan-yun-2æä¾›
map<int, set<vector<int> > > dpkv;
class Solution {
public:
    vector<vector<int>> combinationSum(vector<int>& candidates, int target) {
        set<vector<int> > avectorset;
        // åˆå§‹åŒ–
        for(int i = 1; i <= target; i++){
            dpkv[i] = avectorset; // éƒ½èµ‹å€¼æˆä¸€ä¸ªç©ºçš„æ•°ç»„
        }
        // å¼€å§‹é€’æ¨
        
        for(int j = 1; j <= target; j++){
            for(vector<int>::iterator it = candidates.begin(); it != candidates.end(); it++){
                if(j == *it){
                    // ç›´æ¥ä½œä¸ºä¸€ä¸ªvector<int>åŠ å…¥
                    vector<int> v_only_one_num;
                    v_only_one_num.push_back(j);
                    dpkv[j].insert(v_only_one_num);
                } else if(j > *it){ // ç”¨dp[j - *it] ä½œä¸ºç»“æœ
                    // éå†dp[j - *it]
                    for(set<vector<int> >::iterator its = dpkv[j - *it].begin(); its != dpkv[j - *it].end(); its++){
                        vector<int> the_vector = (*its);
                        the_vector.push_back(*it);
                        sort(the_vector.begin(), the_vector.end());
                        dpkv[j].insert(the_vector);
                    }
                }
            }
        }
        // å°†setåŠ å·¥æˆvector
        vector<vector<int>> target_v;
        for(set<vector<int> >::iterator its = dpkv[target].begin(); its != dpkv[target].end(); its++){
            target_v.push_back(*its);
        }
            
        return target_v;
    }
};
```
```c++ []
// ç”±@pris_buptæä¾›
 vector<vector<int>> combinationSum(vector<int>& candidates, int target) {
	unordered_map<int, set<vector<int>>>dict;
	for (int i = 1; i <= target; i++)
	    for (int it : candidates) 
		if (i == it) dict[i].insert(vector<int>{it});
		else if (i > it)
		     for (auto ivec : dict[i - it]) {
			ivec.push_back(it);
			sort(ivec.begin(), ivec.end());
			if(dict[i].count(ivec)==0)
		            dict[i].insert(ivec);
		    }
	vector<vector<int>>ans;
	for (auto it : dict[target]) ans.push_back(it);
	return ans;
}
```
```java []
// ç”±@liu-li-8æä¾›
class Solution {
  public List<List<Integer>> combinationSum(int[] candidates, int target) {
      List<List<Integer>> result = new ArrayList<>();
      Map<Integer,Set<List<Integer>>> map = new HashMap<>();
      //å¯¹candidatesæ•°ç»„è¿›è¡Œæ’åº
      Arrays.sort(candidates);
      int len = candidates.length;
      for(int i = 1;i <= target;i++){
          //åˆå§‹åŒ–map
          map.put(i,new HashSet<>());
          //å¯¹candidatesæ•°ç»„è¿›è¡Œå¾ªç¯
          for(int j = 0;j < len&&candidates[j] <= target;j++){
              if(i == candidates[j]){
                  //ç›¸ç­‰å³ä¸ºç›¸å‡ä¸º0çš„æƒ…å†µï¼Œç›´æ¥åŠ å…¥seté›†åˆå³å¯
                  List<Integer> temp = new ArrayList<>();
                  temp.add(i);
                  map.get(i).add(temp);
              }else if(i > candidates[j]){
                  //i-candidates[j]æ˜¯mapçš„key
                  int key = i-candidates[j];
                  //ä½¿ç”¨è¿­ä»£å™¨å¯¹å¯¹åº”keyçš„seté›†åˆè¿›è¡Œéå†
                  //å¦‚æœcandidatesæ•°ç»„ä¸åŒ…å«è¿™ä¸ªkeyå€¼ï¼Œå¯¹åº”çš„seté›†åˆä¼šä¸ºç©ºï¼Œæ•…è¿™é‡Œä¸éœ€è¦åšå•ç‹¬åˆ¤æ–­
                  for(Iterator iterator = map.get(key).iterator();iterator.hasNext();){
                      List list = (List) iterator.next();
                      //seté›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªlistéƒ½è¦åŠ å…¥candidates[j]ï¼Œç„¶åæ”¾å…¥åˆ°ä»¥iä¸ºkeyçš„é›†åˆä¸­
                      List tempList = new ArrayList<>();
                      tempList.addAll(list);
                      tempList.add(candidates[j]);
                      //æ’åºæ˜¯ä¸ºäº†é€šè¿‡seté›†åˆå»é‡
                      Collections.sort(tempList);
                      map.get(i).add(tempList);
                  }
              }
          }
      }
      result.addAll(map.get(target));
      return result;
  }
}
```
# æ€»ç»“
*`åšé¢˜ä¸æ˜¯ç›®çš„ï¼Œç›®çš„æ˜¯é€šè¿‡åšé¢˜é”»ç‚¼æ€ç»´ã€æŒæ¡å¸¸ç”¨çš„ç®—æ³•ã€‚
â€”â€”è ¢èŒå“’å°æ´‹`*

ä¸è¦åšè¿‡äº†å°±å¿˜äº†ï¼Œè¦å˜æˆä½ è‡ªå·±çš„ã€‚

# å…¶ä»–
å¦‚æœæœ‰ç¼˜çš„è¯ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘åœ¨[å…¶ä»–ä¸€äº›é¢˜ç›®ä¸‹é¢å†™çš„é¢˜è§£](https://leetcode-cn.com/profile/articles/)ï¼ŒåŒæ ·éƒ½æ˜¯ä»¥`è¶…å¼ºgifåŠ©ä½ ç†è§£ä½¿ç”¨...`å¼€å¤´çš„ï¼Œæˆ‘åšä¿¡**èƒ½ç”¨å›¾è¯´æ˜ç™½çš„ç»ä¸ç”¨å˜´BB**ï¼Œè€Œä¸”å›¾ç‰‡æ›´ç›´è§‚å½¢è±¡ï¼ŒåŠ¨ç”»èƒ½æ›´å¥½çš„ååº”ç¨‹åºæ˜¯æ€ä¹ˆæ‰§è¡Œçš„ã€æŸä¸ªå˜é‡å¦‚ä½•è·å–ã€å®ƒä¸‹ä¸€æ­¥åˆ°å“ªå»äº†ç­‰ç­‰ã€‚åšgifè¿˜æ˜¯æŒºè€—æ—¶é—´å’Œç²¾åŠ›çš„ï¼Œæ‰€ä»¥å¤§å®¶è¦æ˜¯å–œæ¬¢çš„è¯è®°å¾—ç‚¹èµæˆ–è€…å…³æ³¨ï¼Œå½“ç„¶**æœ‰ä»€ä¹ˆå»ºè®®ä¹Ÿå¯ä»¥è¯„è®º**ï¼Œæˆ‘ä¼šå¬çš„ï¼æ‰æ€ªğŸ˜œ

æœ‰ç«¥é‹é—®æˆ‘gifæ˜¯æ€ä¹ˆåšçš„ï¼Œæˆ‘ç”¨çš„æ˜¯**1.æ¿€æ´»ç‰ˆ** **2.PowerPoint365/å…¶ä»–*æœ€æ–°ç‰ˆ*PowerPoint**ï¼Œä¸¤ä¸ªæ¡ä»¶ç¼ºä¸€ä¸å¯ã€‚ç„¶åç”¨Gifå½•åˆ¶å·¥å…·å½•ä¸‹æ¥çš„ã€‚




