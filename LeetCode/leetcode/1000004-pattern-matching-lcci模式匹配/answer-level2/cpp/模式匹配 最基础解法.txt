### æ€è·¯

#### åˆ†æƒ…å†µè®¨è®º
1. **pattern ä¸ºç©º null**
    è‹¥ value ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆæ²¡æ³•åŒ¹é…æˆåŠŸ
2. **pattern çº¯å‡€ pure** 
    å³ pattern ä¸º`'aa..a' or 'bb...b'`, é‚£ä¹ˆåªéœ€è¦ç­‰åˆ‡åˆ† valueï¼Œæ£€éªŒå„ä¸ªå­ä¸²æ˜¯å¦ç›¸åŒ
3. **pattern å¤šé…ä¸€ multi-single**
    å³ pattern ä¸º`'a..aba..a' or 'b..bab..b'`, å•ä¸ª'a'æˆ–'b'åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ä¸å®šï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€è¦å‡è®¾å•ä¸ªå­—ç¬¦ä¸ºä¸º value æ•´ä¸²ï¼Œå­˜åœ¨å¤šä¸ªçš„å­—ç¬¦ä»£è¡¨ç©ºä¸²ã€‚è¿™ç§ç»“æ„å¿…ç„¶å¯ä»¥å®ŒæˆåŒ¹é…ã€‚
> ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼špattern:"aaabaa", value: "cjdusncuwcuhslughusahfuelfuh"
> æˆ‘ä»¬å¤§å¯ä»¥è®© 'a' <=> "", 'b' <=> "cjdusncuwcuhslughusahfuelfuh"
4. **å…¶ä»–æƒ…å†µ general**
    æœ€ä¸€èˆ¬çš„åŒ¹é…æœç´ ï¼Œä¸æ–­å°è¯•**ä¸åŒ**çš„å­ä¸²ï¼Œç›´åˆ°æ‰¾åˆ°åˆç†çš„åŒ¹é…ã€‚


### ä»£ç 
```cpp
class Solution {
public:
    bool patternMatching(string pattern, string value) {
        // pattern null ("")
        if(pattern.length() == 0 ){
            return value.length() == 0;
        }

        int cnt[2] = {0, 0};
        for(char c: pattern) {
            cnt[c - 'a'] ++;
        }
        int len = value.length();
        int multi = cnt[1] * cnt[0];

        // pattern: pure ('aa..a' or 'bb..b')
        if(multi == 0) { 
            if(len % pattern.length() != 0) {
                return false;
            }

            int sublen = len / pattern.length();
            string model = value.substr(0, sublen);
            for(int ptr = 0; ptr < len; ptr += sublen) {
                if(model.compare(0, sublen, value, ptr, sublen)) {
                    return false;
                }
            }
            return true;
        }
        
        // pattern: multi-single ('a..aba..a' or 'b..bab..b')
        if(multi == cnt[0] || multi == cnt[1]) {
            return value.length() != 0;
        }

        // general pattern
        string pattern_a = "-", pattern_b = "-";
        bool got_match = true;
        for(int la = 0; la < len; la++) {
            int remainder = (len - cnt[0] * la) % cnt[1];
            if(remainder) {
                continue;
            }
            
            int lb = (len - cnt[0] * la) / cnt[1];
            if(lb < 0) {
                continue;
            }
            
            int ptr = 0;
            pattern_a = "-", pattern_b = "-";
            got_match = true;
            for(char c: pattern) {
                if(c == 'a') {
                    if(pattern_a == "-") {
                        pattern_a = value.substr(ptr, la);
                    } else if(pattern_a.compare(0, la, value, ptr, la) ) {
                        got_match = false;
                        break;
                    }
                    ptr += la;
                } else {
                    if(pattern_b == "-") {
                        pattern_b = value.substr(ptr, lb);
                    } else if(pattern_b.compare(0, lb, value, ptr, lb) ) {
                        got_match = false;
                        break;
                    }
                    ptr += lb;
                }
            }
            
            if(got_match && pattern_a != pattern_b) {
                return true;
            }
        }

        return false;
    }
};
```

### æ€»ç»“
è¿™åº”è¯¥æ˜¯æœ€åŸºç¡€çš„è§£æ³•äº†ï¼Œæ„Ÿè§‰ pattern ä¸ºä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼ŒåŒ¹é…ç®—æ³•æ•ˆç‡è¾ƒå·®ã€‚
å¸Œæœ›å¤§å®¶å¤šæå®è´µå»ºè®®ï¼ğŸº