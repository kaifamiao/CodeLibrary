### ä¸¤ç§è§£æ³•ï¼ˆå‡æ˜¯åŸºäºäºŒåˆ†æŸ¥æ‰¾ï¼‰

##### 1.æˆ‘çš„è§£æ³•

```java
public char nextGreatestLetter(char[] letters, char target) {
        int n = letters.length;
        int lo = 0, hi = n - 1;
        while(lo <= hi){
            int mid = (hi - lo) / 2 + lo;
            if(letters[mid] <= target) lo = mid + 1;
            else if(letters[mid] > target) hi = mid - 1;
            else { // è¿™å‘çš„ä¼šæœ‰å¤šä¸ªé‡å¤çš„å…ƒç´ ï¼Œä¸€ç›´è¦æ‰¾åˆ°å®ƒåé¢çš„ç¬¬ä¸€ä¸ªä¸åŒå…ƒç´ 
                for(int i = mid; ; i = (i + 1) % n){ // å¦‚æœiä»mid + 1å¼€å§‹çš„è¯ midåˆšå¥½æ˜¯æœ€åä¸€ä¸ªç´¢å¼• å°±ä¼šè¶Šç•Œã€‚
                    if(letters[i] != letters[mid])
                        return letters[i];
                }
            }
        }
        return letters[lo % n];
    }
```

æ€è·¯åˆ†æï¼š

* é¢˜ç›®å·²ç»æ˜ç¡®æŒ‡å‡ºå­—ç¬¦æ•°ç»„æ˜¯æœ‰åºçš„ï¼Œå¹¶ä¸”è¦æ‰¾åˆ°æŸä¸ª`target`çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚é‚£ä¹ˆé—®é¢˜å°±æ˜¯å…ˆæ‰¾åˆ°`target`åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼›æˆ–è€…æ‰¾åˆ°`target`åº”è¯¥æ’å…¥çš„ä½ç½®ï¼ˆ`target`ä¸å­˜åœ¨æ•°ç»„ä¸­ï¼‰ã€‚ç„¶åç”±äºè¿™æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œåªè¦ä»`target`æ‰€åœ¨çš„åœ°æ–¹å¾€å³æ‰¾åˆ°ä¸€ä¸ªä¸ä»–ä¸ç›¸ç­‰çš„å…ƒç´ å°±æ˜¯ç­”æ¡ˆã€‚
* å½“æŸ¥æ‰¾å‘½ä¸­æ—¶`target`çš„ç´¢å¼•å³ä¸º`mid`ï¼Œåªéœ€è¦ç”¨ä¸€ä¸ªå¾ªç¯ä»`mid`å¼€å§‹éå†ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸`target`ä¸åŒçš„å…ƒç´ å³ä¸ºç»“æœã€‚æ³¨æ„å¦‚æœå¾ªç¯ä»`mid+1`å¼€å§‹ï¼Œ`mid`å¦‚æœæ˜¯æ•°ç»„æœ€åä¸€ä¸ªç´¢å¼•ï¼Œ`mid+1`å°±ä¼šè¶Šç•Œï¼Œæ‰€ä»¥å¾ªç¯ä»`mid`å¼€å§‹ã€‚
* å½“æŸ¥æ‰¾æœªå‘½ä¸­æ—¶ï¼Œ`lo`å°±æ˜¯`target`åº”è¯¥æ’å…¥çš„ä½ç½®ï¼ˆåŸå› å¯ä»¥å‚è€ƒ[35. æœç´¢æ’å…¥ä½ç½®](https://github.com/ustcyyw/yyw_algorithm/blob/master/easy/BinarySearch/searchInsert.md)ï¼‰ï¼Œé‚£ä¹ˆåŸæ•°ç»„`lo`ç´¢å¼•å¤„çš„å…ƒç´ å°±æ˜¯ç­”æ¡ˆã€‚
* ä¸€ç§ç‰¹æ®Šæƒ…å†µå°±æ˜¯ï¼Œ`target`æ˜¯æ•°ç»„ä¸­æœ€å¤§çš„å­—ç¬¦ï¼Œé‚£ä¹ˆæŒ‰é¢˜ç›®ç»™å‡ºçš„ç¤ºä¾‹åº”è¯¥è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚è¿™ç§æƒ…å†µå¦‚æœåœ¨å¾ªç¯ä¸­è°ƒæ•´ç´¢å¼•çš„è¯­å¥ä¸º`i++`åˆ™ä¼šå‡ºç°æ•°ç»„è¶Šç•Œï¼Œæ‰€ä»¥åº”è¯¥ä½¿ç”¨`i = (i + 1) % n`ã€‚PSï¼šè¿™ç§å¤„ç†æ–¹å¼åœ¨æ•£åˆ—è¡¨çš„çº¿æ€§æ¢æµ‹æ³•è¯­é˜Ÿåˆ—çš„æ•°ç»„å®ç°ä¸­ä¹Ÿæ˜¯è¿™æ ·ã€‚
* åŒç†ï¼Œå¦‚æœ`target`æ¯”æ•°ç»„ä¸­æ‰€æœ‰å­—ç¬¦éƒ½å¤§ï¼Œé‚£ä¹ˆæŸ¥æ‰¾æœªå‘½ä¸­ï¼Œæ­¤æ—¶è¿”å›`letters[lo]`æ•°ç»„ä¼šè¶Šç•Œï¼Œä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œè¿”å›`letters[lo % n]`ã€‚
* æ—¶é—´å¤æ‚åº¦ä¸º$O(log(n))$ï¼Œä½†æ˜¯æœ€åæ—¶å€™å¯èƒ½æ˜¯çº¿æ€§çš„ã€‚ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚

è¿è¡Œç»“æœï¼š

* æ‰§è¡Œç”¨æ—¶ :0 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·
* å†…å­˜æ¶ˆè€— :40.9 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†5.05%çš„ç”¨æˆ·

##### 2.å®˜æ–¹é¢˜è§£

```java
public char nextGreatestLetter2(char[] letters, char target) {
        int n = letters.length;
        int lo = 0, hi = n - 1;
        while(lo <= hi){
            int mid = (hi - lo) / 2 + lo;
            if(letters[mid] <= target) lo = mid + 1; // è¿™ä¸ªæ¡ä»¶å‰å®³ ä¸€å®šä¼šä½¿å¾—loè½åœ¨targetçš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚
            else hi = mid - 1;
        }
        return letters[lo % n];
    }
```

æ€è·¯åˆ†æï¼š

* åŒæ ·æ˜¯äºŒåˆ†æŸ¥æ‰¾ï¼Œä½†æ˜¯å¯¹æŸ¥æ‰¾å‘½ä¸­æƒ…å†µçš„å¤„ç†æ”¹å˜ä¹‹åï¼Œå¯ä»¥é¿å…æœ€åæ—¶å€™å‡ºé¡¹çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚
* å½“æŸ¥æ‰¾å‘½ä¸­æ—¶ï¼ŒåŒæ ·è®©`lo = mid + 1`ï¼Œè¿™æ ·å°±èƒ½ä¿è¯å¾ªç¯ç»“æŸåï¼Œ`lo`è½åœ¨targetçš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚
* ç‰¹æ®Šæƒ…å†µçš„å¤„ç†å¦‚æ–¹æ³•ä¸€ä¸­æ‰€è¿°ï¼Œæœ€åè¦è¿”å›`letters[lo % n]`ã€‚
* æ—¶é—´å¤æ‚åº¦ä¸º$O(log(n))$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚

æ›´å¤šLeetCodeé¢˜è§£è¯·çœ‹æˆ‘çš„[github](https://github.com/ustcyyw/yyw_algorithm)ï¼Œåœ°å€https://github.com/ustcyyw/yyw_algorithmã€‚è¿˜æœ‰åˆ«çš„å°é¡¹ç›®ä¹Ÿå¾ˆå¥½ç©~å‘å¾®æ±‚ä¸ªå°æ˜Ÿæ˜ŸğŸ’–