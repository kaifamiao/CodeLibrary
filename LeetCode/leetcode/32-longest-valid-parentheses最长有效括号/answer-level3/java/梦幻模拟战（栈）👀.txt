### è§£é¢˜æ€è·¯
æƒ³æ³•ç±»ä¼¼æ ˆå§ï¼Œä»£ç é‡åˆ°å·¦æ‹¬å·è¾…åŠ©æ•°ç»„ç½®0ï¼Œé‡åˆ°å³æ‹¬å·å°±å»æ‰¾å·¦ä¾§æœ€è¿‘çš„å·¦æ‹¬å·ï¼Œå¦‚æœåœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­é‡åˆ°
1ï¼Œè¡¨ç¤ºå·²ç»åŒ¹é…ï¼Œç»§ç»­æ‰¾ï¼›
0ï¼Œè¡¨ç¤ºå·¦æ‹¬å·ï¼ŒåŒåŒæ ‡è®°æˆ1ï¼›
-1ï¼Œè¡¨ç¤ºå³æ‹¬å·ï¼Œè‚¯å®šä¸èƒ½è¿›è¡ŒåŒ¹é…ï¼Œå¹¶æŠŠå½“å‰ä¸‹æ ‡ç½®æˆ-1ï¼›
æœ€åç»Ÿè®¡æœ€é•¿çš„1çš„ä¸ªæ•°
å¦‚æœé‡ä¸Šå¾ˆå¤š"((((()))))"è¿™æ ·çš„æ‹¬å·ç»„åˆåº”è¯¥ä¼šå¾ˆæ…¢ğŸ˜­

### ä»£ç 

```java
class Solution {
    public int longestValidParentheses(String s) {
        char[] c = s.toCharArray();
        int len = c.length;
        if (len < 2) return 0;
        int ans = 0;
        int[] dp = new int[len + 1];
        if(c[0] == ')') 
            dp[1] = -1;
        int right = 0;
        for (int i = 2; i <= len; i++) {
            if (c[i - 1] == '(') dp[i] = 0;
            else {
                int end = i - 1;
                while (end > right) {
                    if (dp[end] == -1) {
                        dp[i] = -1;
                        right = end;
                        break;
                    }
                    if (dp[end] == 0) {
                        dp[end] = 1;
                        dp[i] = 1;
                        break;
                    }
                    end--;
                }
                if (end == right) dp[i] = -1;
            }
        }
        int cur = 0;
        for (int i : dp) {
            if (i == 1) {
                cur++;
                ans = Math.max(ans,cur);
            }else cur = 0;
        }
        return ans;
    }
}
```