è§£ä¸€ï¼ˆä¼ªï¼‰ï¼š
> å› ä¸ºå‰ä¸€å¤©æ™šä¸Šåšäº†å…«çš‡åï¼Œç”¨çš„æ˜¯å›æº¯ã€‚æ‰€ä»¥æƒ³ç€è¿™é“é¢˜åº”è¯¥ä¹Ÿå¯ä»¥ç”¨å›æº¯åšã€‚ç»“æœå‘¢ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯$O(n^n)$ï¼Œè¶…å‡ºæ—¶é—´é™åˆ¶äº†ã€‚

```js
var lengthOfLIS = function(nums) {
    if (nums.length===0) return 0
    var ans = 1;
    var temp_ans = [];

    var add = function(index) { //ç±»æ¯”å…«çš‡åçš„placeQueen()
        temp_ans.unshift(nums[index])
    }

    var undo = function() { //ç±»æ¯”å…«çš‡åçš„removeQueen()
        temp_ans.shift()
    }

    var backtrack = function(i) {
        for (let j=i+1;j<nums.length;j++){ //æ¢ç´¢iä¹‹åæ¯ä¸€ä¸ªå…ƒç´ 
            if (nums[j]>temp_ans[0]) {
                add(j);
                ans = Math.max(ans,temp_ans.length);
                if (j<nums.length-1) backtrack(j);
                undo()
            }
        }
    }

    for (var i=0; i<nums.length; i++){ //å‡è®¾å­åºåˆ—ä»ç¬¬iä¸ªå…ƒç´ å¼€å§‹
        temp_ans = [nums[i]];
        backtrack(i);
    }
    return ans;
};
```

è§£äºŒï¼š
> æœ‰è®°å¿†çš„é€’å½’ï¼ˆå› ä¸ºæš‚æ—¶ä¸çŸ¥é“æ€ä¹ˆåšæœ‰è®°å¿†çš„å›æº¯ğŸ¤£ï¼‰

```js
var lengthOfLIS = function(nums) {

    var memory = []; //memory[i][j]è®°å¿†ä¸ºäºŒç»´æ•°ç»„ï¼Œå¯¹åº”recurse[i-1][j]çš„è¾“å‡º
    memory = Array(nums.length+1).fill(-1).map(()=>Array(nums.length).fill(-1)) //åˆå§‹åŒ–ä¸º-1

    var recurse = function(prev, cur){ 
        //prevè¡¨ç¤ºä¸Šä¸€ä¸ªåŠ å…¥å­åºåˆ—çš„å…ƒç´ åæ ‡ï¼ˆä¹Ÿå³å­åºåˆ—å½“å‰æœ€å¤§å…ƒç´ çš„åæ ‡ï¼‰
        //curè¡¨ç¤ºå½“å‰åˆ°è¾¾çš„å…ƒç´ åæ ‡
        if (cur === nums.length) return 0;
        if (memory[prev+1][cur]>=0) return memory[prev+1][cur];

        var taken = 0; //1.è€ƒè™‘curåœ¨å†…
        if (prev<0||nums[cur]>nums[prev]) taken = 1+recurse(cur,cur+1); 
        var nottaken = recurse(prev,cur+1); //2.ä¸è€ƒè™‘curåœ¨å†…
        memory[prev+1][cur] = Math.max(taken,nottaken)

        return memory[prev+1][cur];
    }

    return recurse(-1,0)
};
```

è§£ä¸‰ï¼š
> åŠ¨æ€è§„åˆ’ã€‚ä¸åŒäºè§£äºŒç»´æŠ¤çš„æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„`memory`ï¼Œè¿™é‡Œç»´æŠ¤ä¸€ä¸ªä¸€ç»´æ•°ç»„`bp`ã€‚`bp[i]`è¡¨ç¤ºä»¥ç¬¬iä¸ªå…ƒç´ **ç»“å°¾**çš„æœ€é•¿å­åºåˆ—é•¿åº¦ã€‚

```js
var lengthOfLIS = function(nums) {
    var dp = new Array(nums.length).fill(1);
    var ans = 0;
    for (var i=0; i<nums.length;i++){ //å¯¹äºç¬¬iä¸ªå…ƒç´ nums[i]
        for (var j=0; j<i;j++){ //éå†iå‰é¢çš„i-1ä¸ªå…ƒç´ 
            if (nums[j]<nums[i]) dp[i] = Math.max(dp[i],dp[j]+1)
            //å¦‚æœnums[j]æ¯”nums[i]å° æ›´æ–°dp[i]
        }
        ans = Math.max(ans,dp[i]);
    }
    return ans
};
```

è§£å››ï¼š
> åŠ¨æ€è§„åˆ’+äºŒåˆ†æŸ¥æ‰¾ã€‚æ³¨æ„è¿™é‡Œçš„`ans`å¹¶ä¸ä¸€å®šæ˜¯é¢˜ç›®ä¸­è¦æ±‚çš„æœ€é•¿é€’å¢å­åºåˆ—ï¼Œåªæ˜¯é•¿åº¦ä¸å…¶ç›¸ç­‰ã€‚

```js
var lengthOfLIS = function(nums) {
    var ans = []; //è®°å½•å­åºåˆ—
    for (var i = 0; i < nums.length; i++) {
        var left = 0, right = ans.length;
        while (left < right) { //äºŒåˆ†æ³•
            var mid = left + right >>> 1;
            if (ans[mid] < nums[i]) left = mid + 1;
            else right = mid;
        } //åœ¨ansæ•°ç»„ä¸­æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºnums[i]çš„å…ƒç´ 
        if (right >= ans.length) ans.push(nums[i]); //æ‰¾ä¸åˆ° åœ¨ansæœ€åå¢åŠ ä¸€é¡¹nums[i]
        else ans[right] = nums[i];//æ‰¾åˆ° æ›¿æ¢
    }
    return ans.length;
};
```

å¯¹äºä¸€ä¸ªä¹±åºåºåˆ—`4 2 4 5 3 7`çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š
```
->i=0 l=0 r=0
æ²¡è¿›å»while ans[0]=nums[0]=4

->i=1 l=0 r=1 nums[i]=2
æ‰¾åˆ°å¹¶æ›¿æ¢ans[0]=2 ans=[2]

->i=2 l=0 r=1 nums[i]=4
æ‰¾ä¸åˆ° ans=[2,4]

->i=3 l=0 r=2 nums[i]=5
æ‰¾ä¸åˆ° ans=[2,4,5]

->i=4 l=0 r=3 nums[i]=3
æ‰¾åˆ°å¹¶æ›¿æ¢ans[1]=3 ans=[2,3,5]

->i=5 l=0 r=4 nums[i]=7
æ‰¾ä¸åˆ° ans=[2,3,5,7]
```