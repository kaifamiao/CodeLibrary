### ä¸¤ç§è§£æ³•

##### 1.ç¡®å®šä¸­é—´äººé€‰j(è¯„è®ºåŒºå¤§ä½¬çš„è§£æ³•)

```java
public int numTeams2(int[] rating) {
        int res = 0;
        int n = rating.length;
        for(int i = 1; i < n - 1; i++){
            int[] countLeft = count(0, i - 1, rating, rating[i]);
            int[] countRight = count(i + 1, n - 1, rating, rating[i]);
            res += countLeft[0] * countRight[1]; // ä»¥iä¸ºä¸­é—´å£«å…µï¼Œå·¦è¾¹æ¯”ä»–å¤§çš„æ•°é‡ * å³è¾¹æ¯”ä»–å°çš„æ•°é‡
            res += countLeft[1] * countRight[0]; // ä»¥iä¸ºä¸­é—´å£«å…µï¼Œå·¦è¾¹æ¯”ä»–å°çš„æ•°é‡ * å³è¾¹æ¯”ä»–å¤§çš„æ•°é‡
        }
        return res;
    }

    private int[] count(int lo, int hi, int[] rating, int target){
        int[] res = new int[2];
        for(int i = lo; i <= hi; i++){
            if(rating[i] > target) // è®¡æ•°åŒºé—´[lo, hi]ä¸Šæ¯”targetå¤§çš„å…ƒç´ çš„æ•°é‡
                res[0]++;
            if(rating[i] < target)
                res[1]++;
        }
        return res;
    }
```

æ€è·¯åˆ†æï¼š

* è¿™ä¸ªé¢˜æ˜¯ä¸€ä¸ªç»„åˆé—®é¢˜ï¼Œæ±‚å‡ºæ»¡è¶³é¢˜æ„çš„æ‰€æœ‰ç»„åˆæœ‰å¤šå°‘ç»„ã€‚åœ¨åšæ•°å­¦ç»„åˆé¢˜çš„æ—¶å€™ï¼Œæ€»ä¼šä¼˜å…ˆé€‰å®šç‰¹æ®Šå…ƒç´ ã€‚æœ¬é¢˜å¦‚æœå…ˆé€‰æ‹©ç¬¬ä¸€ä¸ªå£«å…µæˆ–è€…æœ€åä¸€ä¸ªå£«å…µï¼Œå°±å¾—ä½¿ç”¨æš´åŠ›æ³•æ¥æšä¸¾å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„ç»„åˆã€‚æ‰€ä»¥å°†ç›®å…‰æ”¾åˆ°ä¸­é—´å…ƒç´ ä¸Šã€‚
* ä»1åˆ°`rating.length - 1`çš„å£«å…µéƒ½æœ‰å¯èƒ½è¢«é€‰ä¸ºä¸­é—´å£«å…µï¼Œæ ¹æ®åŠ æ³•åŸç†è¦å°†æ‰€æœ‰è¿™äº›æƒ…å†µä¸‹æ»¡è¶³é¢˜æ„çš„ç»„åˆæ•°é‡ç›¸åŠ ã€‚é‚£ä¹ˆè®¨è®ºç¬¬`i`ä¸ªå£«å…µè¢«é€‰ä¸ºä¸­é—´å£«å…µçš„æƒ…å†µåï¼Œå¯¹`i`ä»`[1, rating.length - 1]`éå†åŠ å’Œå³ä¸ºæœ€ç»ˆç­”æ¡ˆã€‚
* å¯¹äºç¬¬`i`ä¸ªå£«å…µè¢«é€‰ä¸ºä¸­é—´å£«å…µçš„æƒ…å†µã€‚å…¶å·¦è¾¹è¦é€‰æ‹©ä¸€ä¸ªæ¯”ä»–å°çš„å…ƒç´ ï¼Œå³è¾¹è¦é€‰ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ æˆ–è€…å·¦è¾¹è¦é€‰æ‹©ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ ï¼Œå³è¾¹è¦é€‰ä¸€ä¸ªæ¯”ä»–å°çš„å…ƒç´ ã€‚
    * å…¶å·¦è¾¹æ¯”ä»–å°çš„å…ƒç´ å…±æœ‰`a`ä¸ªï¼Œå³è¾¹æ¯”ä»–å¤§çš„å…ƒç´ æœ‰`b`ä¸ªï¼Œé‚£ä¹ˆè¿™ç§ç»„åˆæ–¹å¼ä¸€å…±æœ‰`a*b`ç§ã€‚
    * æ‰€ä»¥åªéœ€è¦ç»Ÿè®¡`[0, i-1]`ä¸`[i + 1, rating.length - 1]`è¿™ä¸¤ä¸ªåŒºé—´ä¸Šåˆ†åˆ«æœ‰å¤šå°‘ä¸ªå£«å…µæ¯”ä»–å¤§ï¼Œæ¯”ä»–å°å³å¯ã€‚
* è¾…åŠ©å‡½æ•°`int[] count(int lo, int hi, int[] rating, int target)`å¯¹åŒºé—´`[lo, hi]`ç»Ÿè®¡æ¯”`target`å¤§å’Œå°çš„å…ƒç´ æ•°é‡ï¼Œè¿”å›ä¸€ä¸ªäºŒå…ƒæ•°ç»„ï¼Œæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ ä»£è¡¨åŒºé—´[lo, hi]ä¸Šæ¯”targetå¤§çš„å…ƒç´ çš„æ•°é‡ã€‚
* è¾…åŠ©å‡½æ•°è¿›è¡Œå•å±‚éå†ï¼Œä¸»å‡½æ•°ä¸­è¿›è¡Œäº†ä¸€æ¬¡éå†ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$ã€‚ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$

##### 2.æš´åŠ›è§£å†³

```java
public int numTeams(int[] rating) {
        int n = rating.length;
        int count = 0;
        for (int i = 0; i < n; i++) {
            for (int j = i + 1; j < n; j++) {
                for (int k = j + 1; k < n; k++) {
                    if (rating[i] > rating[j] && rating[j] > rating[k])
                        count++;
                    if (rating[i] < rating[j] && rating[j] < rating[k])
                        count++;
                }
            }
        }
        return count;
    }
```

æ€è·¯åˆ†æï¼š

* åœ¨åšèµ›é¢˜çš„æ—¶å€™ï¼Œçœ‹åˆ°`1 <= n <= 200`å¦‚æ­¤å°çš„æ•°æ®é‡ï¼Œç›´æ¥æš´åŠ›æ³•ç¿»è¯‘é¢˜ç›®ä¹Ÿå°±é€šè¿‡äº†ã€‚

æ›´å¤šLeetCodeé¢˜è§£è¯·çœ‹æˆ‘çš„[github](https://github.com/ustcyyw/yyw_algorithm)ï¼Œåœ°å€https://github.com/ustcyyw/yyw_algorithmã€‚è¿˜æœ‰åˆ«çš„å°é¡¹ç›®ä¹Ÿå¾ˆå¥½ç©~å‘å¾®æ±‚ä¸ªå°æ˜Ÿæ˜ŸğŸ’–