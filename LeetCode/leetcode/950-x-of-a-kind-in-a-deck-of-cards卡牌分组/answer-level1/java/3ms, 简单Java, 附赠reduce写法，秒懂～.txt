ğŸ™‹ å†æ™šä¹Ÿè¦æ‰“ä¸ªå¡ï¼

### ä¸€ã€é¢˜ç›®åˆ†æ

- **è¯»é¢˜çŸ¥ï¼š** æ¯ç§æ•°å­—çš„å¡ç‰Œå¼ æ•°å¿…é¡»æ˜¯Xçš„å€æ•°ï¼ˆåªæœ‰è¿™æ ·æ‰èƒ½æ¯Xå¼ ç‰Œåˆ†ä¸º1ç»„ï¼Œä¸”æ¯ç»„ç‰Œçš„æ•°å­—éƒ½ç›¸åŒ), ä¸”X>1ã€‚ç”±æ­¤ï¼Œæœ¬é¢˜è½¬æ¢æˆäº†æ±‚: æ¯ç§å¡ç‰Œå¼ æ•°çš„æœ€å¤§å…¬çº¦æ•°ã€‚

- é‚£ä¹ˆ**å®ç°æ–¹æ³•**å°±å¾ˆç®€å•äº†ï¼š

    **1ã€è®¡æ•°**ï¼ˆæœ¬é¢˜æ•°æ®èŒƒå›´æœ‰é™ç›´æ¥æ•°ç»„è®¡æ•°å³å¯ï¼‰
    **2ã€æ±‚è®¡æ•°æ•°ç»„çš„æœ€å¤§å…¬çº¦æ•°**ï¼ˆğŸ‘‡ï¼‰

- 2ä¸ªæ•°æ±‚gcdç›´æ¥è¾—è½¬ç›¸é™¤æ³•ï¼Œè‡³äº**å¦‚ä½•æ±‚å¤šä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°**ï¼š
  
  æ ¹æ®æ•°è®ºä¸­çš„gcdç»“åˆå¾‹çŸ¥ï¼š
![image.png](https://pic.leetcode-cn.com/ce1b4c3772e7757c2c120ad0f26fb5195c8a2ba741cb19a4ae1bf45bbada4437-image.png){:height="40%" width="40%"}
æ„Ÿå…´è¶£çš„å¯ä»¥ğŸ‘‰[æˆ³](https://math.stackexchange.com/questions/1189424/gcda-b-c-gcd-gcda-b-c-gcd-associative-law)ğŸ‘ˆ
æ‰€ä»¥è¿­ä»£æ±‚gcdå°±è¡Œäº†ã€‚

### äºŒã€ä»£ç 

##### 1ã€å…ˆè¯´ä¸€ä¸ª3msçš„æ–¹æ³•

``` Java
class Solution {
    public boolean hasGroupsSizeX(int[] deck) {
        // è®¡æ•°
        int[] counter = new int[10000];
        for (int num: deck) {
            counter[num]++;
        }
        // è¿­ä»£æ±‚å¤šä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°
        int x = 0;
        for(int cnt: counter) {
            if (cnt > 0) {
                x = gcd(x, cnt); 
                if (x == 1) { // å¦‚æœæŸæ­¥ä¸­gcdæ˜¯1ï¼Œç›´æ¥è¿”å›false
                    return false;
                }
            }
        }
        return x >= 2;
    }
    
    // è¾—è½¬ç›¸é™¤æ³•
    private int gcd (int a, int b) {
        return b == 0? a: gcd(b, a % b);
    }
}
```

##### 2ã€è¿­ä»£æ±‚gcdçš„è¿‡ç¨‹å¯ä»¥ç”¨reduceç®—å­è¿›è¡Œä»£ç ç®€åŒ–

``` Java
class Solution {
    public boolean hasGroupsSizeX(int[] deck) {
        // è®¡æ•°
        int[] counter = new int[10000];
        for (int num: deck) {
            counter[num]++;
        }
        // reduceæ±‚å¤šä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°
        // ï¼ˆå› ä¸ºè¿™é‡Œå½“gcd==1çš„æ—¶å€™æ²¡æœ‰æå‰ç»ˆæ­¢ï¼Œå¹¶ä¸”æœ¬é¢˜æ•°æ®é‡å¤ªå°æ— æ³•ç”¨å¹¶è¡Œæµï¼Œå› æ­¤è€—æ—¶10msï¼Œæ¯”forå¾ªç¯æ…¢ç‚¹ï¼‰
        return Arrays.stream(counter).reduce(this::gcd).getAsInt() >= 2;
    }
    
    // è¾—è½¬ç›¸é™¤æ³•
    private int gcd (int a, int b) {
        return b == 0? a: gcd(b, a % b);
    }
}
```

å…¶ä¸­ï¼Œ`reduce(this::gcd)` å³ä¸º `reduce((a, b) -> gcd(a, b))`
ä¸‹å›¾ä»¥`reduce((a, b) -> a + b)`æ¥è§£é‡Šreduceç®—å­ï¼š
![image.png](https://pic.leetcode-cn.com/2946e5fcf0a5a053c409926c8b89414199dc4d36a97e7a4fae42f4e5fdd0a7c8-image.png){:height="40%" width="40%"}



å¤§ä½¬ä»¬éšæ‰‹å…³æ³¨ä¸‹æˆ‘çš„wxå…¬ä¼—å·ã€[ç”œå§¨çš„å¥‡å¦™å†’é™©](https://pic.leetcode-cn.com/304599b006dd41bcf2042715f31a2dc4fbdc4cf9748a11a81d8978ea1e839956-wxgzh.jpeg)ã€‘å’Œ çŸ¥ä¹ä¸“æ ã€[ç”œå§¨çš„åŠ›æ‰£é¢˜è§£](https://zhuanlan.zhihu.com/c_1224355183452614656)ã€‘