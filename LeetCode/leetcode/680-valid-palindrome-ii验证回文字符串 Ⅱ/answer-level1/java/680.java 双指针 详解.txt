### ä¸¤ç§è§£æ³•

##### 1.åŒæŒ‡é’ˆï¼ˆæˆ‘çš„è§£æ³•ï¼‰

```java
public boolean validPalindrome(String s) {
        return isValid(s, true) || isValid(s, false);
    }

    private boolean isValid(String s, boolean deleteLeft){
        boolean flag = true;
        for(int i = 0, j = s.length() - 1; i < j; i++, j--){
            if(s.charAt(i) != s.charAt(j)){
                if(flag){
                    if(deleteLeft){
                        if(s.charAt(i + 1) == s.charAt(j)){
                            i++;
                            flag = false;
                        }
                        else return false;
                    }
                    else {
                        if(s.charAt(i) == s.charAt(j - 1)){
                            j--;
                            flag = false;
                        }
                        else return false;
                    }
                }
                else return false;
            }
        }
        return true;
    }
```

æ€è·¯åˆ†æï¼š

* ç”±äºå›æ–‡å­—ç¬¦ä¸²çš„å¯¹ç§°æ€§ï¼Œéœ€è¦æ¯”è¾ƒå…³äºä¸­è½´çš„ä¸¤ä¸ªå­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œæ‰€ä»¥éƒ½æ˜¯ä½¿ç”¨åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²çš„å¤´ï¼Œå¦å¤–ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²çš„å°¾ï¼Œå¯¹æ¯”å®Œä¸€ç»„å­—ç¬¦åï¼Œä¸¤ä¸ªæŒ‡é’ˆå‡å‘ä¸­å¿ƒç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚
* ä½†æ˜¯æœ¬é¢˜ä¸­å…è®¸åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼ˆæˆ–è€…ä¸åˆ é™¤ï¼‰ï¼Œæ‰€ä»¥åœ¨åŒæŒ‡é’ˆçš„åŸºç¡€ä¸Šè¿˜éœ€è¦å¤„ç†å¯èƒ½éœ€è¦åˆ é™¤å­—ç¬¦çš„æƒ…å†µã€‚
* ä»€ä¹ˆæ—¶å€™éœ€è¦åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼Ÿå°±æ˜¯å½“å¯¹åº”çš„ä¸¤ä¸ªå­—ç¬¦ä¸ç›¸ç­‰çš„æ—¶å€™ï¼Œè¦åˆ é™¤å…¶ä¸­ä¸€ä¸ªã€‚åˆ é™¤å·¦è¾¹çš„å­—ç¬¦ä¸åˆ é™¤å³è¾¹çš„å­—ç¬¦ä¸ä¸€æ ·ã€‚
    * å¦‚æœåˆ é™¤å·¦è¾¹å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤`i`å¯¹åº”çš„å­—ç¬¦ï¼Œé‚£ä¹ˆåˆ é™¤åï¼Œä¸`j`å…³äºä¸­å¿ƒå¯¹åº”çš„å­—ç¬¦å°±æ˜¯`i + 1`ã€‚åˆ¤æ–­`s.charAt(i + 1) == s.charAt(j)`æˆç«‹ï¼Œè¯´æ˜åˆ é™¤`i`åå¯èƒ½å¯ä»¥æ„æˆå›æ–‡ä¸²ï¼Œå¦åˆ™åˆä¸€ä¸ªå¯¹åº”çš„å­—ç¬¦ä¸ç›¸ç­‰ï¼Œç›´æ¥è¿”å›`false`ã€‚
    * å¦‚æœåˆ é™¤å³è¾¹å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤`j`å¯¹åº”çš„å­—ç¬¦ï¼Œé‚£ä¹ˆåˆ é™¤åï¼Œä¸`i`å…³äºä¸­å¿ƒå¯¹åº”çš„å­—ç¬¦å°±æ˜¯`j - 1`ã€‚åˆ¤æ–­`s.charAt(i) == s.charAt(j - 1)`æˆç«‹ï¼Œè¯´æ˜åˆ é™¤`j`åå¯èƒ½å¯ä»¥æ„æˆå›æ–‡ä¸²ï¼Œå¦åˆ™åˆä¸€ä¸ªå¯¹åº”çš„å­—ç¬¦ä¸ç›¸ç­‰ï¼Œç›´æ¥è¿”å›`false`ã€‚
* å®šä¹‰è¾…åŠ©å‡½æ•°å®šä¹‰å‡½æ•°`boolean isValid(String s, boolean deleteLeft)`ï¼Œ
    * ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºç¬¬ä¸€æ¬¡é‡åˆ°å¯¹åº”ä½ç½®ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶åˆ é™¤å·¦è¾¹çš„å­—ç¬¦è¿˜æ˜¯åˆ é™¤å³è¾¹çš„å­—ç¬¦ã€‚
    * åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œè¿˜éœ€è¦æ³¨æ„ï¼Œç¬¬ä¸€ä¸ªé‡åˆ°å¯¹åº”ä½ç½®ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶æ‰è¿›è¡Œåˆ é™¤ï¼Œæ‰€ä»¥ç”¨å˜é‡` boolean flag`æ¥è¡¨ç¤ºæ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡ã€‚æ‰€ä»¥åœ¨åˆ é™¤å­—ç¬¦ä¸²çš„æ“ä½œä¹‹åï¼Œè¦å°†`flag = false`ã€‚
    * ç¬¬äºŒæ¬¡é‡åˆ°å¯¹åº”ä½ç½®ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶ï¼Œå°±ä¼šç›´æ¥è¿”å›`false`
    * å½“åŒæŒ‡é’ˆç›¸é‡ï¼ˆæˆ–è€…ç›¸äº¤ï¼‰ï¼Œå¾ªç¯åœæ­¢ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªå›æ–‡ä¸²æˆ–è€…é€šè¿‡åˆ é™¤ä¸€ä¸ªå­—ç¬¦è€Œå˜æˆå›æ–‡ä¸²çš„ã€‚è¿”å›`true`
* ä¸»å‡½æ•°è¿”å›`isValid(s, true) || isValid(s, false);`ï¼Œå› ä¸ºåˆ é™¤å·¦è¾¹çš„å­—ç¬¦ä¸åˆ é™¤å³è¾¹çš„å­—ç¬¦ä¸ä¸€æ ·ã€‚å¯èƒ½åˆ é™¤å·¦è¾¹å­—ç¬¦å¾—åˆ°å›æ–‡ä¸²ä¹Ÿå¯èƒ½æ˜¯åˆ é™¤å³è¾¹å­—ç¬¦ï¼Œæ‰€ä»¥ç”¨æˆ–çš„é€»è¾‘ã€‚
* æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚

è¿è¡Œç»“æœï¼š

* æ‰§è¡Œç”¨æ—¶ :9 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†75.64%çš„ç”¨æˆ·
* å†…å­˜æ¶ˆè€— :42.2 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†5.09%çš„ç”¨æˆ·

##### 2.åŒæŒ‡é’ˆï¼ˆå®˜æ–¹è§£æ³•ï¼‰

```java
public boolean validPalindrome2(String s) {
        for(int i = 0, j = s.length() - 1; i < j; i++, j--){
            if(s.charAt(i) != s.charAt(j)){
                // ç¬¬ä¸€æ¬¡å‡ºç°ä¸ç­‰çš„æƒ…å†µï¼Œåˆ å·¦è¾¹å…ƒç´ æˆ–è€…åˆ å³è¾¹å…ƒç´ å†æ£€æŸ¥å‰©ä½™å…ƒç´ æ˜¯å¦ä¸ºå›æ–‡
                return isPalindrome(s, i + 1, j) || isPalindrome(s, i, j - 1);
            }
        }
        //å¾ªç¯ä¸­æ²¡æœ‰å‡ºç°å·¦å³ä¸¤è¾¹ä¸ç›¸ç­‰çš„æƒ…å†µï¼Œä¸éœ€è¦åˆ é™¤å°±æ˜¯å›æ–‡ï¼Œè¿”å›true
        return true;
    }

    private boolean isPalindrome(String s, int lo, int hi){
        for(; lo < hi; lo++, hi--){
            if(s.charAt(lo) != s.charAt(hi))
                return false;
        }
        return true;
    }
```

æ€è·¯åˆ†æï¼š

* å¤§ä½“æ€è·¯ä¸æ–¹æ³•ä¸€ä¸€è‡´ã€‚åªæ˜¯è¿™é‡Œåˆ é™¤å·¦è¾¹çš„å­—ç¬¦ä¸åˆ é™¤å³è¾¹çš„å­—ç¬¦çš„å¤„ç†æ–¹å¼æ˜¯é€šè¿‡ç§»åŠ¨æŒ‡é’ˆæ¥å®Œæˆã€‚
* è¾…åŠ©å‡½æ•°`boolean isPalindrome(String s, int lo, int hi)`è¡¨ç¤º`[lo, hi]`çš„å­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²ï¼Œè¿™é‡Œå°±æ˜¯ç®€å•çš„åŒæŒ‡é’ˆç§»åŠ¨ã€‚
* ä¸»å‡½æ•°ä¸­ä¹Ÿæ˜¯ä½¿ç”¨åŒæŒ‡é’ˆçš„ç§»åŠ¨ï¼Œå½“ç¬¬ä¸€æ¬¡é‡åˆ°å¯¹åº”ä½ç½®ä¸ç›¸ç­‰çš„å­—ç¬¦æ—¶ï¼Œå°±è¿”å›`isPalindrome(s, i + 1, j) || isPalindrome(s, i, j - 1)`ã€‚è¿™é‡Œé€šè¿‡ä¿®æ”¹ä¼ å…¥çš„ç´¢å¼•å®å‚å®ç°äº†åˆ é™¤å·¦è¾¹çš„å­—ç¬¦ä¸åˆ é™¤å³è¾¹çš„å­—ç¬¦ã€‚åˆ é™¤å·¦è¾¹å­—ç¬¦ä¼ å…¥`i + 1`ï¼Œåˆ é™¤å³è¾¹å­—ç¬¦ä¼ å…¥`j - 1`ï¼ŒåŒæ ·ä½¿ç”¨é€»è¾‘æˆ–ã€‚
* æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ã€‚

è¿è¡Œç»“æœï¼š

* æ‰§è¡Œç”¨æ—¶ :9 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†76.34%çš„ç”¨æˆ·
* å†…å­˜æ¶ˆè€— :42.2 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†5.09%çš„ç”¨æˆ·

æ›´å¤šLeetCodeé¢˜è§£è¯·çœ‹æˆ‘çš„[github](https://github.com/ustcyyw/yyw_algorithm)ï¼Œåœ°å€https://github.com/ustcyyw/yyw_algorithmã€‚è¿˜æœ‰åˆ«çš„å°é¡¹ç›®ä¹Ÿå¾ˆå¥½ç©~å‘å¾®æ±‚ä¸ªå°æ˜Ÿæ˜ŸğŸ’–