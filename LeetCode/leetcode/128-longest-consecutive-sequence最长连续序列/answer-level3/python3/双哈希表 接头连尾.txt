**æ€è·¯**:ä¸¤ä¸ªhashçš„keyéƒ½æ˜¯æ•°å­— ä¸€ä¸ªhashç”¨æ¥è¡¨ç¤ºä»¥keyä½œä¸ºè¿ç»­æ•°å­—æ®µçš„å¤´æ—¶æ•°å­—æ®µçš„æœ€å¤§é•¿åº¦ å¦ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºkæ‰€åœ¨çš„æœ€å¤§è¿ç»­æ•°å­—æ®µçš„æœ€å°çš„æ•°å­— åœ¨éå†numsçš„å€¼æ—¶ åŒæ—¶æ›´æ–°ä¸¤ä¸ªhashçš„çŠ¶æ€
**æ³¨æ„**:æœ¬äººèœé¸¡ è¿™ç§æ–¹æ³•æ•ˆæœä¸ç®—æ˜¯ç‰¹åˆ«å¥½ ä¸»è¦çš„è¯­å¥éƒ½æ·»åŠ äº†æ³¨é‡Š ä»¥ä¸‹ä»£ç ä»…ä¾›å‚è€ƒ è¿˜è¯·å¤§å®¶å¤šå¤šæŒ‡æ•™
```python []
class Solution:
	def longestConsecutive(self,nums):
		if not nums: #å¾ˆæç«¯çš„æƒ…å†µ
			return 0
		situ=dict() #å‡è®¾nums[i]åœ¨ä¸€ä¸ªè¿ç»­çš„æ•°å­—æ®µä¸­ situè¿™ä¸ªdictçš„é”®è¡¨ç¤ºçš„æ˜¯nums[i]è¿™ä¸ªæ•°å­— å€¼è¡¨ç¤ºçš„æ˜¯è¯¥æ•°å­—æ‰€åœ¨æ•°å­—æ®µçš„æœ€å°æ•°å­—çš„å€¼
		cnt=dict() #cntè¿™ä¸ªdictçš„é”®è¡¨ç¤ºçš„ä¹Ÿæ˜¯numsä¸­çš„ä»»æ„æ•°å­— å€¼è¡¨ç¤ºçš„æ˜¯ä»¥è¯¥æ•°å­—ä¸ºå¤´çš„è¿ç»­æ•°å­—ä¸²çš„æœ€å¤§é•¿åº¦
		ans=1 #è¡¨ç¤ºç»“æœ å› ä¸ºæç«¯æƒ…å†µå·²ç»è¢«å¤„ç†æ‰äº† æ‰€ä»¥å¯ä»¥ç›´æ¥åˆå§‹åŒ–ä¸º1
		for i in nums: #éå†numsä¸­çš„å„ä¸ªæ•°å­—
			if situ.get(i,None) is None:
				situ[i]=i #åˆå§‹åŒ– è‡ªå·±å°±æ˜¯ä¸€ä¸ªè¿ç»­çš„æ•°å­—æ®µ æœ€å°æ•°å­—çš„å€¼å½“ç„¶å°±æ˜¯è‡ªå·±äº†
				cnt[i]=1 #åˆå§‹åŒ– å½“å‰æ•°å­—æ®µåªæœ‰è‡ªå·±ä¸€ä¸ªæ•°å­—
				if situ.get(i+1,None) is not None: #è¯´æ˜å½“å‰èŠ‚ç‚¹åé¢è·Ÿç€å°¾å·´
					cnt[i]+=cnt[i+1] #æ›´æ–° åŠ ä¸Šåé¢å°¾å·´çš„è¿ç»­æ•°å­—ä¸²çš„ä¸ªæ•°
					if cnt[i]>ans: #è¿‡ç¨‹å¤„ç†1. åœ¨è¿‡ç¨‹ä¸­å°±å°½é‡åœ°å»å¤„ç†æœ€å¤§å€¼çš„é—®é¢˜
						ans=cnt[i]
					situ[i+1]=i #æ›´æ–° ä¸ºäº†ä¸‹é¢å±•ç¤ºçš„è·³è·ƒæŸ¥æ‰¾çœŸæ­£çš„å¤´åšå‡†å¤‡
				if situ.get(i-1,None) is not None: #è¯´æ˜å½“å‰èŠ‚ç‚¹å‰é¢æœ‰å¤´
					head=situ[i-1]
					while situ[head]!=head: #ä¸€ç›´å¾€å‰æ‰¾ ç›´åˆ°æ‰¾åˆ°è¿ç»­æ®µçš„çœŸæ­£çš„å¤´ ç»™ä¸€ä¸ªä¾‹å­ è§ ğŸš©
						head=situ[head] #çœŸæ­£çš„å¤´çš„å¤´æ˜¯å®ƒè‡ªå·±
					cnt[head]+=cnt[i] #æ›´æ–°
					if cnt[head]>ans: #è¿‡ç¨‹å¤„ç†2. åŒæ ·ä¹Ÿæ˜¯ä¸€æ ·çš„æƒ³æ³• åœ¨è¿‡ç¨‹ä¸­å°±å»å¤„ç†ä¸€ä¸‹æœ€å¤§å€¼çš„é—®é¢˜
						ans=cnt[head]
					situ[i]=head
		return ans
#ğŸš©å‡å¦‚å·²ç»æœ‰äº†4,5,6è¿™ä¹ˆä¸€ä¸ªè¿ç»­çš„æ•°å­—æ®µ 6->4 å…ˆæ·»åŠ ä¸€ä¸ªæ•°å­—7 æŒ‰ç…§æˆ‘çš„ä»£ç é¦–å…ˆæ˜¯7->6 ç„¶åå†æ˜¯é€šè¿‡6è¿™ä¸ªæ¡¥æ¢å®ç°äº†7->4
```
```golang []
func longestConsecutive(nums []int) int {
	if len(nums)==0 { //æç«¯æƒ…å†µ ç‰¹æ®Šå¤„ç†
		return 0
	}
	ans:=1 //æ²¡æœ‰äº†æç«¯æƒ…å†µ å°±å¯ä»¥æ”¾å¿ƒåˆå§‹åŒ–ä¸º1äº†
	situ,cnt:=make(map[int]int),map[int]int{}
	for _,v:=range nums {
		if _,ok:=situ[v];!ok {
			situ[v]=v //è‡ªå·±å°±æ˜¯
			cnt[v]=1 //åªæœ‰ä¸€ä¸ªè‡ªå·±
			if _,ok:=situ[v+1];ok {
				cnt[v]+=cnt[v+1]
				situ[v+1]=v //æ›´æ–°å°¾å·´çš„å¤´
				if cnt[v]>ans { //è¿‡ç¨‹å¤„ç†1. çœå¾—æœ€åæ¥ä¸ªmax(cnt.values()) <- è™½ç„¶golangç”¨ä¸äº†è¿™ä¿©å‡½æ•°/æ–¹æ³•
					ans=cnt[v]
				}
			}
			if _,ok:=situ[v-1];ok {
				head:=situ[v-1]
				for situ[head]!=head { //è·³è·ƒå¼å¯»æ‰¾çœŸæ­£çš„å¤´
					head=situ[head]
				}
				cnt[head]+=cnt[v]
				if cnt[head]>ans { //è¿‡ç¨‹å¤„ç†2. è·Ÿä¸Šé¢æ˜¯ä¸€æ ·çš„æƒ³æ³•
					ans=cnt[head]
				}
				situ[v]=head //æ›´æ–°
			}
		}
	}
	return ans
}
```
