### ä¸¤ç§è§£æ³•

##### 1.ç›´æ¥æ¨¡æ‹Ÿ

```java
public String gcdOfStrings(String str1, String str2) {
        int n1 = str1.length(), n2 = str2.length();
        char[] chars1 = str1.toCharArray(), chars2 = str2.toCharArray();
        int max = n1 > n2 ? maxProduct(n1, n2) : maxProduct(n2, n1);
        while(max >= 1){
            if(n1 % max == 0 && n2 % max == 0){
                if(isValid(chars1, chars1, n1, max) && isValid(chars2, chars1, n2, max))
                    return str1.substring(0, max);
            }
            max--;
        }
        return "";
    }

    private boolean isValid(char[] chars, char[] target, int n, int length){
        for(int i = 0, j = 0; i < n; i++, j = (j + 1) % length){
            if(chars[i] != target[j])
                return false;
        }
        return true;
    }

    private int maxProduct(int p, int q){
        int r = p % q;
        if(r == 0) return q;
        else return maxProduct(q, r);
    }
```

æ€è·¯åˆ†æï¼š

* é¦–å…ˆå¦‚ä½•ç¡®å®šå­ä¸²Tå¯ä»¥æ•´é™¤Sã€‚å¯¹äºSå¯ä»¥ç”±å¤šä¸ªTç»„æˆã€‚å‡å®šTçš„é•¿åº¦ä¸º`length`ï¼Œé‚£ä¹ˆSä¸­çš„å­ä¸²`[0, length - 1]`ï¼Œ`[length, 2*length - 1]`â€¦â€¦éƒ½ä¸Tç›¸ç­‰ã€‚
    * å®šä¹‰å‡½æ•°`boolean isValid(char[] chars, char[] target, int n, int length)`ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦éªŒè¯çš„å­—ç¬¦ä¸²Sï¼Œç¬¬å››ä¸ªå‚æ•°è¡¨ç¤ºTçš„é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°ç´¢å¼•0åˆ°`length - 1`çš„å­—ç¬¦æ„æˆTã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºSçš„é•¿åº¦ã€‚
    * å†…éƒ¨æ¯”è¾ƒå­—ä¸²çš„ç›¸ç­‰é€šè¿‡éå†å®Œæˆã€‚æŒ‡é’ˆ`j`æŒ‡å‘Tçš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œ`j`éœ€è¦å–æ¨¡å¾ªç¯`j = (j + 1) % length`
    * å¦‚æœSä¸­æ¯ä¸ªå­—ç¬¦éƒ½ä¸Tä¸­å¯¹åº”çš„å­—ç¬¦ç›¸ç­‰ï¼Œå¾ªç¯ç»“æŸè¿”å›`true`ï¼Œå¦åˆ™è¿‡ç¨‹ä¸­åªè¦å‡ºç°ä¸ç›¸ç­‰ï¼Œå°±ç›´æ¥è¿”å›`false`ã€‚
* ä¸»å‡½æ•°ä¸­ï¼Œé¦–å…ˆä»ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æœ€å¤§å…¬çº¦æ•°`max`æ‰¾åˆ°ã€‚é€šè¿‡è¾—è½¬ç›¸é™¤æ³•æ¥å®Œæˆã€‚
* ç„¶ååˆ¤æ–­é•¿åº¦ä¸º`max`çš„å­ä¸²æ˜¯å¦å¯ä»¥æ•´é™¤`str1`ä¸`str2`ã€‚
    * é¦–å…ˆä¿è¯`n1 % max == 0 && n2 % max == 0`ï¼ˆ`max`å¯ä»¥åˆ†åˆ«æ•´é™¤ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¦åˆ™å½“ç„¶ä¸èƒ½æ•´å‡ºå­—ç¬¦ä¸²å’¯ï¼‰
    * ç„¶åè°ƒç”¨è¾…åŠ©å‡½æ•°`isValid`è¿›è¡Œåˆ¤æ–­ã€‚
    * å¦‚æœè¯¥é•¿åº¦çš„å­ä¸²å¯ä»¥æ•´å‡ºï¼Œåˆ™è¿”å›`str1.substring(0, max);`
    * å¦‚æœä¸å¯ä»¥å°±å°†é•¿åº¦å‡å°‘1ï¼ŒçŸ¥é“é•¿åº¦ä¸º0ï¼Œå¾ªç¯ç»“æŸ
* å¾ªç¯ç»“æŸéƒ½æ²¡æœ‰è¿”å›ç»“æœï¼Œè¯´æ˜é•¿åº¦ä¸º1çš„å­ä¸²éƒ½æ²¡åŠæ³•åŒæ—¶æ•´é™¤`str1`ä¸`str2`ã€‚è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

è¿è¡Œç»“æœï¼š

* æ‰§è¡Œç”¨æ—¶ :1 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†93.98%çš„ç”¨æˆ·
* å†…å­˜æ¶ˆè€— :38.7 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†8.80%çš„ç”¨æˆ·

##### 2.å®˜æ–¹é¢˜è§£çš„è¶…å¼ºæŠ€å·§

```java
public String gcdOfStrings2(String str1, String str2) {
        String temp = str1 + str2;
        if(!temp.equals(str2 + str1))
            return "";
        int p = str1.length(), q = str2.length();
        if(p > q)
            return str1.substring(0, maxProduct(p, q));
        else
            return str1.substring(0, maxProduct(q, p));
    }

private int maxProduct(int p, int q){
        int r = p % q;
        if(r == 0) return q;
        else return maxProduct(q, r);
    }
```

æ€è·¯åˆ†æï¼š

* æœ¬é¢˜æŠ€å·§æ€§å¾ˆå¼ºï¼Œä¸çœ‹å®˜æ–¹å®Œå…¨æ²¡æœ‰æƒ³åˆ°ï¼Œè€Œä¸”è¯æ˜æœ‰äº›å¤æ‚ï¼Œè¿™é‡Œç®€å•æè¿°åã€‚å½“ä½œç»“è®ºç¨å¾®è®°ä¸‹ã€‚
* å¦‚æœ str1 + str2 ä¸ str2 + str1 ç›¸ç­‰ åˆ™ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æœ€å¤§å…¬çº¦æ•°å°±æ˜¯è§£ã€‚
* å¿…è¦æ€§ï¼š
    * str1 = m * T, str2 = n * T
    * str1 + str2 = (m + n) * T, str2 + str1 = (n + m) * Tã€‚å¯¹äºå­—ç¬¦ä¸²æ¥è¯´ç›¸ç­‰ã€‚
* å……åˆ†æ€§ï¼š
    * æ¯”å¦‚ä¸€ä¸ªé•¿åº¦ä¸º8ï¼Œä¸€ä¸ªé•¿åº¦ä¸º4ï¼Œé‚£å‡è®¾æœ€ä¼˜è§£æ˜¯2ï¼Œä¸æ˜¯4ï¼Œå¯¹äºé•¿åº¦ä¸º8çš„å¯ä»¥ç†è§£æˆï¼Œè¦æœ‰4ä¸ªè¿™æ ·çš„å‰ç¼€ï¼Œé•¿åº¦ä¸º4çš„è¦æœ‰2ä¸ªè¿™æ ·çš„å‰ç¼€ã€‚
    * ç„¶åè¿™æ—¶å€™4ä¸ªè¿™æ ·çš„å‰ç¼€ï¼Œå’Œ2ä¸ªè¿™æ ·çš„å‰ç¼€ï¼Œå®é™…ä¸Šåˆå¯ä»¥æœ‰å…±åŒçš„çº¦æ•°2æ¥åˆå¹¶ï¼Œè€Œä¸”ä¸åˆå¹¶çš„è¯å®é™…ä¸Šå°±ä¸æ˜¯æœ€ä¼˜çš„é•¿åº¦ã€‚
    * æ— è®ºä¸¤ä¸ªæ•°æœ‰å¤šå°‘çº¦æ•°çš„æƒ…å†µéƒ½å¯ä»¥è¿™æ ·ç±»æ¨åˆå¹¶ã€‚å› æ­¤æœ€ä¼˜è§£å°±æ˜¯åœ¨æœ€å¤§å…¬çº¦æ•°ï¼Œå½“ç„¶ï¼Œå‰æä½ è¦ç¡®å®šæ˜¯æœ‰è§£çš„ã€‚
* æ‰€ä»¥è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ str1 + str2ä¸str2 + str1ä¸ç›¸ç­‰è¯´æ˜æ²¡æœ‰å¯ä»¥æ•´é™¤çš„å­ä¸²ï¼Œç›´æ¥è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚å¦åˆ™å°±æ‰¾åˆ°ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„æœ€å¤§å…¬çº¦æ•°ï¼Œç„¶åè¿”å›`str1.substring(0, max)`

è¿è¡Œç»“æœï¼š

* æ‰§è¡Œç”¨æ—¶ :1 ms, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†93.98%çš„ç”¨æˆ·
* å†…å­˜æ¶ˆè€— :38.7 MB, åœ¨æ‰€æœ‰ Java æäº¤ä¸­å‡»è´¥äº†8.80%çš„ç”¨æˆ·

æ›´å¤šLeetCodeé¢˜è§£è¯·çœ‹æˆ‘çš„[github](https://github.com/ustcyyw/yyw_algorithm)ï¼Œåœ°å€https://github.com/ustcyyw/yyw_algorithmã€‚è¿˜æœ‰åˆ«çš„å°é¡¹ç›®ä¹Ÿå¾ˆå¥½ç©~å‘å¾®æ±‚ä¸ªå°æ˜Ÿæ˜ŸğŸ’–