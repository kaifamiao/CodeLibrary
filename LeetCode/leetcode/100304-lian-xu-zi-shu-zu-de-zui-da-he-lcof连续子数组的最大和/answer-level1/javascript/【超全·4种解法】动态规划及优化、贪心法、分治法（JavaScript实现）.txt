
è™½ç„¶è¿™é¢˜åœ¨ leetcode ä¸Šæ ‡æ³¨çš„æ˜¯ã€Œç®€å•ã€éš¾åº¦ï¼Œä½†æ˜¯è§£æ³•æœ‰ 4 ç§ï¼Œå¹¶ä¸”éƒ½éå¸¸å…·æœ‰ä»£è¡¨æ€§ã€‚æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„æ˜¯åŸºç¡€çš„åŠ¨æ€è§„åˆ’æ³•ã€‚

## è§£æ³• 1ï¼šåŠ¨æ€è§„åˆ’

å®šä¹‰çŠ¶æ€æ•°ç»„`dp[i]`çš„å«ä¹‰ï¼šæ•°ç»„ä¸­å…ƒç´ ä¸‹æ ‡ä¸º`[0, i]`çš„è¿ç»­å­æ•°ç»„æœ€å¤§å’Œã€‚

çŠ¶æ€è½¬ç§»çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š

-   åˆå§‹æƒ…å†µï¼š`dp[0] = nums[0]`
-   è‹¥ `nums[i] > 0`ï¼Œé‚£ä¹ˆ `dp[i] = nums[i] + dp[i - 1]`
-   è‹¥ `nums[i] <= 0`ï¼Œé‚£ä¹ˆ `dp[i] = nums[i]`

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/maximum-subarray/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-09-max-sub-sum/
/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    const dp = [];

    let res = (dp[0] = nums[0]);
    for (let i = 1; i < nums.length; ++i) {
        dp[i] = nums[i];
        if (dp[i - 1] > 0) {
            dp[i] += dp[i - 1];
        }
        res = Math.max(res, dp[i]);
    }
    return res;
};
```

æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯$O(N)$ã€‚

## è§£æ³• 2ï¼šåŸåœ°è¿›è¡ŒåŠ¨æ€è§„åˆ’

è§£æ³• 1 ä¸­å¼€è¾Ÿäº† dp æ•°ç»„ã€‚å…¶å®åœ¨åŸæ•°ç»„ä¸Šåšä¿®æ”¹ï¼Œç”¨`nums[i]`æ¥è¡¨ç¤º`dp[i]`ã€‚æ‰€ä»¥è§£æ³• 1 çš„ä»£ç å¯ä»¥ä¼˜åŒ–ä¸ºï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/maximum-subarray/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-09-max-sub-sum/
/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    let res = nums[0];
    for (let i = 1; i < nums.length; ++i) {
        if (nums[i - 1] > 0) {
            nums[i] += nums[i - 1];
        }
        res = Math.max(res, nums[i]);
    }
    return res;
};
```

ä¸ç”¨å¼€è¾Ÿé¢å¤–ç©ºé—´ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦é™ä¸º$O(1)$ã€‚

## è§£æ³• 3ï¼šè´ªå¿ƒæ³•

è´ªå¿ƒæ³•çš„é¢˜ç›®æ¯”è¾ƒå°‘è§ï¼Œè€Œä¸”ä¸€èˆ¬éƒ½æ¯”è¾ƒéš¾è¯æ˜ã€‚æœ¬é¢˜çš„è´ªå¿ƒæ³•çš„æ€è·¯æ˜¯ï¼šåœ¨å¾ªç¯ä¸­æ‰¾åˆ°ä¸æ–­æ‰¾åˆ°å½“å‰æœ€ä¼˜çš„å’Œ sumã€‚

æ³¨æ„ï¼šsum æ˜¯ `nums[i]` å’Œ `sum + nums[i]`ä¸­æœ€å¤§çš„å€¼ã€‚è¿™ç§åšæ³•ä¿è¯äº† sum æ˜¯ä¸€ç›´æ˜¯é’ˆå¯¹è¿ç»­æ•°ç»„ç®—å’Œã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/maximum-subarray/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-09-max-sub-sum/
/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    let maxSum = (sum = nums[0]);
    for (let i = 1; i < nums.length; ++i) {
        sum = Math.max(nums[i], sum + nums[i]);
        maxSum = Math.max(maxSum, sum);
    }
    return maxSum;
};
```

ç©ºé—´å¤æ‚åº¦ä¸º$O(1)$ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(N)$

## è§£æ³• 4: åˆ†æ²»æ³•

åˆ†æ²»æ³•çš„åšé¢˜æ€è·¯æ˜¯ï¼šå…ˆå°†é—®é¢˜åˆ†è§£ä¸ºå­é—®é¢˜ï¼›è§£å†³å­é—®é¢˜åï¼Œå†å°†å­é—®é¢˜åˆå¹¶ï¼Œè§£å†³ä¸»é—®é¢˜ã€‚

ä½¿ç”¨åˆ†æ²»æ³•è§£æœ¬é¢˜çš„æ€è·¯æ˜¯ï¼š

-   å°†æ•°ç»„åˆ†ä¸º 2 éƒ¨åˆ†ã€‚ä¾‹å¦‚ `[1, 2, 3, 4]` è¢«åˆ†ä¸º `[1, 2]` å’Œ `[3, 4]`
-   é€šè¿‡é€’å½’è®¡ç®—ï¼Œå¾—åˆ°å·¦å³ä¸¤éƒ¨åˆ†çš„æœ€å¤§å­åºåˆ—å’Œæ˜¯ lsumï¼Œrsum
-   ä»æ•°ç»„ä¸­é—´å¼€å§‹å‘ä¸¤è¾¹è®¡ç®—æœ€å¤§å­åºåˆ—å’Œ cross
-   è¿”å› max(lsum, cross, rsum)

æ•´ä½“è¿‡ç¨‹å¯ä»¥å‚è€ƒæ¥è‡ª [Leetcode å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/maximum-subarray/solution/zui-da-zi-xu-he-by-leetcode/)çš„å›¾ï¼š

![](https://pic.leetcode-cn.com/3aa2128a7ddcf1123454a6e5364792490c5edff62674f3cfd9c81cb7b5e8e522-file_1576478143567)

å¯ä»¥çœ‹åˆ°ï¼Œåˆ†æ²»æ³•å¯è¡Œçš„å…³é”®çš„æ˜¯ï¼šæœ€å¤§å­åºåˆ—å’Œåªå¯èƒ½å‡ºç°åœ¨å·¦å­æ•°ç»„ã€å³å­æ•°ç»„æˆ–æ¨ªè·¨å·¦å³å­æ•°ç»„ è¿™ä¸‰ç§æƒ…å†µä¸‹ã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/maximum-subarray/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-09-max-sub-sum/

/**
 * @param {number[]} nums
 * @param {number} left
 * @param {number} right
 * @param {number} mid
 * @return {number}
 */
function crossSum(nums, left, right, mid) {
    if (left === right) {
        return nums[left];
    }

    let leftMaxSum = Number.MIN_SAFE_INTEGER;
    let leftSum = 0;
    for (let i = mid; i >= left; --i) {
        leftSum += nums[i];
        leftMaxSum = Math.max(leftMaxSum, leftSum);
    }

    let rightMaxSum = Number.MIN_SAFE_INTEGER;
    let rightSum = 0;
    for (let i = mid + 1; i <= right; ++i) {
        rightSum += nums[i];
        rightMaxSum = Math.max(rightMaxSum, rightSum);
    }

    return leftMaxSum + rightMaxSum;
}

/**
 * @param {number[]} nums
 * @param {number} left
 * @param {number} right
 * @return {number}
 */
function __maxSubArray(nums, left, right) {
    if (left === right) {
        return nums[left];
    }

    const mid = Math.floor((left + right) / 2);
    const lsum = __maxSubArray(nums, left, mid);
    const rsum = __maxSubArray(nums, mid + 1, right);
    const cross = crossSum(nums, left, right, mid);

    return Math.max(lsum, rsum, cross);
}

/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    return __maxSubArray(nums, 0, nums.length - 1);
};
```

æ—¶é—´å¤æ‚åº¦æ˜¯$O(NlogN)$ã€‚ç”±äºé€’å½’è°ƒç”¨ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯$O(logN)$

## æ›´å¤šèµ„æ–™

**æ•´ç†ä¸æ˜“ï¼Œè‹¥å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªã€Œå…³æ³¨+ç‚¹èµã€ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘æ›´æ–°çš„åŠ¨åŠ›** ğŸ‘‡

-   **ğŸ“–Blogï¼š[å‰‘æŒ‡ Offer é¢˜è§£ + JS ä»£ç ](https://xxoo521.com/algorithm/)**
-   **ğŸ±Github ï¼š[https://github.com/dongyuanxin/blog](https://github.com/dongyuanxin/blog)**
-   **ğŸŒŸ å…¬ä¼—å·ï¼š[å¿ƒè°­åšå®¢](https://tva1.sinaimg.cn/large/006tNbRwly1g9xhhp50jpj31bi0hcju4.jpg)**
