ã€æ€è·¯1ã€‘
1. ç”¨vector<int>posè®°å½•ä¸‹å­—ç¬¦èµ·å§‹ä½ç½®çš„ä¸‹æ ‡ï¼Œæ±‚å‡ºç¼©æ°´æ•°ç»„é•¿åº¦;
2. è‹¥éœ€è¦è¿›è¡Œç¼©æ°´ï¼Œé‚£ä¹ˆå¯¹åŸæ¥çš„Sä»åå¾€å‰è¿›è¡Œ:
- æ ¹æ®posä¿å­˜çš„å€¼ï¼Œæ‰¾åˆ°å­—ç¬¦ä½ç½®pos[j];
- è®¡ç®—è¿™ä¸ªå­—ç¬¦é‡å¤æ¬¡æ•°cnt=pos[j+1]-pos[j]ï¼Œå³ï¼šposä¸­ä¿å­˜çš„ä¸‹ä¸€ä¸ªå­—ç¬¦èµ·ç‚¹-å½“å‰å­—ç¬¦èµ·ç‚¹;
    - æ³¨æ„ï¼šğŸ‘†å¯¹äºæœ€åä¸€ä¸ªå­—ç¬¦ï¼Œä¸ºäº†è®°å½•å…¶é‡å¤æ¬¡æ•°ï¼Œæ‰€ä»¥posä¿å­˜çš„æ—¶å€™éœ€è¦ä¿å­˜ä¸€ä¸‹S.size()å¯¹åº”çš„æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸å­˜åœ¨çš„â€œä¸‹ä¸€ä¸ªå­—ç¬¦èµ·ç‚¹â€;
- ä¿ç•™å­—ç¬¦èµ·ç‚¹ï¼Œåˆ é™¤å®ƒä¹‹åçš„cnt-1ä¸ªå­—ç¬¦;
- åœ¨pos[j]+1ä¹‹å‰æ’å…¥ä»£è¡¨é‡å¤æ¬¡æ•°çš„å­—ç¬¦cntã€‚
- ç„¶åj--æ‰¾ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œé‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°poséå†ç»“æŸã€‚

ã€ä¸‹é¢æ˜¯ä»£ç ã€‘
```
class Solution {
public:
    string compressString(string S) {
        vector<int> pos;
        int ss = (int)S.size();
        for(int i = 0; i < ss ; i++){
            if(pos.empty()){ pos.push_back(i); }
            else if(S[i] != S[i-1]){ pos.push_back(i); }
        }
        int sp = (int)pos.size(); // å¤šå°‘ä¸ªä¸åŒå­—ç¬¦
        int len = sp*2; // ç¼©æ°´åæ€»é•¿åº¦
        pos.push_back(ss); // ä¸ºäº†ç¡®å®šæœ€åä¸€ä¸ªå­—ç¬¦é‡å¤å¤šå°‘ä¸ªï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ç»“å°¾
        if(ss > len){// è‹¥åŸå­—ç¬¦ä¸²é•¿ï¼Œåˆ™éœ€è¦ç¼©æ°´å†™æ³•
            for(int j = sp-1; j >= 0; j--){ // æ‰¾åˆ°æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œä»åå¾€å‰ç½®æ¢
                int cnt = pos[j+1]-pos[j];
                S.erase(pos[j]+1, cnt-1); //ä»pos[j]+1è¿™ä¸ªä½ç½®å¼€å§‹ï¼Œåˆ é™¤cnt-1ä¸ªå­—ç¬¦
                S.insert(pos[j]+1, to_string(cnt)); //åœ¨æŒ‡å®šä½ç½®å‰é¢æ’å…¥å­—ç¬¦
            }
        }
        return S;
    }// end_compressString
};

```
ã€æ•ˆæœã€‘
æ‰§è¡Œç»“æœï¼šé€šè¿‡ æ˜¾ç¤ºè¯¦æƒ…
æ‰§è¡Œç”¨æ—¶ :12 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†86.18%çš„ç”¨æˆ·
å†…å­˜æ¶ˆè€— :8.9 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·

ã€æ€è·¯2ã€‘
è¿™æ˜¯æˆ‘æœ€åˆçš„æƒ³æ³•ï¼Œæ±‚å‡ºç¼©æ°´åçš„å­—ç¬¦ä¸²ï¼Œå†æ¯”è¾ƒï¼Œä½†æ˜¯è¶…å‡ºå†…å­˜é™åˆ¶ï¼Œå½“æ—¶æ²¡æƒ³å‡ºé—®é¢˜åœ¨å“ªå„¿ï¼Œç°åœ¨çŸ¥é“äº†ã€‚
ã€æ—§ä»£ç ã€‘
```
class Solution {
public:
    string compressString(string S) {
        string res = "";
        int cnt = 0;
        for(int i=0; S[i]; i++){
            if(res.empty()){
                cnt++;
                res.push_back(S[i]);
            }else if(S[i]==S[i-1]){
                cnt++;
            }else{
                res = res+to_string(cnt);
                cnt = 1;
                res.push_back(S[i]);
            }
        }// end_for
        res = res+to_string(cnt);
        int nres = (int)res.size();
        int ns = (int)S.size();
        res = nres<ns ? res: S;
        return res;
    }// end_compressString
};
```
ã€æ”¹è¿›ã€‘
çœ‹äº†é¢˜è§£ï¼Œå‘ç°res = res+to_string(cnt)ä¼šè¶…å‡ºå†…å­˜é™åˆ¶ï¼Œä½†æ˜¯æ”¹æˆ+=å°±ä¸ä¼šï¼š
ä¸ºä»€ä¹ˆå‘¢ï¼Ÿä»¥a=a+bå’Œa+=bä¸ºä¾‹ï¼š
- a = a + b; æ„å‘³ç€å–açš„å€¼ï¼Œå–bçš„å€¼ï¼Œ**ç„¶åæŠŠaå’Œbæ±‚å’Œçš„ç»“æœæ”¾åˆ°å¯„å­˜å™¨é‡Œ**ï¼Œå†æŠŠå¯„å­˜å™¨é‡Œçš„å€¼ç»™äº†a
- a += b;  æ„å‘³ç€å–açš„å€¼ï¼Œå–bçš„å€¼ï¼Œç„¶åæŠŠaå’Œbæ±‚å’Œçš„ç»“æœç»™äº†a

ã€æœ€ç»ˆä»£ç ã€‘
```
class Solution {
public:
    string compressString(string S) {
        string res = "";
        int cnt = 0;
        for(int i=0; S[i]; i++){
            if(res.empty()){
                cnt++;
                res.push_back(S[i]);
            }else if(S[i]==S[i-1]){
                cnt++;
            }else{
                res += to_string(cnt);
                cnt = 1;
                res.push_back(S[i]);
            }
        }// end_for
        res = res+to_string(cnt); // è¿™é‡Œå“Ÿ
        int nres = (int)res.size();
        int ns = (int)S.size();
        res = nres<ns ? res: S;
        return res;
    }// end_compressString
};

```
ã€æ•ˆæœã€‘
æ‰§è¡Œç”¨æ—¶ :8 ms, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†97.61%çš„ç”¨æˆ·
å†…å­˜æ¶ˆè€— :8.7 MB, åœ¨æ‰€æœ‰ C++ æäº¤ä¸­å‡»è´¥äº†100.00%çš„ç”¨æˆ·
