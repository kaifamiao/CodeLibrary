é¦–å…ˆç®€å•(ç”¨èƒ½æƒ³åˆ°çš„æœ€ç›´æ¥çš„æ–¹æ³•, ä¸è€ƒè™‘æ€§èƒ½)çš„æ–¹æ³•æ­£ç¡®åœ°å¾—åˆ°ç­”æ¡ˆ:

```rust
fn three_sum(nums: Vec<i32>) -> Vec<Vec<i32>> {
    // ä¸å¤Ÿä¸‰ä¸ªæ•°, ç›´æ¥è¿”å›ç©ºæ•°ç»„
    if nums.len() < 3 {
        return vec![];
    }
    
    // æ‰¾ä¸åˆ°å¤´ç»ª, å…ˆæ’ä¸ªåºå§
    let mut nums = nums.clone();
    nums.sort();
    
    // é¢˜ç›®æœ€åç‰¹åˆ«å¼ºè°ƒä¸èƒ½ç”±é‡å¤çš„ç­”æ¡ˆ, é‚£å°±ç”¨ HashSet æ¥è£…å®ƒä»¬
    let mut result = std::collections::HashSet::new();
    
    // éå†, å…ˆé€‰å®šä¸‰æ•°ä¸­çš„ç¬¬ä¸€ä¸ªæ•°çš„åæ ‡ a
    let mut a = 0;
    loop {
        // a æœ€å¤šåªèƒ½æ˜¯æ•´ä¸ªæ•°ç»„é‡Œçš„å€’æ•°ç¬¬ä¸‰ä¸ªæ•°
        if a == nums.len()-2 {
            break;
        }
        // ä¸‰æ•°ä¸­çš„ç¬¬äºŒä¸ªæ•°çš„åæ ‡ b, ä» a åé¢å¼€å§‹
        let mut b = a + 1;
        loop {
            // b æœ€å¤šæ˜¯å€’æ•°ç¬¬äºŒæ•°
            if b == nums.len()-1 {
                break;
            }
            // c ä» b åé¢å¼€å§‹
            let mut c = b + 1;
            loop {
                // c æœ€å¤šåˆ°å€’æ•°ç¬¬ä¸€
                if c == nums.len() {
                    break;
                }
                // å¦‚æœä¸‰æ•°ç›¸åŠ å¾—åˆ° 0, å°±æŠŠ å®ƒä»¬åŠ åˆ°ç»“æœé‡Œ. æ³¨æ„ a, b, c åªæ˜¯åæ ‡
                if nums[a] + nums[b] + nums[c] == 0 {
                    let t = vec![nums[a], nums[b], nums[c]];
                    result.insert(t);
                }
                c += 1;
            }
            b += 1;
        }
        a += 1;
    }
    // ä» HashSet è½¬æˆ Vec, æ»¡è¶³é¢˜ç›®
    result.into_iter().collect::<Vec<_>>()
}

```

æˆ‘ä»å®˜æ–¹æœ€é•¿çš„æµ‹è¯•ç”¨ä¾‹é‡Œé¢æˆªå–äº†ä¸€æ®µ(å› ä¸ºå®åœ¨å¤ªé•¿äº†), è·‘å‡ºæ¥çš„ç»“æœæ˜¯ 237ms.

ç°åœ¨æˆ‘ä»¬çœ‹çœ‹èƒ½åšå“ªäº›ä¼˜åŒ–, å…ˆä»ä¸‰æ•°çš„å–å€¼èŒƒå›´å¼€å§‹å§. äºæ˜¯æˆ‘ä»¬æœ‰äº†ç¬¬äºŒç‰ˆ, åªæ˜¯åœ¨
ä¸‰æ¬¡éå†çš„ break æ¡ä»¶ä¸Šæ·»åŠ äº†ä¸€äº›.

```rust
fn three_sum(nums: Vec<i32>) -> Vec<Vec<i32>> {
    // ä¸å¤Ÿä¸‰ä¸ªæ•°, ç›´æ¥è¿”å›ç©ºæ•°ç»„
    if nums.len() < 3 {
        return vec![];
    }
    
    // æ‰¾ä¸åˆ°å¤´ç»ª, å…ˆæ’ä¸ªåºå§
    let mut nums = nums.clone();
    nums.sort();
    
    // é¢˜ç›®æœ€åç‰¹åˆ«å¼ºè°ƒä¸èƒ½ç”±é‡å¤çš„ç­”æ¡ˆ, é‚£å°±ç”¨ HashSet æ¥è£…å®ƒä»¬
    let mut result = std::collections::HashSet::new();
    
    // éå†, å…ˆé€‰å®šä¸‰æ•°ä¸­çš„ç¬¬ä¸€ä¸ªæ•°çš„åæ ‡ a
    let mut a = 0;
    loop {
        // a æœ€å¤šåªèƒ½æ˜¯æ•´ä¸ªæ•°ç»„é‡Œçš„å€’æ•°ç¬¬ä¸‰ä¸ªæ•°. 
        // è¦æ»¡è¶³ nums[a]+nums[b]+nums[c]==0 çš„è¯, nums[a] ä¸€å®šå°äºç­‰äº 0
        if a == nums.len()-2 || !(nums[a] <= 0) {
            break;
        }
        // ä¸‰æ•°ä¸­çš„ç¬¬äºŒä¸ªæ•°çš„åæ ‡ b, ä» a åé¢å¼€å§‹
        let mut b = a + 1;
        loop {
            // b æœ€å¤šæ˜¯å€’æ•°ç¬¬äºŒæ•°
            // è¦æ»¡è¶³ nums[a]+nums[b]+nums[c]==0 çš„è¯,
            // nums[a]+nums[b] ä¸€å®šå°äºç­‰äº 0
            if b == nums.len()-1 || !((nums[a] + nums[b]) <= 0) {
                break;
            }
            // c ä» b åé¢å¼€å§‹
            let mut c = b + 1;
            loop {
                // c æœ€å¤šåˆ°å€’æ•°ç¬¬ä¸€
                // è¦æ»¡è¶³ nums[a]+nums[b]+nums[c]==0 çš„è¯, nums[c] ä¸€å®šå¤§äºç­‰äº 0
                if c == nums.len() || !(nums[c] >= 0) {
                    break;
                }
                // å¦‚æœä¸‰æ•°ç›¸åŠ å¾—åˆ° 0, å°±æŠŠ å®ƒä»¬åŠ åˆ°ç»“æœé‡Œ
                if nums[a] + nums[b] + nums[c] == 0 {
                    let t = vec![nums[a], nums[b], nums[c]];
                    result.insert(t);
                }
                c += 1;
            }
            b += 1;
        }
        a += 1;
    }
    // ä» HashSet è½¬æˆ Vec, æ»¡è¶³é¢˜ç›®
    result.into_iter().collect::<Vec<_>>()
}
```

è¿™æ ·, åªæ˜¯ä¿®æ”¹äº†å–å€¼èŒƒå›´, æˆ‘ä»¬çš„ç¨‹åºæ‰§è¡Œæ—¶é—´å°±å‡å°‘åˆ°äº† 50ms.

è®©æˆ‘ä»¬æƒ³æƒ³è¿˜èƒ½æ€ä¹ˆä¼˜åŒ–. å¯¹äºç¬¬ä¸‰ä¸ªæ•°, å‰ä¸¤ä¸ªæ•°ç¡®å®šçš„è¯, ç¬¬ä¸‰ä¸ªæ•°ä¹Ÿå°±å”¯ä¸€ç¡®å®š
äº†, æ‰€ä»¥å¯ä»¥åœ¨æ‰¾åˆ°ç¬¬ä¸‰ä¸ªæ•°ä¹‹åå°± break.

```rust
...
                // å¦‚æœä¸‰æ•°ç›¸åŠ å¾—åˆ° 0, å°±æŠŠ å®ƒä»¬åŠ åˆ°ç»“æœé‡Œ
                if nums[a] + nums[b] + nums[c] == 0 {
                    let t = vec![nums[a], nums[b], nums[c]];
                    result.insert(t);
                    break;
                }
...
```

è¿™ä¸€æ”¹åŠ¨å‡å°‘äº† 4ms.

åˆæƒ³åˆ°, æˆ‘ä»¬å‰ä¸¤ä¸ªæ•°æ˜¯ä»å·¦å¾€å³éå†, é‚£ä¹ˆç¬¬ä¸‰ä¸ªæ•°ä»å³å¾€å·¦éå†, ä¼šä¸ä¼šæ›´å®¹æ˜“åŒ¹é…
åˆ°å‘¢, è¯•ç€æ”¹åŠ¨ä¸€ä¸‹ç¬¬ä¸‰ä¸ªæ•°çš„éå†æ–¹å‘:

```rust
            // c ä»æœ€åå¼€å§‹, ä¸€ç›´åˆ° b + 1
            let mut c = nums.len()-1;
            loop {
                // c æœ€å¤šåˆ° b å³è¾¹
                if c == b || !(nums[c] >= 0) {
                    break;
                }
                // å¦‚æœä¸‰æ•°ç›¸åŠ å¾—åˆ° 0, å°±æŠŠ å®ƒä»¬åŠ åˆ°ç»“æœé‡Œ
                if nums[a] + nums[b] + nums[c] == 0 {
                    let t = vec![nums[a], nums[b], nums[c]];
                    result.insert(t);
                    break;
                }
                // ä»å³å¾€å·¦
                c -= 1;
            }
```

ç»“æœå‡ºäººæ„æ–™, æ—¶é—´å¢åŠ åˆ°äº† 100ms. çœ‹æ¥è¿™ä¸ªæ–¹æ³•æ²¡ç”¨, æˆ‘ä»¬æ”¹å›å».

æˆ‘ä»¬ç°åœ¨æœ€è€—æ—¶é—´çš„åº”è¯¥å°±æ˜¯æ‰¾åˆ°ç¬¬ä¸‰ä¸ªæ•°çš„è¿‡ç¨‹äº†, äº‹å®ä¸Š, å¯¹äºä»»æ„çš„å‰ä¸¤ä¸ªæ•°, æˆ‘ä»¬
éƒ½èƒ½ç¡®å®šç¬¬ä¸‰ä¸ªæ•°, ä¸ç¡®å®šçš„åªæ˜¯è¿™ç¬¬ä¸‰ä¸ªæ•°åœ¨ä¸åœ¨é›†åˆé‡Œé¢. åˆ¤æ–­ä¸€ä¸ªæ•°åœ¨ä¸åœ¨ä¸€ä¸ªé›†åˆ
é‡Œé¢, å°±æ˜¯å…¸å‹çš„æŸ¥è¯¢é—®é¢˜. 

ç¿»å‡º https://doc.rust-lang.org/std/collections/index.html , å³ Rust æ–‡
æ¡£é‡Œå¯¹äºä¸åŒé›†åˆç±»å‹çš„æ€§èƒ½æ¯”è¾ƒ, æˆ‘ä»¬çœ‹åˆ° HashMap æœ‰ç€åª²ç¾ Vec çš„æŸ¥è¯¢æ€§èƒ½, è€Œä¸”
HashMap å¯ä»¥ä½¿ç”¨ä»»æ„çš„å€¼ä½œä¸º key.(Vecåªèƒ½ç”¨ä»0é€’å¢çš„ usize ä½œä¸ºkey). 

ç»“æœå¾ˆè®©äººæƒŠå–œ, åªèŠ±äº† 9.6ms.

æœ€ç»ˆå®Œæ•´ä»£ç :

```rust
fn three_sum(nums: Vec<i32>) -> Vec<Vec<i32>> {
    // ä¸å¤Ÿä¸‰ä¸ªæ•°, ç›´æ¥è¿”å›ç©ºæ•°ç»„
    if nums.len() < 3 {
        return vec![];
    }
    
    // æ‰¾ä¸åˆ°å¤´ç»ª, å…ˆæ’ä¸ªåºå§
    let mut nums = nums.clone();
    nums.sort();
    
    let mut thirds = std::collections::HashMap::new();
    {
        let mut c = nums.len()-1;
        loop {
            // æ³¨æ„è¿™é‡Œæˆ‘ä»¬è¦ä¸€ç›´è·å–åˆ° 0 ä½ç½®çš„å€¼, ä½† usize æ˜¯æ²¡æœ‰è´Ÿæ•°çš„
            if c == usize::max_value() || !(nums[c] >= 0) {
                break;
            }
            let entry = thirds.entry(nums[c]).or_insert(0);
            *entry += 1;
            c -= 1;
        }
    }
    
    // é¢˜ç›®æœ€åç‰¹åˆ«å¼ºè°ƒä¸èƒ½ç”±é‡å¤çš„ç­”æ¡ˆ, é‚£å°±ç”¨ HashSet æ¥è£…å®ƒä»¬
    let mut result = std::collections::HashSet::new();
    
    // éå†, å…ˆé€‰å®šä¸‰æ•°ä¸­çš„ç¬¬ä¸€ä¸ªæ•°çš„åæ ‡ a
    let mut a = 0;
    loop {
        // a æœ€å¤šåªèƒ½æ˜¯æ•´ä¸ªæ•°ç»„é‡Œçš„å€’æ•°ç¬¬ä¸‰ä¸ªæ•°
        if a == nums.len()-2 || !(nums[a] <= 0) {
            break;
        }
        // ä¸‰æ•°ä¸­çš„ç¬¬äºŒä¸ªæ•°çš„åæ ‡ b, ä» a åé¢å¼€å§‹
        let mut b = a + 1;
        loop {
            // b æœ€å¤šæ˜¯å€’æ•°ç¬¬äºŒæ•°
            if b == nums.len()-1 || !((nums[a] + nums[b]) <= 0) {
                break;
            }
            // çœ‹çœ‹èƒ½å’Œå‰ä¸¤ä¸ªæ•°é…å¯¹çš„ç¬¬ä¸‰ä¸ªæ•°, åœ¨ä¸åœ¨é›†åˆé‡Œé¢
            let third = -(nums[a] + nums[b]);
            match thirds.get(&third) {
                // æ¯ä¸ªæ•°å‡ºç°çš„æ¬¡æ•°ä¸èƒ½è¶…è¿‡å…¶åœ¨é›†åˆé‡Œé¢æ€»æ•°
                Some(&n) => {
                    let mut t = vec![nums[a], nums[b], third];
                    t.sort();
                    if t.clone().into_iter().filter(|&x| x == third).count() <= n {
                        result.insert(t);
                    }
                },
                None => (),
            }
            b += 1;
        }
        a += 1;
    }
    // ä» HashSet è½¬æˆ Vec, æ»¡è¶³é¢˜ç›®
    result.into_iter().collect::<Vec<_>>()
}
```

æœ€ç»ˆæäº¤å, è·‘å®Œå…¨éƒ¨æµ‹è¯•ç”¨ä¾‹ç”¨æ—¶ 534ms. è¿˜æ˜¯æ¯”è¾ƒæ…¢çš„.

# ï¼ˆçœ‹äº†å¤§ç¥çš„æäº¤ä¹‹åæ‰¾åˆ°çš„ï¼‰ç»ˆæä¼˜åŒ–æ–¹æ¡ˆï¼Œ é‡‡ç”¨åŒæŒ‡é’ˆæŸ¥æ‰¾ç¬¬äºŒå’Œç¬¬ä¸‰æ•°ï¼Œ é¡ºä¾¿å»é‡

```rust

fn three_sum(nums: Vec<i32>) -> Vec<Vec<i32>> {
    // ä¸å¤Ÿä¸‰ä¸ªæ•°, ç›´æ¥è¿”å›ç©ºæ•°ç»„
    if nums.len() < 3 {
        return vec![];
    }
    
    // æ‰¾ä¸åˆ°å¤´ç»ª, å…ˆæ’ä¸ªåºå§
    let mut nums = nums.clone();
    nums.sort();
    
    let mut result = vec![];
    
    // éå†, å…ˆé€‰å®šä¸‰æ•°ä¸­çš„ç¬¬ä¸€ä¸ªæ•°çš„åæ ‡ a
    let mut a = 0;
    loop {
        // a æœ€å¤šåªèƒ½æ˜¯æ•´ä¸ªæ•°ç»„é‡Œçš„å€’æ•°ç¬¬ä¸‰ä¸ªæ•°
        if a == nums.len()-2 || !(nums[a] <= 0) {
            break;
        }
        if a > 0 && nums[a] == nums[a-1] {
            //é‡å¤çš„æ•°å­—ï¼Œ ç»§ç»­
            a += 1;
            continue;
        }
        // åŒæŒ‡é’ˆå¯¹æ’ï¼Œ å›åˆ°ä¸¤æ•°ä¹‹å’Œçš„é—®é¢˜
        let mut b = a + 1;
        let mut c = nums.len()-1;
        loop {
            if b >= c {
                // ç›¸æ’ï¼Œæ‰¾ä¸åˆ°èƒ½å’Œaç»„åˆçš„bï¼Œcï¼Œ ç»“æŸå¾ªç¯
                break;
            }
            let sum = nums[a] + nums[b] + nums[c];
            if sum == 0 {
                // æ‰¾åˆ°äº†, åŠ åˆ°ç»“æœé‡Œ
                result.push(vec![nums[a], nums[b], nums[c]]);
                // è·³è¿‡é‡å¤çš„ç»“æœ
                while b < c && nums[b] == nums[b+1] {
                    b += 1;
                }
                while b < c && nums[c] == nums[c-1] {
                    c -= 1;
                } 
                // å¯»æ‰¾åˆ«çš„ç»„åˆ
                b += 1;
                c -= 1;
                continue;
            } else if sum < 0 {
                // å¤ªå°äº†, b ğŸ‘‰ ç§»åŠ¨
                b += 1;
                continue;
            } else {
                // å¤ªå¤§ï¼Œ c ğŸ‘ˆ ç§»åŠ¨
                c -= 1;
                continue;
            }
        }
        a += 1;
    }
    result
}
```

è¿™ä¸ªæ–¹æ¡ˆè·‘å®Œå…¨éƒ¨æµ‹è¯•ç”¨ä¾‹åªéœ€è¦ 24ms ã€‚