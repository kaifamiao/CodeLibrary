### è§£é¢˜æ€è·¯
åˆ©ç”¨JavaScriptæ•°ç»„æ¥è§£å†³æ­¤é¢˜ã€‚æ­¤è§£æ³•æœªé‡‡ç”¨jså†…ç½®çš„æ•°ç»„apiï¼Œæ‰€ä»¥æ—¶é—´æŸè€—ä¸Šä¼šç›¸å¯¹è¾ƒä½ã€‚
å¦‚æœæƒ³è¦ç”¨åŸç”Ÿæ¨¡ä»¿jsä¸­pushã€popç­‰æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦æ¸…æ¥šè¿™äº›æ“ä½œçš„è¿è¡Œæ–¹å¼ä»¥åŠå“åº”è¿”å›å€¼ã€‚
é¢˜è§£æœ€åæœ‰å¯¹jså†…ç½®æ•°ç»„apiçš„ä¸€ä¸ªå°å°çš„æ€§èƒ½åˆ†æ

### ä»£ç 

```javascript
/**
 * Initialize your data structure here.
 */
var MyStack = function() {
    this.stack = [];
};

/**
 * Push element x onto stack. 
 * @param {number} x
 * @return {void}
 */
MyStack.prototype.push = function(x) {
    this.stack[this.stack.length] = x;
    return this.stack.length;
};

/**
 * Removes the element on top of the stack and returns that element.
 * @return {number}
 */
MyStack.prototype.pop = function() {
    if(this.empty()) {
        return undefined;
    }
    let popEle = this.stack[this.stack.length-1];
    this.stack.length = this.stack.length - 1;
    return popEle;
};

/**
 * Get the top element.
 * @return {number}
 */
MyStack.prototype.top = function() {
    return this.stack[this.stack.length - 1];
};

/**
 * Returns whether the stack is empty.
 * @return {boolean}
 */
MyStack.prototype.empty = function() {
    if(this.stack.length === 0) {
        return true;
    }else return false;
};

/**
 * Your MyStack object will be instantiated and called as such:
 * var obj = new MyStack()
 * obj.push(x)
 * var param_2 = obj.pop()
 * var param_3 = obj.top()
 * var param_4 = obj.empty()
 */
```

### ä¸ªäººæ€§èƒ½æµ‹è¯•ï¼š

é¦–å…ˆæˆ‘ä»¬åˆ†åˆ«å¯¹popå’Œunshiftè¿›è¡Œä¸‹æ€§èƒ½æµ‹è¯•:

```javascript
let arr = [],  	
s = +new Date;  // å°†æ—¥æœŸå¯¹è±¡è½¬æ¢æˆ number ç±»å‹

// é¡ºä¾¿æµ‹è¯•ä¸‹ push
for (let i = 0; i < 70000; i++) {
arr.push(i);    // å…¥æ ˆæ“ä½œå¡«å……è¯¥æ•°ç»„
}

console.log(+new Date - s);    // å·®å€¼æ˜¾ç¤ºæ‰§è¡Œæ—¶é—´

// pop æµ‹è¯•
s = +new Date;


for(let i = 0; i < 70000; i++) {
arr.pop();
}

console.log(+new Date - s);

// unshift æµ‹è¯•
s = +new Date;

for(let i = 0; i < 70000; i++) {
arr.unshift(i);
}

console.log(+new Date - s);

// å®³é¡ºä¾¿ä¹Ÿæµ‹è¯•ä¸€ä¸‹ shift å§
s = +new Date;


for(let i = 0; i < 70000; i++) {
arr.shift();
}

console.log(+new Date - s);

	
		
```
![image-20200227162406796.png](https://pic.leetcode-cn.com/2c1cf30c110011689d51a182b9a34a808749e8dab79354bf3ce61efa960b68f3-image-20200227162406796.png)




ç”±æ­¤å¯è§ shift å’Œ unshift çœŸçš„å¾ˆä¼¤æ€§èƒ½ï¼æ¯” pop å’Œ push æ…¢äº†ç™¾å€ï¼

æˆ‘ä»¬å¯ä»¥æ¥æƒ³æƒ³ä¸ºä»€ä¹ˆ...

shiftå’Œunshiftæ˜¯å¯¹äºæ•°ç»„çš„é¦–å…ƒç´ è¿›è¡Œæ“ä½œçš„ï¼Œç”±äºæ•°ç»„æ˜¯ä¸ªå¼•ç”¨ç±»å‹çš„æ•°æ®ç±»å‹ï¼Œå®ƒåœ¨å˜é‡èµ‹äºˆçš„æ—¶å€™å…¶å®æ˜¯èµ‹äºˆäº†ä¸€ä¸ªæŒ‡é’ˆï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬é¦–å…ƒç´ å‡ºåˆ—äº†æˆ–è€…æœ‰å…ƒç´ å…¥åˆ—äº†ï¼Œæˆ‘ä»¬å˜é‡åæ‰€æŒ‚é’©çš„æŒ‡é’ˆæ˜¯**ä¸ä¼šå˜çš„**ï¼Œæ‰€ä»¥è¯´æ¯æ¬¡å¯¹é¦–å…ƒç´ æ“ä½œåé¢çš„å…ƒç´ éƒ½ä¼šå—åˆ°å½±å“ï¼Œéƒ½ä¼šæœ‰ä¸€æ­¥æ“ä½œã€‚

è€Œ pop å’Œ push è¿™æ ·çš„æ“ä½œï¼Œæ¯æ¬¡åªä¼šå¯¹å°¾å…ƒç´ è¿›è¡Œæ“ä½œï¼Œä¸ä¼šå¯¹æ•´ä¸ªæ•°ç»„çš„å…ƒç´ æœ‰å½±å“ï¼Œå³ï¼š

```javascript
// æ¨¡æ‹Ÿå…¥æ ˆæ“ä½œï¼ˆpushï¼‰
Array.prototype.push = function () {
    for (var i = 0; i< arguments.length; i++) {
        this[this.length] = arguments[i];
    }
    return this.length;
}
```

ä¸Šé¢æ˜¯æˆ‘ç”¨ JavaScript æ¨¡æ‹Ÿçš„æ“ä½œï¼Œè®©æˆ‘ä»¬ä» Chrome æºç æ¥çœ‹çœ‹æ–¹æ³•çš„å…·ä½“å®ç°ï¼š

åœ¨ Chrome ä¸­ï¼Œpushæ–¹æ³•çš„å®ç°æ˜¯ç”¨çš„æ±‡ç¼–ï¼Œè€Œpopã€unshiftä»¥åŠshiftåˆ™æ˜¯æ˜¯ç”¨çš„ C++ï¼Œè¿™é‡Œå°±å•ç‹¬æ‹å‡ºunshiftçš„æ¥çœ‹çœ‹ï¼š

```c++
intinsertion_index=add_position==AT_START?0:length;
// Copy the arguments to the start.
Subclass::CopyArguments(args,backing_store,add_size,1,insertion_index);
// Set the length.
receiver->set_length(Smi::FromInt(new_length));

/* 
	å…ˆåˆ¤æ–­å®¹é‡æ˜¯å¦è¶³å¤Ÿã€‚
	å¦‚æœä¸å¤Ÿï¼Œå°†å®¹é‡æ‰©å±•ï¼Œç„¶åæŠŠè€å…ƒç´ ç§»åˆ°æ–°çš„å†…å­˜ç©ºé—´åç§»ä¸ºunshiftå…ƒç´ ä¸ªæ•°çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´è¦è…¾å‡ºèµ·å§‹çš„ç©ºé—´æ”¾unshfitä¼ è¿›æ¥çš„å…ƒç´ 
	å¦‚æœç©ºé—´è¶³å¤Ÿäº†ï¼Œåˆ™ç›´æ¥æ‰§è¡Œmemmoveç§»åŠ¨å†…å­˜ç©ºé—´ï¼Œæœ€åå†æŠŠunshifä¼ è¿›æ¥çš„å‚æ•°copyåˆ°å¼€å§‹çš„ä½ç½®ã€‚
	æœ€åæ›´æ–° array length
*/
```



å›åˆ° JavaScriptï¼Œåˆšåˆšæˆ‘ä»¬çœ‹åˆ°äº† unshift æ˜¯ååˆ†æŸä¼¤æ€§èƒ½çš„ï¼Œç‰¹åˆ«æ˜¯å¯¹å¤§æ•°ç»„ã€‚é‚£å¦‚æœæˆ‘ä»¬ä¸€å®šè¦å®ç°æ˜¯ç”¨ unshift è¿™æ ·çš„å…¥é˜Ÿæ–¹å¼å‘¢ï¼Ÿæœ‰æ²¡æœ‰å…¶ä»–ä»€ä¹ˆæ–¹æ³•ï¼Ÿ

è¿˜è®°å¾— JavaScript é‡Œæœ‰ä¸ªå« reverse çš„å†…ç½®æ–¹æ³•å—ğŸ˜†

æˆ‘ä»¬æ˜¯ä¸æ˜¯ç”¨ push è¿›è¡Œå…¥æ ˆï¼Œç„¶åç”¨ reverse æ¥è¿›è¡Œæ•°ç»„å…¨åè½¬æ˜¯ä¸æ˜¯å°±æ˜¯å®ç°äº†é˜Ÿåˆ—å…¥é˜Ÿï¼Ÿæ˜¯ä¸æ˜¯æœ‰å†…å‘³äº†ğŸ˜œ

æ¥ï¼æµ‹è¯•ä¸€ä¸‹ reverse çš„æ€§èƒ½ï¼š

```javascript
    var arr = [ ], s = +new Date;

    for (var i = 0; i < 50000; i++) {
      arr.push(i);
    }
    arr.reverse();

    console.log(+new Date - s);
```

![image-20200227180720738.png](https://pic.leetcode-cn.com/305405bbe86b1fc527aed751d3ccf4009fdd5791c78a73ae4a052ec237699eb8-image-20200227180720738.png)


â€‹	å¯ä»¥çœ‹å‡º reverse æ€§èƒ½æ˜¯æé«˜çš„ğŸ˜®