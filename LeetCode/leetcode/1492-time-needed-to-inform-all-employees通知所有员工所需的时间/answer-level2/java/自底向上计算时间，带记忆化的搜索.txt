### è§£æ³•

```java
	public int numOfMinutes(int n, int headID, int[] manager, int[] informTime) {
        int[] count = new int[n]; // è¡¨ç¤ºåˆ°é€šçŸ¥åˆ°ç¬¬iä¸ªå‘˜å·¥éœ€è¦å‡ åˆ†é’Ÿ
        Arrays.fill(count, -1);
        count[headID] = 0;
        int res = 0;
        for (int i = 0; i < n; i++) {
            if (count[i] != -1)
                continue;
            int p = manager[i]; //p ç¬¬ i åå‘˜å·¥çš„ç›´å±è´Ÿè´£äºº
            int sum = informTime[p];
            while (count[p] == -1) {
                p = manager[p];
                sum += informTime[p];
            }
            count[i] = sum + count[p];
            res = Math.max(res, count[i]);
            p = manager[i];
            sum = count[i];
            while (count[p] == -1) {
                sum -= informTime[p];
                count[p] = sum;
            }
        }
        return res;
    }
```

æ€è·¯åˆ†æï¼š

* é¦–å…ˆç†è§£é¢˜ç›®ä¸­æ ‡å·çš„æ„ä¹‰`manager[i]`è¡¨ç¤º`i`è¿™åå‘˜å·¥çš„ä¸Šçº§çš„æ ‡å·ä¸º`manager[i]`ï¼Œ`manager`æ•°ç»„çš„å€¼çš„èŒƒå›´æ˜¯`0-n-1`ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªä¾‹å¤–`manager[headID]=-1`è¡¨ç¤ºç¼–å·ä¸º`headID`çš„å‘˜å·¥æ˜¯æœ€é«˜é¢†å¯¼ã€‚`informTime[i]`è¡¨ç¤º`i`è¿™åå‘˜å·¥å°†æ¶ˆæ¯ä¼ ç»™ç›´æ¥ä¸‹çº§çš„æ—¶é—´ã€‚
* å°†å‘˜å·¥çš„ä¸Šä¸‹çº§å…³ç³»å›¾ç”»å‡ºæ¥ï¼Œå‘˜å·¥ä¹‹é—´ç”¨æœ‰å‘ç®­å¤´é“¾æ¥ï¼Œç”±ä¸Šçº§æŒ‡å‘ä¸‹çº§ï¼Œè¾¹çš„æƒå€¼è®¾ç½®ä¸ºä¸Šçº§é€šçŸ¥ä¸‹çº§æ‰€ç”¨çš„æ—¶é—´ã€‚è¿™å°±æ˜¯ä¸€ä¸ªä»æ ¹åˆ°å¶å­çš„æ ‘ï¼Œè¦æ±‚çš„é—®é¢˜å°±è½¬åŒ–ä¸ºåˆ°å¶å­ç»“ç‚¹çš„æœ€é•¿è·¯å¾„ã€‚æ‰€ä»¥å¾ˆæ˜¾ç„¶è¿›è¡ŒDFSå°†æ‰€æœ‰åˆ°å¶å­çš„è·¯å¾„éƒ½éå†å‡ºæ¥ï¼Œé€‰å–æœ€é•¿è·¯å¾„çš„å€¼å³å¯ã€‚
* ä½†æ˜¯ç”¨æ ‘çš„åšæ³•éœ€è¦ç”¨æ•°æ®ç»“æ„æ¥è¡¨ç¤ºè¿™ä¸ªæ ‘ï¼ˆå…¶å®è¯´å›¾ä¹Ÿå¯ä»¥ï¼‰ï¼Œè¿™å¯èƒ½ä¼šæ¶ˆè€—å¾ˆå¤§ã€‚
* æ¢ä¸€ä¸ªæ€è·¯ï¼Œè¦æ‰¾æœ€é•¿æ—¶é—´ï¼Œå¯ä»¥ä»é¢†å¯¼åˆ°æœ€ä¸‹çº§ï¼›ä¹Ÿå¯ä»¥ä»æ¯ä¸€ä¸ªæœ€ä¸‹çº§åˆ°æœ€é«˜é¢†å¯¼ã€‚æ°å¥½`manager[i]`çš„æ„ä¹‰å°±æ˜¯ç”±ä¸‹çº§æ‰¾åˆ°å®ƒçš„ä¸Šçº§ï¼Œè¿™æ ·ä¸€ç›´è·Œæ‰“ï¼Œéƒ½ä¼šåˆ°è¾¾`manager[headID]=-1`ï¼Œè¿™æ ·ä¸€æ¡è·¯å¾„å°±æ‰¾åˆ°äº†ã€‚
* ä½†æ˜¯å¯¹äºæ¯ä¸€ä¸ªæœ€ä¸‹çº§ï¼Œéƒ½è¿›è¡Œä¸€æ¬¡è¿™æ ·çš„å¯»æ‰¾ï¼Œä¼šæœ‰å¤§é‡çš„é‡å¤è®¡ç®—ï¼Œå› ä¸ºå¾ˆå¤šä¸‹çº§ä¼šæœ‰å…±åŒçš„ä¸Šçº§ã€‚ä¸”è¦çŸ¥é“æœ€ä¸‹çº§åˆ°è¾¾æœ€é«˜é¢†å¯¼éœ€è¦å¤šå°‘åˆ†é’Ÿï¼Œæˆ‘ä»¬ä¹Ÿå¿…éœ€çŸ¥é“æ¬¡ä¸‹çº§åˆ°è¾¾æœ€é«˜é¢†å¯¼éœ€è¦å¤šå°‘åˆ†é’ŸåŠ ä¸Šæ¬¡ä¸‹çº§åˆ°è¾¾æœ€ä¸‹çº§çš„æ—¶é—´ã€‚
* æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªçŠ¶æ€é‡`int[] count`ï¼Œ`count[i]`è¡¨ç¤º`i`è¿™ä¸ªå‘˜å·¥åˆ°è¾¾æœ€é«˜é¢†å¯¼éœ€è¦å¤šå°‘æ—¶é—´ã€‚ç„¶åæˆ‘ä»¬æ±‚å‡ºæ¯ä¸ª`count[i]`ï¼Œæœ€å¤§çš„ä¸€ä¸ªå°±æ˜¯ç­”æ¡ˆã€‚
* åœ¨è®¡ç®—`count[i]`æ—¶ï¼Œæ˜¯ä¸€ä¸ªè‡ªåº•å‘ä¸Šçš„è¿‡ç¨‹ï¼Œä¸ºäº†é¿å…é‡å¤è®¡ç®—ï¼Œæˆ‘ä»¬å°†`count[i]`èµ‹åˆå€¼ä¸º-1ï¼Œè¡¨ç¤º`i`è¿™ä¸ªå‘˜å·¥åˆ°æœ€é«˜é¢†å¯¼çš„æ—¶é—´è¿˜æ²¡è®¡ç®—ï¼Œå¦‚æœå·²ç»è®¡ç®—è¿‡å°±è®¾ç½®ä¸ºç»“ç®—ç»“æœã€‚ä¸€ä¸ªç‰¹æ®Šçš„è¾¹ç•Œæ¡ä»¶å°±æ˜¯`count[headID] = 0;`æœ€é«˜é¢†å¯¼åˆ°å…¶è‡ªèº«çš„æ—¶é—´ä¸º0ã€‚
* å…·ä½“è®¡ç®—è¿‡ç¨‹çœ‹ä»£ç è§£é‡Šã€‚

ä»£ç è§£é‡Šï¼š

* 6-8è¡Œï¼Œå·²ç»è®¡ç®—è¿‡åˆ°è¾¾æœ€é«˜é¢†å¯¼æ‰€éœ€æ—¶é—´çš„å‘˜å·¥ç›´æ¥è·³è¿‡ã€‚
* 9-14è¡Œï¼Œä¸æ–­æ‰¾åˆ°å½“å‰å‘˜å·¥çš„é¢†å¯¼ï¼Œå¹¶å°†è¿™äºŒäººä¹‹é—´çš„æ—¶é—´ç´¯åŠ ï¼Œç›´åˆ°æŸå‘˜å·¥åˆ°è¾¾æœ€é«˜é¢†å¯¼çš„æ—¶é—´å·²ç»çŸ¥é“ï¼Œé‚£ä¹ˆ`i`è¿™ä¸ªå‘˜å·¥åˆ°è¾¾æœ€é«˜é¢†å¯¼çš„æ—¶é—´å°±æ˜¯`sum+count[p]`ã€‚ç¬¬å››è¡Œè®¾ç½®äº†è¾¹ç•Œæ¡ä»¶ï¼Œæ‰€ä»¥å¾ªç¯ä¸€å®šä¼šåœæ­¢ã€‚
* 16è¡Œï¼Œæ›´æ–°æœ€å¤§æ—¶é—´ã€‚
* 17-22è¡Œï¼Œ`i`è¿™ä¸ªå‘˜å·¥è®°å½•äº†æ—¶é—´ï¼Œä½†æ˜¯è¿™æ¡è·¯å¾„ä¸Šè¿˜æœ‰éƒ¨åˆ†ä»–çš„é¢†å¯¼æ²¡æœ‰æ›´æ–°ï¼Œå†å¾€ä¸Šå°†å…¶é¢†å¯¼çš„`count`è¿›è¡Œè®°å½•ã€‚`p`åˆ°è¾¾æœ€é«˜é¢†å¯¼çš„æ—¶é—´=ä»–åˆ°æœ€é«˜é¢†å¯¼çš„æ—¶é—´-`p`åˆ°ä»–çš„æ—¶é—´ã€‚

è¿è¡Œç»“æœï¼š17ms

æ›´å¤šLeetCodeé¢˜è§£è¯·çœ‹æˆ‘çš„[github](https://github.com/ustcyyw/yyw_algorithm)ï¼Œåœ°å€https://github.com/ustcyyw/yyw_algorithmã€‚è¿˜æœ‰åˆ«çš„å°é¡¹ç›®ä¹Ÿå¾ˆå¥½ç©~å‘å¾®æ±‚ä¸ªå°æ˜Ÿæ˜ŸğŸ’–