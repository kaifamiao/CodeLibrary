```cpp

// //1. é€ä½æ¥çœ‹ï¼Œç»Ÿè®¡1å‡ºç°åœ¨æ¯ä¸€ä½ä¸Šçš„æ¬¡æ•°
// class Solution {
// public:
//     int countDigitOne(int num) {   // 3141592
//         int res = 0;
//         for (long long m = 1; m <= num; m *= 10) {
//             int a = num / m;  // m=100, a=31415, çœ‹ç™¾ä½ä¸Šçš„æ•°å­—ï¼Œæ­¤æ—¶æ˜¯5
//             int b = num % m;  // m=100, b=92
//             // æ‹¿åˆ°ç™¾ä½ä¸Šçš„æ•°å­—ï¼Œåˆ†ä¸‰ç§æƒ…å†µ >1 =1 =0
//             if (a%10 > 1) 
//                 res += (a/10 + 1) * m;
//             else if (a%10 == 1)
//                 res += a/10 * m + b + 1;
//             else
//                 res += a/10 * m;
//         }
//         return res;
//     }
// };


//1. ç­‰åŒäºä¸Šé¢çš„ï¼Œæ›´ç®€æ´çš„å†™æ³•ï¼Œä¸‰ä¸ªæ¡ä»¶ç»Ÿä¸€èµ·æ¥
class Solution {
public:
    int countDigitOne(int num) {   // 3141592
        int res = 0;
        for (long long m = 1; m <= num; m *= 10) {
            int a = num / m;  // m=100, a=31415, çœ‹ç™¾ä½ä¸Šçš„æ•°å­—ï¼Œæ­¤æ—¶æ˜¯5
            int b = num % m;  // m=100, b=92
            // æ‹¿åˆ°ç™¾ä½ä¸Šçš„æ•°å­—ï¼Œåˆ†ä¸‰ç§æƒ…å†µ >1 =1 =0
            // if (a%10 > 1) 
            //     res += (a/10 + 1) * m;
            // else if (a%10 == 1)
            //     res += a/10 * m + b + 1;
            // else
            //     res += a/10 * m;
            
            res += (a+8)/10*m + (a%10 == 1)*(b + 1);  //ç­‰ä»·äºä¸‰ä¸ªæ¡ä»¶
        }
        return res;

    }
};


// // 2. ğŸ”¥ç¨å¤æ‚
// class Solution {

// int f_table[10] = {0};
// // f(1) = 1;
// // f(2) = 20;
// // f(3) = 300;
// // f(4) = 4000;
// // f(5) = 50000;
// // f(6) = 600000;
// // f(7) = 7000000;
// // f(8) = 80000000;
// // f(9) = 900000000;

// private:
//     void set_table() {
//         for (int i = 1; i < 10; i++) 
//             f_table[i] = f_table[i-1] * 10 + pow(10, i - 1);
//     }

// public:
//     int countDigitOne(int num) {
//         set_table();
//         stack<int> s;
//         int sum = 0;
//         int tmp = num;
//         while (tmp) {
//             s.push(tmp % 10); 
//             tmp = tmp / 10;                     
//         }
//         while (!s.empty()) {
//             int x = s.top(); // å¾—åˆ°æœ€é«˜ä½æ•°å­—
//             int weishu = s.size();
//             s.pop();
//             if (x > 1) // åˆ†ä¸‰ç§æƒ…å†µ >1 =1 =0
//                 sum += pow(10, weishu - 1);
//             else if (x == 1)
//                 sum += num % int(pow(10, weishu - 1)) + 1;
//             else
//                 continue;
//             sum += f_table[weishu - 1] * x;
//         }

//         return sum;

//     }
// };

```