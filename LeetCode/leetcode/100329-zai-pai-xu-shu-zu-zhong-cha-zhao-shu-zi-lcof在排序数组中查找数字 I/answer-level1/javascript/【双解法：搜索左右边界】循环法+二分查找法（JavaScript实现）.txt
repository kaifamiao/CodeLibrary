
è¿™é¢˜è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜å°±æ˜¯ï¼šæœç´¢æ•°å­—å‡ºç°çš„å·¦å³è¾¹ç•Œã€‚è¾¹ç•Œçš„å·®å€¼ï¼Œå°±æ˜¯å‡ºç°æ¬¡æ•°ã€‚

## è§£æ³• 1: ä»ä¸¤è¾¹å‘ä¸­é—´

æ€è·¯æ¯”è¾ƒç®€å•ï¼š

-   ä»æ•°ç»„å·¦ä¾§å‘å³éå†ï¼Œé‡åˆ°ç›®æ ‡æ•°å­— targetï¼Œåœæ­¢ï¼Œè®°å½•ä¸‹æ ‡ left
-   ä»æ•°ç»„å³ä¾§å‘å·¦éå†ï¼Œé‡åˆ°ç›®æ ‡æ•°å­— targetï¼Œåœæ­¢ï¼Œè®°å½•ä¸‹æ ‡ right
-   å¦‚æœ right å°äº leftï¼Œé‚£ä¹ˆè¯´æ˜æ²¡å‡ºç°ï¼Œè¿”å› 0ï¼›å¦åˆ™è¿”å› right - left + 1

ä»£ç å®ç°ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-13-find-num-in-sorted/
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var search = function(nums, target) {
    if (!nums.length) return 0;

    let left = 0,
        right = nums.length - 1;
    while (nums[left] !== target && left < nums.length) {
        ++left;
    }
    while (nums[right] !== target && right >= 0) {
        --right;
    }

    return left <= right ? right - left + 1 : 0;
};
```

æ—¶é—´å¤æ‚åº¦æ˜¯$O(N)$ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯$O(1)$ã€‚

## è§£æ³• 2: äºŒåˆ†æŸ¥æ‰¾ï¼ˆå·§å¦™ï¼‰

äºŒåˆ†æŸ¥æ‰¾ä¸€èˆ¬ç”¨æ¥æŸ¥æ‰¾æ•°å­—åœ¨æœ‰åºæ•°ç»„ä¸­æ˜¯å¦å‡ºç°è¿‡ã€‚è¿›ä¸€æ­¥æƒ³ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä¸æ–­åœ¨å­åºåˆ—ä¸­æœç´¢å¯¹åº”æ•°å­—ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒæ¥å‘å·¦è¾¹å­åºåˆ—ä¸­ä¸æ–­æœç´¢ï¼Œç¡®è®¤å·¦è¾¹ç•Œï¼›åŒæ ·çš„æ€è·¯ï¼Œç¡®è®¤å³è¾¹ç•Œã€‚

è¿™å¯èƒ½è¿˜æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Œä¸¾ä¸ª ğŸŒ°ã€‚ä»¥æ•°ç»„ 2ã€3ã€3ã€3ã€2 ä¸ºä¾‹ï¼Œæˆ‘ä»¬è¦æœç´¢æ•°å­— 3 çš„å·¦å³è¾¹ç•Œã€‚å‡è®¾æˆ‘ä»¬å…ˆå°è¯•æœç´¢å·¦è¾¹ç•Œä¸‹æ ‡ startã€‚

æŒ‰ç…§äºŒåˆ†æ³•æ€è·¯ï¼Œ`arr[mid] = arr[2] = 3`ï¼Œæ›´æ–° start ä¸º 2ï¼ŒåŒæ—¶ç¼©å°æœç´¢èŒƒå›´åˆ° `[0, mid - 1] = [0, 1]`ã€‚ç»§ç»­æŒ‰ç…§äºŒåˆ†æ€è·¯ï¼Œæœç´¢èŒƒå›´ç¼©å°åˆ°`[1, 1]`ï¼Œå‘ç°å€¼ä¸º 3ï¼Œæ›´æ–° start ä¸º 1ã€‚ç»“æŸã€‚

æŒ‰åŒæ ·æ–¹æ³•ï¼Œå¯ä»¥è·å¾—å³è¾¹ç•Œä¸‹æ ‡ endã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-13-find-num-in-sorted/
/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number}
 */
var search = function(nums, target) {
    const length = nums.length;
    let start = -1,
        end = -1;

    let left = 0,
        right = length - 1;
    // æ‰¾åˆ°å·¦è¾¹ç•Œï¼šæ‰¾åˆ°ç¬¬ä¸€æ¬¡å‡ºç°
    while (left <= right) {
        let mid = Math.floor((left + right) / 2);
        if (nums[mid] === target) {
            start = mid;
            right = mid - 1; // important
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else {
            left = mid + 1;
        }
    }

    left = 0;
    right = length - 1;
    // æ‰¾åˆ°å³è¾¹ç•Œï¼šæ‰¾åˆ°ç¬¬2æ¬¡å‡ºç°
    while (left <= right) {
        let mid = Math.floor((left + right) / 2);
        if (nums[mid] === target) {
            end = mid;
            left = mid + 1; // important
        } else if (nums[mid] > target) {
            right = mid - 1;
        } else {
            left = mid + 1;
        }
    }

    return start <= end && start !== -1 ? end - start + 1 : 0;
};
```

## æ›´å¤šèµ„æ–™

**æ•´ç†ä¸æ˜“ï¼Œè‹¥å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªã€Œå…³æ³¨+ç‚¹èµã€ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘æ›´æ–°çš„åŠ¨åŠ›** ğŸ‘‡

-   **ğŸ“–Blogï¼š[å‰‘æŒ‡ Offer é¢˜è§£ + JS ä»£ç ](https://xxoo521.com/algorithm/)**
-   **ğŸ±Github ï¼š[https://github.com/dongyuanxin/blog](https://github.com/dongyuanxin/blog)**
-   **ğŸŒŸ å…¬ä¼—å·ï¼š[å¿ƒè°­åšå®¢](https://tva1.sinaimg.cn/large/006tNbRwly1g9xhhp50jpj31bi0hcju4.jpg)**
