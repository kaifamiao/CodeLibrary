è¿™é¢˜å’Œ[ã€ŠLeetCode 137.åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— IIã€‹](https://leetcode-cn.com/problems/single-number-ii/) ä¸€æ ·ã€‚

## è§£æ³• 1: æœ€ç›´è§‚çš„å“ˆå¸Œè¡¨

è§£å†³æ€è·¯å¾ˆç®€å•ï¼Œç›´æ¥éå†ä¸€è¾¹æ•°ç»„ï¼Œç„¶åç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°ï¼Œå­˜å…¥å“ˆå¸Œè¡¨ä¸­ã€‚

ç„¶åå†éå†å“ˆå¸Œè¡¨ä¸­çš„è®°å½•ï¼Œè¿”å›å‡ºç°æ¬¡æ•°ä¸º 1 çš„æ•°å­—ã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/single-number-ii/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-25-single-number-ii/
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNumber = function(nums) {
    const map = new Map();
    for (let num of nums) {
        if (map.has(num)) map.set(num, map.get(num) + 1);
        else map.set(num, 1);
    }

    for (let [num, times] of map.entries()) {
        if (times === 1) return num;
    }
};
```

ä½†æ˜¯ï¼Œè¿™ç§è§£æ³•åˆ©ç”¨äº†é¢å¤–çš„$O(N)$ç©ºé—´æ¥å¼€è¾Ÿå“ˆå¸Œè¡¨ã€‚

## è§£æ³• 2: æ•°å­¦è®¡ç®—

å‡è®¾å¯¹äº aã€bã€cã€d æ¥è¯´ï¼Œd å‡ºç°äº† 1 æ¬¡ï¼Œå…¶ä»–æ•°å­—å‡ºç° 3 æ¬¡ã€‚é‚£ä¹ˆæ±‚ d çš„å€¼çš„è¡¨è¾¾å¼æ˜¯ï¼š`2 * d = 3*(a + b + c + d) - (3a + 3b + 3c + d)`

ä¸ºäº†è®¡ç®—`(a + b + c + d)`ï¼Œå¯ä»¥å°†æ•°ç»„å»é‡åï¼Œå†æ±‚å’Œã€‚å»é‡å€ŸåŠ©çš„æ˜¯é›†åˆï¼ˆSetï¼‰ã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/single-number-ii/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-25-single-number-ii/
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNumber = function(nums) {
    const set = new Set(nums);
    let sum1 = 0;
    for (let num of set.values()) {
        sum1 += num;
    }
    let sum2 = 0;
    for (let num of nums) {
        sum2 += num;
    }

    return Math.floor((3 * sum1 - sum2) / 2);
};
```

è¿™ç§æ–¹æ³•è¿˜æ˜¯é¢å¤–ä½¿ç”¨äº†$O(N)$çš„ç©ºé—´ã€‚

## è§£æ³• 3: ä½è¿ç®—

æœ€ç¬¦åˆé¢˜ç›®è¦æ±‚çš„è§£å†³æ–¹æ³•å°±æ˜¯ï¼šä½è¿ç®—ã€‚èƒ½åœ¨ä¸å¼€è¾Ÿé¢å¤–ç©ºé—´çš„æƒ…å†µä¸‹ï¼Œå®Œæˆè¦æ±‚ã€‚

æŒ‰ç…§ä½æ•°ï¼ˆæœ€é«˜ 32 ä½ï¼‰å»è€ƒè™‘ï¼Œè¿™ç§æ–¹æ³•çš„å…³é”®å°±æ˜¯æ‰¾åˆ°å¯¹äºåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ï¼Œå®ƒçš„å“ªäº›äºŒè¿›åˆ¶ä½æ˜¯ 1ã€‚

æ•´ä½“ç®—æ³•æµç¨‹å¦‚ä¸‹ï¼š

-   ä»ç¬¬ 1 ä½å¼€å§‹
-   åˆ›å»ºæ©ç ï¼ˆå½“å‰ä½ä¸º 1ï¼Œå…¶ä»–ä¸º 0ï¼‰ï¼Œcount è®¾ç½®ä¸º 0
-   å°†æ¯ä¸ªæ•°å­—å’Œæ©ç è¿›è¡Œ`&`è¿ç®—ï¼Œå¦‚æœç»“æœä¸ä¸º 0ï¼Œcount åŠ  1
-   å¦‚æœ count æ•´é™¤ 3ï¼Œè¯´æ˜å‡ºç°ä¸€æ¬¡çš„æ•°å­—è¿™ä¸€ä½ä¸æ˜¯ 1ï¼›å¦åˆ™ï¼Œè¯´æ˜å‡ºç°ä¸€æ¬¡çš„æ•°å­—è¿™ä¸€ä½æ˜¯ 1
-   ç»§ç»­æ£€æŸ¥ç¬¬ 2 ä½ï¼Œä¸€ç›´åˆ° 32 ä½ï¼Œç»“æŸ

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/single-number-ii/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-25-single-number-ii/
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNumber = function(nums) {
    let res = 0;
    for (let bit = 0; bit < 32; ++bit) {
        let mask = 1 << bit;
        let count = 0;
        for (let num of nums) {
            if (num & mask) ++count;
        }
        if (count % 3) {
            res = res | mask;
        }
    }
    return res;
};
```

æ—¶é—´å¤æ‚åº¦æ˜¯$O(N)$ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯$O(1)$ã€‚

## æ›´å¤šèµ„æ–™

**æ•´ç†ä¸æ˜“ï¼Œè‹¥å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªã€Œå…³æ³¨+ç‚¹èµã€ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘æ›´æ–°çš„åŠ¨åŠ›** ğŸ‘‡

-   **ğŸ“–Blogï¼š[å‰‘æŒ‡ Offer é¢˜è§£ + JS ä»£ç ](https://xxoo521.com/algorithm/)**
-   **ğŸ±Github ï¼š[https://github.com/dongyuanxin/blog](https://github.com/dongyuanxin/blog)**
-   **ğŸŒŸ å…¬ä¼—å·ï¼š[å¿ƒè°­åšå®¢](https://tva1.sinaimg.cn/large/006tNbRwly1g9xhhp50jpj31bi0hcju4.jpg)**
