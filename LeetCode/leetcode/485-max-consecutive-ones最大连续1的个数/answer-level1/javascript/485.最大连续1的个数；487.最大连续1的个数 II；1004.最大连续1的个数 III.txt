## 485.æœ€å¤§è¿ç»­1çš„ä¸ªæ•°

### åŸé¢˜

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œ è®¡ç®—å…¶ä¸­æœ€å¤§è¿ç»­1çš„ä¸ªæ•°ã€‚

ç¤ºä¾‹ 1:

```
è¾“å…¥: [1,1,0,1,1,1]
è¾“å‡º: 3
è§£é‡Š: å¼€å¤´çš„ä¸¤ä½å’Œæœ€åçš„ä¸‰ä½éƒ½æ˜¯è¿ç»­1ï¼Œæ‰€ä»¥æœ€å¤§è¿ç»­1çš„ä¸ªæ•°æ˜¯ 3.
```

æ³¨æ„ï¼š

- è¾“å…¥çš„æ•°ç»„åªåŒ…å«Â 0 å’Œ1ã€‚
- è¾“å…¥æ•°ç»„çš„é•¿åº¦æ˜¯æ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ 10,000ã€‚


### æ€è·¯

![1.png](https://pic.leetcode-cn.com/3fe655f5a1e832a75f7491c78a7a6c4996e7b21fc4eca1ace9b8f70869e2b3ec-file_1569216121863)

### ä»£ç 

#### æ€è·¯ä¸€

```js

/**
 * @param {number[]} nums
 * @return {number}
 */
var findMaxConsecutiveOnes = function(nums) {
    const dp = []
    
    for (let i = 0; i < nums.length; i++) {
        if (nums[i] & 1) {
            dp[i] = dp[i - 1] === undefined ? 0 + 1 : dp[i - 1] + 1
        } else {
            dp[i] = 0
        }
    }
    
    return Math.max(...dp)
};
```

#### æ€è·¯äºŒ

```js

/**
 * @param {number[]} nums
 * @return {number}
 */
var findMaxConsecutiveOnes = function(nums) {
    let max_length = 0
    let temp = 0
    
    for (let i = 0; i < nums.length; i++) {
        if (nums[i] & 1) {
            temp += 1
        } else {
            temp = 0
        }
        max_length = Math.max(max_length, temp)
    }
    
    return max_length
};
```

## 487.æœ€å¤§è¿ç»­1çš„ä¸ªæ•° II

### åŸé¢˜

ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œä½ å¯ä»¥æœ€å¤šå°†Â 1 ä¸ª 0 ç¿»è½¬ä¸º 1ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°ã€‚

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼š[1,0,1,1,0]
è¾“å‡ºï¼š4
è§£é‡Šï¼šç¿»è½¬ç¬¬ä¸€ä¸ª 0 å¯ä»¥å¾—åˆ°æœ€é•¿çš„è¿ç»­ 1ã€‚
Â     å½“ç¿»è½¬ä»¥åï¼Œæœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°ä¸º 4ã€‚
Â 
```

æ³¨ï¼š

- è¾“å…¥æ•°ç»„åªåŒ…å«Â 0 å’ŒÂ 1.
- è¾“å…¥æ•°ç»„çš„é•¿åº¦ä¸ºæ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ 10,000
Â 


### æ€è·¯

![2.png](https://pic.leetcode-cn.com/f3d837e508b313bd6ade6f08904e130494dd7d4a0c32c82dfde57cb72d9b3ddd-file_1569216121869)

æˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ•°ç»„è®°å½•çŠ¶æ€ï¼Œ`dp1`è®°å½•ä¸è¿›è¡Œä»»ä½•ç¿»è½¬çš„çŠ¶æ€ï¼Œ`dp2`è®°å½•é‡åˆ°`0`å°±è¿›è¡Œç¿»è½¬çš„çŠ¶æ€ã€‚

é¢˜ç›®è§„å®šæˆ‘ä»¬åªå¯ä»¥è¿›è¡Œ**ä¸€**æ¬¡ç¿»è½¬ã€‚æ‰€ä»¥åœ¨`dp2`ä¸­ï¼Œå¦‚æœé‡åˆ°0æ—¶ï¼Œæˆ‘ä»¬**ä¸èƒ½**å€ŸåŠ©`dp2`æ•°ç»„ä¸­çš„å‰ä¸€ä¸ªçŠ¶æ€ï¼Œè·å–å½“å‰çš„çŠ¶æ€ã€‚å› ä¸ºä¹‹å‰å¯èƒ½å·²ç»ç»è¿‡å¤šæ¬¡çš„ç¿»è½¬ã€‚

ä½†æ˜¯`dp1`ä¸­æ˜¯æ²¡æœ‰ç»è¿‡ä»»ä½•ç¿»è½¬çš„ï¼Œæ‰€ä»¥åœ¨`dp2`ä¸­é‡åˆ°0ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`dp1`çš„å‰ä¸€ä¸ªçŠ¶æ€çš„å€¼åŠ ä¸Š1ï¼ˆç¿»è½¬å½“å‰çš„0ï¼‰ï¼Œè·å–å½“å‰çš„çŠ¶æ€ã€‚

æœ€åè¿”å›`dp2`ä¸­çš„æœ€å¤§å€¼å³å¯ã€‚

ä¸¾ä¸€ä¸ªä¾‹å­ğŸŒ°

```js

nums = [1,0,1,1,0,1]

dp1 = [ 1, 0, 1, 2, 0, 1 ]

// å¦‚æœnums[1]è½¬1ï¼Œdp2[1] = 2
// dp2[2] = 3
// dp2[3] = 4
// å¦‚æœnums[4]è½¬1ï¼Œdp2[4] = dp1[3] + 1 = 3
// dp[5] = 4
dp2 = [ 1, 2, 3, 4, 3, 4 ]
```

### ä»£ç 

```js

/**
 * @param {number[]} nums
 * @return {number}
 */
var findMaxConsecutiveOnes = function(nums) {
   const dp1 = []
   const dp2 = []
   
   for (let i = 0; i < nums.length; i++) {
       if (nums[i] & 1) {
           dp1[i] = dp1[i - 1] === undefined ? 0 + 1 : dp1[i - 1] + 1
           dp2[i] = dp2[i - 1] === undefined ? 0 + 1 : dp2[i - 1] + 1
       } else {
           dp1[i] = 0
           dp2[i] = dp1[i - 1] === undefined ? 0 + 1 : dp1[i - 1] + 1
       }
   }
    
   return Math.max(...dp2)
};
```

## 1004.æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III

### åŸé¢˜

ç»™å®šä¸€ä¸ªç”±è‹¥å¹² 0 å’Œ 1 ç»„æˆçš„æ•°ç»„Â Aï¼Œæˆ‘ä»¬æœ€å¤šå¯ä»¥å°†Â KÂ ä¸ªå€¼ä» 0 å˜æˆ 1 ã€‚

è¿”å›ä»…åŒ…å« 1 çš„æœ€é•¿ï¼ˆè¿ç»­ï¼‰å­æ•°ç»„çš„é•¿åº¦ã€‚

Â 

ç¤ºä¾‹ 1ï¼š

```
è¾“å…¥ï¼šA = [1,1,1,0,0,0,1,1,1,1,0], K = 2
è¾“å‡ºï¼š6
è§£é‡Šï¼š 
[1,1,1,0,0,1,1,1,1,1,1]
ç²—ä½“æ•°å­—ä» 0 ç¿»è½¬åˆ° 1ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º 6ã€‚
```

ç¤ºä¾‹ 2ï¼š

```
è¾“å…¥ï¼šA = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3
è¾“å‡ºï¼š10
è§£é‡Šï¼š
[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]
ç²—ä½“æ•°å­—ä» 0 ç¿»è½¬åˆ° 1ï¼Œæœ€é•¿çš„å­æ•°ç»„é•¿åº¦ä¸º 10ã€‚
```

### æ€è·¯

æœ¬é¢˜ä½¿ç”¨åŒæŒ‡é’ˆçš„æ€è·¯è§£å†³ã€‚

`start`å’Œ`end`æŒ‡é’ˆåˆå§‹çš„æ—¶å€™éƒ½æ˜¯æŒ‡å‘0ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„å˜é‡è®°å½•æœ€å¤§å€¼ã€‚

`end`æŒ‡é’ˆå‘åç§»åŠ¨ï¼Œé‡åˆ°0æ—¶ï¼Œç»Ÿä¸€è½¬ä¸º1ï¼Œ`K`è‡ªå‡1ï¼Œå¹¶è®°å½•æ­¤æ—¶æœ€å¤§å€¼ã€‚

å½“`end`æŒ‡é’ˆæŒ‡å‘0å¹¶ä¸”`K`è‡ªå‡åˆ°0æ—¶ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦å‘å‰ç§»åŠ¨`start`æŒ‡é’ˆï¼š
- å¦‚æœ`nums[start] == 1`, æˆ‘ä»¬éœ€è¦ç›´æ¥è·³è¿‡ï¼Œå› ä¸ºæ­¤æ—¶æˆ‘ä»¬ä¸èƒ½ç»™`K`åŠ ä¸€ï¼Œæœ€å¤§å€¼ä¸ä¼šæœ‰ä»»ä½•å˜åŒ–ã€‚
- å¦‚æœ`nums[start] == 0`ï¼Œæˆ‘ä»¬åœ¨è·³è¿‡å®ƒä¹‹åï¼Œå¯ä»¥ç»™`K`åŠ ä¸€ï¼ˆå› ä¸ºå°‘äº†ä¸€ä¸ª0ï¼‰ã€‚æˆ‘ä»¬`end`æŒ‡é’ˆå¯ä»¥ç»§ç»­å‘åç§»åŠ¨ã€‚ç›´åˆ°æœ«å°¾ã€‚

### ä»£ç 

```js

/**
 * @param {number[]} A
 * @param {number} K
 * @return {number}
 */
var longestOnes = function(A, K) {
    let max_length = 0
    let temp = 0
    let startIndex = 0
    let endIndex = 0
    
    while (endIndex < A.length) {
        if (A[endIndex] & 1) {
            temp += 1
            endIndex += 1
        } else {
            if (K > 0) {
                temp += 1
                K -= 1
                endIndex += 1
            } else {
                if (A[startIndex] & 1) {
                    let on_off = true
                    while (on_off && startIndex <= endIndex) {
                        if (A[startIndex] === 0) {
                            on_off = false
                        }
                        startIndex += 1
                        temp -= 1
                    }
                } else {
                    startIndex += 1
                    temp -= 1
                }
                K += 1
            }
        }
        max_length = Math.max(max_length, temp)
    }
    
    return max_length
};
```

