## è§£æ³• 1: æ¨¡æ‹Ÿè·¯å¾„

æ ¹æ®ç›´è§‰ï¼Œå½“éå†çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°è¶…å‡ºè¾¹ç•Œ / å…ƒç´ å·²ç»è¢«è®¿é—®è¿‡çš„æƒ…å†µæ—¶ï¼Œåº”è¯¥æŒ‰ç…§é¡ºæ—¶é’ˆè½¬å˜æ–¹å‘ã€‚

å‡è®¾ç»™å®šçš„çŸ©é˜µçš„å½¢çŠ¶æ˜¯ m\*nï¼Œé‚£ä¹ˆä¸€å…±è¦éå† m\*n æ¬¡ã€‚è¦å‡†å¤‡ä¸€ä¸ªé•¿åº¦ä¸º m\*n çš„å“ˆå¸Œè¡¨ï¼Œæ¥ä¿å­˜å…ƒç´ æ˜¯å¦è¢«éå†è¿‡ã€‚è¦å‡†å¤‡ä¸€ä¸ªè®°å½•æ–¹å‘çš„æ•°ç»„ï¼Œé‡Œé¢æ–¹å‘çš„æ’åˆ—é¡ºåºæ˜¯é¡ºæ—¶é’ˆã€‚

æ—¶é—´å¤æ‚åº¦ä¸º O(M\*N)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(M\*N)ã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-01-30-shun-shi-zhen-matrix/

/**
 * @param {number} i
 * @param {number} j
 */
function hash(i, j) {
    return `${i}-${j}`;
}

/**
 * @param {number[][]} matrix
 * @return {number[]}
 */
var spiralOrder = function(matrix) {
    const m = matrix.length;
    if (!m) {
        return [];
    }

    const n = matrix[0].length;
    if (!n) {
        return [];
    }

    const results = []; // éå†ç»“æœ
    const visited = {}; // è®°å½•å…ƒç´ æ˜¯å¦è¢«è®¿é—®è¿‡
    const directions = [
        [0, 1],
        [1, 0],
        [0, -1],
        [-1, 0]
    ]; // é¡ºæ—¶é’ˆæ–¹å‘æ•°ç»„

    for (let step = 0, row = 0, col = 0, dIdx = 0; step < m * n; ++step) {
        results.push(matrix[row][col]);
        visited[hash(row, col)] = true;
        // æœ€å·§å¦™çš„åœ°æ–¹ï¼šå€ŸåŠ©æ–¹å‘æ•°ç»„æ¥è¿›è¡Œrowã€colçš„æ›´æ–°
        const newR = row + directions[dIdx][0];
        const newC = col + directions[dIdx][1];

        if (
            !visited[hash(newR, newC)] &&
            newR >= 0 &&
            newR < m &&
            newC >= 0 &&
            newC < n
        ) {
            row = newR;
            col = newC;
        } else {
            // è½¬å˜æ–¹å‘
            dIdx = (dIdx + 1) % 4;
            row += directions[dIdx][0];
            col += directions[dIdx][1];
        }
    }

    return results;
};
```

## è§£æ³• 2: æŒ‰å±‚éå†

è¿™ç§æ–¹æ³•çš„æ€è·¯æ˜¯ä»å¤–åˆ°å†…ï¼Œä¸€å±‚å±‚æ‰“å°ã€‚éš¾ç‚¹åœ¨äºæ€ä¹ˆæ‰¾åˆ°æ ‡è®°ç‚¹ï¼Œä»¥åŠé˜²æ­¢é‡å¤éå†ã€‚

æ€ä¹ˆæ‰¾åˆ°æ ‡è®°ç‚¹ï¼Ÿå¯¹äºæ¯ä¸€å±‚æ¥è¯´ï¼Œè®¾å·¦ä¸Šè§’çš„å…ƒç´ åæ ‡ä¸º (i, j)ï¼Œé‚£ä¹ˆå³ä¸Šè§’çš„å…ƒç´ åæ ‡ä¸º (i, n - j - 1)ï¼Œå³ä¸‹è§’çš„å…ƒç´ åæ ‡æ˜¯ (m - i - 1 ,n - j - 1)ï¼Œå·¦ä¸‹è§’çš„å…ƒç´ åæ ‡æ˜¯ (m - i - 1, j)ã€‚æ‰¾åˆ°æ ‡è®°ç‚¹åï¼Œå°±æ˜¯å¯¹è¡Œ/åˆ—è¿›è¡Œ+/-çš„è¿‡ç¨‹ã€‚

æ€ä¹ˆé˜²æ­¢é‡å¤éå†ï¼Ÿæ‰¾åˆ°å››ä¸ªåæ ‡ç‚¹åï¼Œæ¯ä¸€å±‚çš„éå†å¯ä»¥æ‹†åˆ†æˆ 4 ä¸ªéƒ¨åˆ†ã€‚æˆ‘æƒ³åˆ°çš„æ˜¯ä¸‹å›¾æ‰€ç¤ºçš„ä¸¤ç§æ‹†åˆ†æ–¹æ³•ï¼š

![](https://pic.leetcode-cn.com/dfdfa1be4e547f8a171379e7bf99654885de50c444284bae901a8b803e9bcb01.jpg)

ç¬¬ä¸€ç§æ‹†åˆ†æ–¹æ³•ä¼šæœ‰ä¾‹å¤–ï¼Œæ¯”è¾ƒéš¾å¤„ç†ï¼Œæ— æ³•é¿å…é‡å¤éå†ã€‚å› æ­¤ä½¿ç”¨ç¬¬äºŒç§ã€‚

æ—¶é—´å¤æ‚åº¦ä¸º O(M\*N)ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(M\*N)ã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-01-30-shun-shi-zhen-matrix/

/**
 * @param {number[][]} matrix
 * @return {number[]}
 */
var spiralOrder = function(matrix) {
    const m = matrix.length;
    if (!m) {
        return [];
    }

    const n = matrix[0].length;
    if (!n) {
        return [];
    }

    const results = [];
    let i = 0,
        j = 0;
    // è¿™é‡Œçš„ç»ˆæ­¢æ¡ä»¶æ˜¯ï¼š i <= (m - 1) / 2 ä¸ j <= (n - j) / 2
    // å³æœ€é‡Œé¢çš„é‚£å±‚å·¦ä¸Šè§’å…ƒç´ çš„åæ ‡
    while (i <= m - i - 1 && j <= n - j - 1) {
        for (let col = j; col <= n - j - 1; ++col) {
            results.push(matrix[i][col]);
        }

        for (let row = i + 1; row <= m - i - 1; ++row) {
            results.push(matrix[row][n - j - 1]);
        }

        if (i < m - i - 1 && j < n - j - 1) {
            for (let col = n - j - 2; col > j; --col) {
                results.push(matrix[m - i - 1][col]);
            }

            for (let row = m - i - 1; row > i; --row) {
                results.push(matrix[row][j]);
            }
        }

        i++;
        j++;
    }

    return results;
};
```

## æ›´å¤šèµ„æ–™

-   **ğŸ“–Blogï¼š[å‰‘æŒ‡ Offer é¢˜è§£ + JS ä»£ç ](https://xxoo521.com/algorithm/)**
-   **ğŸ±Github ï¼š[https://github.com/dongyuanxin/blog](https://github.com/dongyuanxin/blog)**
-   **ğŸŒŸ å…¬ä¼—å·ï¼š[å¿ƒè°­åšå®¢](https://tva1.sinaimg.cn/large/006tNbRwly1g9xhhp50jpj31bi0hcju4.jpg)**
