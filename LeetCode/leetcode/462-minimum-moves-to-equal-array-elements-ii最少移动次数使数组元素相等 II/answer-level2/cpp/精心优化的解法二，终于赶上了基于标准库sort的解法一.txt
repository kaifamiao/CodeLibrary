æ ¹æ®å®˜æ–¹é¢˜è§£ï¼Œè§£æ³•äºŒåŸºäºŽå¿«é€ŸæŽ’åºçš„æ€æƒ³ï¼Œèƒ½åœ¨O(n)çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸‹å®Œæˆç›®æ ‡ï¼Œè¦ä¼˜äºŽåŸºäºŽæŽ’åºçš„è§£æ³•ä¸€ï¼ŒåŽè€…éœ€è¦O(nlogn)çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ã€‚

ç„¶è€Œï¼Œè€ƒè™‘åˆ°å…·ä½“å®žçŽ°ï¼Œç”±äºŽc++æ ‡å‡†åº“ä¸­çš„sortæ˜¯ç»è¿‡é•¿æ—¶é—´æ‰“ç£¨çš„ï¼Œéšä¾¿å†™ä¸€ä¸ªè§£æ³•äºŒæ˜¯å¾ˆéš¾æˆ˜èƒœå®ƒçš„ï¼Œæˆ‘æ—©æœŸçš„è§£æ³•äºŒéœ€è¦200msçš„æ—¶é—´ï¼Œè€ŒåŸºäºŽæ ‡å‡†åº“sortçš„è§£æ³•ä¸€åªéœ€è¦20msï¼Œä¸¤è€…ç›¸å·®ä¸€ä¸ªæ•°é‡çº§ðŸ˜‚

ç»è¿‡ä¸€ä¸ªå¤šå°æ—¶çš„ä¼˜åŒ–ï¼Œä¸‹é¢çš„è§£æ³•äºŒæ‰èƒ½å‹‰å¼ºè¾¾åˆ°20msçš„å¹³å‡æ—¶é—´ã€‚æ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªä»£ç çš„æ—¶é—´å·®å¼‚ã€‚åœ¨ä¸‹é¢çš„è§£æ³•äºŒä»£ç ä¸­ï¼Œå°†midçš„è®¡ç®—æ–¹å¼æ¢æˆæ³¨é‡Šé‡Œçš„ä¸¤è¡Œä»£ç ï¼Œå³å¯å¾—åˆ°è§£æ³•ä¸€çš„å®žçŽ°ã€‚

äººç”Ÿä¸‰å¤§é”™è§‰ï¼š

æˆ‘æ¯”ç¼–è¯‘å™¨èªæ˜Ž
æˆ‘è¶…è¶Šäº†æ ‡å‡†åº“
æˆ‘èƒ½ç®¡ç†å¥½å†…å­˜

ðŸ˜‚

```
class Solution {
public:
    int find_kth_min(int buf[], int n, int k) {
        while (n > 1) {
            int pivot = buf[k / 2];
            swap(buf[k / 2], buf[n - 1]);
            
            int l = 0;
            while (1) {
                while (buf[l] < pivot)
                    l++;
                if (buf[l] > pivot || l == (n - 1))
                    break;
                l++;
            }
            if (l < n - 1) {
                for (int r = l + 1; 1; r++) {
                    if (buf[r] <= pivot) {
                        swap(buf[l], buf[r]);
                        l++;
                        if (r == n - 1)
                            break;
                    }
                }
                l--;
            }

            if (k == l) {
                return buf[k];
            } else if (k < l) {
                n = l;
            } else {
                buf += l + 1;
                n -= l + 1;
                k -= l + 1;
            }

        }
        return buf[0];
    }

    int minMoves2(vector<int>& nums) {
        if (nums.empty())
            return 0;

        int *buf = nums.data();
        int n = nums.size();

        int mid = find_kth_min(buf, n, n / 2);
        //sort(nums.begin(), nums.end());
        //int mid = nums[n / 2];
        
        int res = 0;
        for (int i = 0; i < n; i++) {
            res += abs(buf[i] - mid);
        }

        return res;
    }
};
```