# 62 - è®¡æ•°è´¨æ•°

## é¢˜ç›®

ç»Ÿè®¡æ‰€æœ‰å°äºéè´Ÿæ•´æ•° *n* çš„è´¨æ•°çš„æ•°é‡ã€‚

**ç¤ºä¾‹:**

> è¾“å…¥: 10
> è¾“å‡º: 4
> è§£é‡Š: å°äº 10 çš„è´¨æ•°ä¸€å…±æœ‰ 4 ä¸ª, å®ƒä»¬æ˜¯ 2, 3, 5, 7 ã€‚


## è§£ç­”

æœ€ç›´è§‚çš„è§£æ³•ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰è´¨æ•°ç®—å‡ºæ¥ï¼Œæ•°ä¸€ä¸‹ã€‚

### å„æ‹‰å¤šå¡ç­›æ³•

> ä½œè€…ï¼šmagicalchao
> é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/count-primes/solution/ji-shu-zhi-shu-bao-li-fa-ji-you-hua-shai-fa-ji-you/

æ¯è®¡ç®—ä¸€ä¸ªæ•°ï¼Œéƒ½è¦æŠŠå®ƒçš„å€æ•°å»æ‰ã€‚åˆ°äº†nï¼Œæ•°ä¸€ä¸‹ç•™ä¸‹äº†å‡ ä¸ªæ•°ã€‚

```js
var countPrimes = function (n) {
  let count = 0
  signs = []
  for (let i = 2; i < n; i++) {
    if (!signs[i]) {
      count++
      for (let j = 2 * i; j < n; j += i) {
        signs[j] = true
      }
    }
  }
  return count
};
```

> Runtime: 136 ms, faster than 66.06% of JavaScript online submissions for Count Primes.
>
> Memory Usage: 135.7 MB, less than 13.33% of JavaScript online submissions for Count Primes.

- signsæ˜¯ç”¨æ¥è®°å½•â€œå·²ç»æ‰¾è¿‡çš„æ•°çš„å€æ•°â€çš„ã€‚

åœ¨é‡Œé¢çš„jå¾ªç¯ä¸­ï¼Œä¸€ä¸ªä¸ªæŠŠæ‰¾è¿‡æ•°çš„å€æ•°ï¼Œå¯¹åº”çš„signï¼Œè®¾ç½®ä¸ºtrueã€‚è¿™æ ·å¤–å¾ªç¯å°±ä¸ä¼šè¿›å…¥ifå¾ªç¯ï¼Œä¹Ÿå°±ä¸ä¼šè®¡æ•°äº†ã€‚

- å¤–é¢çš„iå¾ªç¯æ˜¯ç”¨æ¥è®¡æ•°çš„ï¼Œåªè¦signsçš„æ•°æ˜¯falseï¼Œå°±æ˜¯è´¨æ•°ï¼Œcountå°±++

ç”±äºjsé‡Œé¢åˆ¤æ–­`!signs[i]`ï¼Œå•¥éƒ½æ²¡æœ‰ä¹Ÿæ˜¯falseï¼Œå› æ­¤å°±ä¸ç”¨åƒé¢˜è§£é‚£æ ·è§„å®šå¥½æ•°ç»„ä¸€å…±æœ‰å‡ ä¸ªä½ç½®äº†ã€‚

### jsçš„ä¼˜åŒ–

ç»è¿‡[@Aaron](https://leetcode-cn.com/u/aaron-54/)å¤§ä½¬çš„æç‚¹ï¼Œsignsçš„æ—¶å€™è§„å®šå¥½æ•°ç»„çš„å¤§å°ï¼Œèƒ½å‡å°‘å†…å­˜çš„ä½¿ç”¨

æˆ‘çŒœjså’Œgoä¸€æ ·ï¼Œè¶…è¿‡äº†è§„å®šçš„å®¹é‡ï¼Œå°±ä¼šæŠŠå¤šå¢åŠ çš„å®¹é‡ç¿»å€ï¼Œå€’ä¸å¦‚äº‹å…ˆè§„å®šå¥½è¦ç”¨å¤šå°‘

```js
var countPrimes = function (n) {
	...
  signs = new Array(n + 1)
  ...
};
```

> Runtime: 92 ms, faster than 93.73% of JavaScript online submissions for Count Primes.
>
> Memory Usage: 57.9 MB, less than 86.67% of JavaScript online submissions for Count Primes.

å¤©ç¿»åœ°è¦†çš„æ”¹å˜ğŸ‘Œ

### go

```go
func countPrimes(n int) int {
	count := 0
	signs := make([]bool, n)
	for i := 2; i < n; i++ {
		if signs[i] {
			continue
		}
		count++
		for j := 2 * i; j < n; j += i {
			signs[j] = true
		}
	}
	return count
}
```

> Runtime: 8 ms, faster than 88.62% of Go online submissions for Count Primes.
>
> Memory Usage: 5 MB, less than 100.00% of Go online submissions forCount Primes.

goå°±ä¸èƒ½è¿™ä¹ˆå·æ‡’äº†ï¼Œå¿…é¡»è¯´æ˜æ–°å»ºçš„è¿™ä¸ªåˆ‡ç‰‡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæœ‰å¤šå°‘ä¸ªä½ç½®ã€‚

goçš„boolï¼Œé»˜è®¤ä¸ºfalseã€‚å› æ­¤å¦‚æœæ˜¯trueå°±èƒ½ç›´æ¥æ‹¿æ¥åˆ¤æ–­ã€‚

