
## è§£æ³• 1ï¼šæš´åŠ›æ³•

è¿™é¢˜å…¶å®æš´åŠ›æ³•æ—¶é—´æ•ˆç‡ä¹Ÿå¾ˆé«˜ï¼Œç›´æ¥ç§»åŠ¨è¿™ä¸ªæ»‘åŠ¨çª—å£ï¼Œæ¯æ¬¡ç»Ÿè®¡çª—å£ä¸­çš„æœ€å¤§å€¼å³å¯ã€‚

ä»£ç å®ç°ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/sliding-window-maximum/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-27-max-sliding-window/
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSlidingWindow = function(nums, k) {
    if (k <= 1) return nums;
    const res = [];
    for (let i = 0; i < nums.length - k + 1; ++i) {
        res.push(Math.max(...nums.slice(i, i + k)));
    }
    return res;
};
```

æ—¶é—´å¤æ‚åº¦æ˜¯$O(kN)$ï¼Œå…¶ä¸­ k æ˜¯æ»‘åŠ¨çª—å£çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦æ˜¯$O(N)$ã€‚

## è§£æ³• 2: åŠ¨æ€è§„åˆ’

[å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/sliding-window-maximum/solution/hua-dong-chuang-kou-zui-da-zhi-by-leetcode-3/)ä¸­è®²çš„å¾ˆæ¸…æ¥šäº†ã€‚

è¿™é‡Œç®€å•è¯´ä¸‹é‡è¦çš„ç‚¹ï¼šå°†æ•°ç»„åˆ†æˆå¤§å°ç›¸ç­‰çš„å—ï¼Œæ¯ä¸ªå—éƒ½å¯ä»¥ç†è§£ä¸ºæœ‰ä¸¤ä¸ªæ•°ç»„ left å’Œ rightã€‚left æ–¹å‘ä»å·¦åˆ°å³ï¼Œright ç›¸åã€‚`left[i]`æ˜¯æŒ‡å—ä»å¼€å§‹åˆ°ä¸‹æ ‡ i çš„æœ€å¤§å…ƒç´ ï¼Œ`right[j]`æ˜¯æŒ‡å—ä»å¼€å§‹åˆ°ä¸‹æ ‡ j çš„æœ€å¤§å…ƒç´ ã€‚

å‡è®¾æ»‘åŠ¨çª—å£çš„èŒƒå›´æ˜¯`[i, j]`ï¼Œå¾ˆå®¹æ˜“çœ‹å‡ºæ¥ï¼Œæ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼å°±æ˜¯ `max(right[i], left[j])`ã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/sliding-window-maximum/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-27-max-sliding-window/
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSlidingWindow = function(nums, k) {
    if (k === 1) return nums;
    const length = nums.length;
    if (!length) return [];

    const left = new Array(length);
    const right = new Array(length);

    left[0] = nums[0];
    right[length - 1] = nums[length - 1];
    for (let i = 1; i < length; ++i) {
        if (i % k) {
            left[i] = Math.max(nums[i], left[i - 1]);
        } else {
            left[i] = nums[i];
        }

        let j = length - i - 1;
        if ((j + 1) % k) {
            right[j] = Math.max(nums[j], right[j + 1]);
        } else {
            right[j] = nums[j];
        }
    }

    const res = [];
    for (let i = 0; i < length - k + 1; i++) {
        res.push(Math.max(right[i], left[i + k - 1]));
    }
    return res;
};
```

è¿™ç§åšæ³•æ—¶é—´å¤æ‚åº¦æ¯”è§£æ³• 1 æ›´ä½ï¼Œæ˜¯$O(N)$ã€‚

## è§£æ³• 3: åŒç«¯é˜Ÿåˆ—

å®˜æ–¹ç”¨[åŠ¨ç”»](https://leetcode-cn.com/problems/sliding-window-maximum/solution/shi-pin-jie-xi-shuang-duan-dui-lie-hua-dong-chuang/)æ¼”ç¤ºäº†ç®—æ³•è¿‡ç¨‹ã€‚

è¿™é‡Œè®°å½•ä¸‹é‡è¦çš„ç‚¹ï¼š

-   åŒç«¯é˜Ÿåˆ—ä¸­ä¿å­˜çš„æ˜¯å…ƒç´ ä¸‹æ ‡ï¼Œæ–¹ä¾¿åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å½“å‰æ»‘åŠ¨çª—å£ä¸­
-   åŒç«¯é˜Ÿåˆ—å¤´å…ƒç´ å¯¹åº”çš„æ•°å­—ï¼Œå°±æ˜¯å½“å‰æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼
-   åŒç«¯é˜Ÿåˆ—å¤´å°¾å‡ºå…¥å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(1)$
-   æœ¬é¢˜çš„åŒç«¯é˜Ÿåˆ—ç”¨åˆ°åŠŸèƒ½ï¼Œç”¨é“¾è¡¨å°±å¯ä»¥æ»¡è¶³ã€‚C++çš„ STL ä¸­çš„åŒç«¯é˜Ÿåˆ—æ”¯æŒ insertï¼Œè€ƒè™‘äº†æ‹·è´çš„é«˜æ•ˆå‹ï¼Œå®ç°ä¸Šæ›´å¤æ‚

ä¸ºäº†æ–¹ä¾¿ï¼Œä»£ç ä½¿ç”¨æ•°ç»„æ¥æ¨¡æ‹ŸåŒç«¯é˜Ÿåˆ—ã€‚ä»£ç å®ç°å¦‚ä¸‹ï¼š

```javascript
// acåœ°å€ï¼šhttps://leetcode-cn.com/problems/sliding-window-maximum/
// åŸæ–‡åœ°å€ï¼šhttps://xxoo521.com/2020-03-27-max-sliding-window/
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number[]}
 */
var maxSlidingWindow = function(nums, k) {
    if (k === 0) return [];
    const length = nums.length;
    if (length === 0) return [];

    const deque = [];
    for (let i = 0; i < k; ++i) {
        cleanDeque(deque, nums, i, k);
        deque.push(i);
    }

    const res = [];
    res.push(nums[deque[0]]);

    for (let i = k; i < length; ++i) {
        cleanDeque(deque, nums, i, k);
        deque.push(i);
        res.push(nums[deque[0]]);
    }

    return res;
};

/**
 * åˆ·æ–°åŒç«¯é˜Ÿåˆ—
 * @param {number[]} queue åŒç«¯é˜Ÿåˆ—
 * @param {number[]} nums æ•°ç»„
 * @param {number} idx å½“å‰å…ƒç´ ä¸‹æ ‡
 * @param {number} k æ»‘åŠ¨çª—å£å¤§å°
 */
function cleanDeque(queue, nums, idx, k) {
    // å¦‚æœåŒå‘é˜Ÿåˆ—ä¸­ï¼ŒåŒ…å«ä¸æ˜¯æ»‘åŠ¨çª—å£å†…çš„æ•°ï¼Œç›´æ¥å‡ºé˜Ÿ
    if (queue.length && idx >= k + queue[0]) {
        queue.shift();
    }

    while (queue.length && nums[idx] > nums[queue[queue.length - 1]]) {
        queue.pop();
    }
}
```

ç”±äºæ¯ä¸ªå…ƒç´ åªæœ‰ 1 æ¬¡æœºä¼šè¿›å‡ºåŒç«¯é˜Ÿåˆ—ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯$O(N)$ã€‚

## æ›´å¤šèµ„æ–™

**æ•´ç†ä¸æ˜“ï¼Œè‹¥å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªã€Œå…³æ³¨+ç‚¹èµã€ï¼Œæ‚¨çš„æ”¯æŒæ˜¯æˆ‘æ›´æ–°çš„åŠ¨åŠ›** ğŸ‘‡

-   **ğŸ“–Blogï¼š[å‰‘æŒ‡ Offer é¢˜è§£ + JS ä»£ç ](https://xxoo521.com/algorithm/)**
-   **ğŸ±Github ï¼š[https://github.com/dongyuanxin/blog](https://github.com/dongyuanxin/blog)**
-   **ğŸŒŸ å…¬ä¼—å·ï¼š[å¿ƒè°­åšå®¢](https://tva1.sinaimg.cn/large/006tNbRwly1g9xhhp50jpj31bi0hcju4.jpg)**
