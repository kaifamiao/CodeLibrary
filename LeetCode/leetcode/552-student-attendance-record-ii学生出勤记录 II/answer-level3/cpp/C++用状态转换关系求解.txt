### è§£é¢˜æ€è·¯
1. çŠ¶æ€è½¬æ¢å›¾ï¼š
![image.png](https://pic.leetcode-cn.com/d335d90c288377628ea51ca01aaa99022858eb43cb72773582377a4979e2016b-image.png)
ä¾æ®çŠ¶æ€è½¬æ¢å…³ç³»å¾—åˆ°ï¼š
A = P + L + LL;
AP = P + AP + AL + ALL;
AL = A + AP;
ALL = AL;
P = P + L + LL;
L = P;
LL = L


### ä»£ç 

```cpp
class Solution {
public:
    int checkRecord(int n) {
        /* |  |       |P          |L   |LL 
        *  |A |P+L+LL |A+AP+AL+ALL|A+AP|AL
        *  |!A|0      |P+L+LL     |P   |L
        *  ä¸Šé¢æ˜¯7ä¸ªçŠ¶æ€ä¹‹é—´çš„è½¬æ¢å…³ç³»
        */
        int K[2][4];
        for (int i = 0; i < 2; i++) {
            for (int j = 0; j < 4; j++) {
                K[i][j] = 0;
            }
        }
        // n=1æ—¶,åªæœ‰ä¸‰ç§æƒ…å†µï¼šAã€Pã€L
        K[0][0] = 1;
        K[1][1] = 1;
        K[1][2] = 1;

        int BASE = 1000000007;

        int BAK[2][4] = {0};
        for (int t = 2; t <= n; t++) {
            BAK[0][3] = K[0][2];
            BAK[0][2] = (K[0][0] + K[0][1]) % BASE;
            BAK[0][1] = ((BAK[0][2] + K[0][2]) % BASE + K[0][3]) % BASE;
            BAK[0][0] = ((K[1][1] + K[1][2]) % BASE + K[1][3]) % BASE;

            BAK[1][0] = 0;
            BAK[1][1] = BAK[0][0];
            BAK[1][2] = K[1][1];
            BAK[1][3] = K[1][2];
            for (int i = 0; i < 2; i++) {
                for (int j = 0; j < 4; j++) {
                    K[i][j] = BAK[i][j];
                }
            }
        }

        int S = 0;
        for (int i = 0; i < 2; i++) {
            for (int j = 0; j < 4; j++) {
                S = (S + K[i][j]) % BASE;
            }
        }

        return S;
    }
};
```


2. é¢˜ç›®ä¸­è¯´çš„â€œä¸¤ä¸ªè¿ç»­çš„'L'ï¼ˆè¿Ÿåˆ°ï¼‰â€å®¹æ˜“äº§ç”Ÿè¯¯è§£ã€‚
- ä¸¤ä¸ª-è¿ç»­çš„L=ã€‹â€LLâ€œæœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Ÿå³è¿ç»­è¿Ÿåˆ°ä¸¤æ¬¡ä¸èƒ½è¶…è¿‡ä¸¤æ¬¡ï¼ˆğŸ˜“ï¼Œæœ‰ç‚¹æ™•ï¼ŒåŒ…å«äº†LLLçš„æƒ…å†µå‘¢ï¼‰ã€‚ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£ï¼Œæµ‹è¯•ç»“æœæ¯”ç­”æ¡ˆå¤§å¥½å¤šã€‚
- åæ¥ä»”ç»†ç¢ç£¨äº†ä¸‹ï¼Œæˆ‘ä»¥ä¸ºæ˜¯ï¼šä¸¤ä¸ªè¿ç»­çš„-L=ã€‹â€œLLâ€æœ€å¤šå‡ºç°ä¸€æ¬¡ï¼Ÿå³è¿ç»­è¿Ÿåˆ°ä¸¤æ¬¡ä¸èƒ½è¶…è¿‡ä¸€æ¬¡ï¼ˆè¿™é‡Œå°±ä¸èƒ½åŒ…å«LLLçš„æƒ…å†µï¼‰ã€‚ç”¨åŠ¨æ€è§„åˆ’æ±‚è§£äº†ä¸‹ï¼Œæ¯”ç­”æ¡ˆè¦å°ã€‚

ä¸Šé¢ä¸¤ç§æƒ…å†µï¼Œè¿˜è›®æœ‰æ„æ€çš„ï¼Œå¯ä»¥ç”¨çŠ¶æ€è½¬æ¢å’ŒåŠ¨æ€è§„åˆ’ä¸¤ç§æ–¹æ³•è§£ã€‚
æ–¹ç¨‹å…ˆè®°åœ¨è¿™äº†ï¼š
å®šä¹‰F[n,i,j,k]è¡¨ç¤ºæœ€åçš„è€ƒå‹¤è®°å½•ä¸ºkï¼Œæ­¤æ—¶Açš„æ¬¡æ•°ä¸ºiï¼ŒLLçš„æ¬¡æ•°ä¸ºjã€‚
`F[n,i,j,A] = F[n-1,i-1,j,P] + F[n-1,i-1,j,L],è¿™é‡Œiå¿…ç„¶ä¸º1ï¼›`
`F[n,i,j,P] = F[n-1,i,j,A](i=1) + F[n-1,i,j,P] + F[n-1,i,j,L];`
`F[n,i,j,L] = F[n-1,i,j,A](i=1) + F[n-1,i,j,P] + F[n-1,i,j-1,L](j>=1);`