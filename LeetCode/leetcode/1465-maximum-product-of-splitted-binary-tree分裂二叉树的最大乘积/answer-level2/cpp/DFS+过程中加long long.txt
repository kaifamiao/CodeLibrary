### è§£é¢˜æ€è·¯
è®°ä½ä¸€å®šè¦æŠŠlong longæ”¾åˆ°æœ‰å¯èƒ½è¶…å‡ºintè¡¨ç¤ºèŒƒå›´çš„è¿ç®—è¿‡ç¨‹å‰é¢ï¼ˆå¦‚ä¸‹é¢çš„re*(total-re)ï¼‰ï¼Œå¦åˆ™è¿‡ç¨‹ä¸­å°±ä¼šæŠ¥é”™ï¼Œå“ªæ€•è¿ç®—æœ€ç»ˆç»“æœæ˜¯intèŒƒå›´å†…çš„ä¹Ÿä¼šæŠ¥é”™ï¼›
æ€è·¯ï¼ša+(b-a)çš„æœ€å¤§å€¼ï¼Œæ ¹æ®æ•°å­¦å‡½æ•°æ±‚å¯¼ï¼Œæœ€å¤§å€¼æ˜¯abs(b-2*a)çš„å€¼æœ€å°ï¼Œå³aå’Œb-açš„å€¼æœ€æ¥è¿‘ã€‚
1ã€ç”¨DFSæ±‚å¾—æ‰€æœ‰å­æ ‘çš„å’Œï¼›
2ã€éå†æ‰€æœ‰å­æ ‘çš„å’Œï¼Œæ‰¾åˆ°å“ªä¸€ä¸ªabs(toal-2*a)æœ€å°ï¼›
3ã€è¿”å›ç»“æœ((long long)(total-a)*a)%1000000007.

### ä»£ç 

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
class Solution {
public:
    vector<int> sum;
    int maxProduct(TreeNode* root) {
        //æ±‚å¾—æ‰€æœ‰å­æ ‘å’Œï¼Œç„¶åç”¨æœ€æœ‰â€œæ„ä¹‰â€çš„å­æ ‘å’Œè®¡ç®—ç»“æœ
        if (root==NULL) return 0;
        int total=getSum(root);//å…ˆç®—å‡ºæ‰€æœ‰æ ‘çš„å’Œ
        int m=INT_MAX;
        int re=0;
        for (int i=0; i<sum.size(); i++){//éå†æ‰¾åˆ°èƒ½å¤Ÿä½¿å¾—reå’Œtotal-reæœ€æ¥è¿‘çš„ğŸŒ²
            if (abs(total-2*sum[i])<m){
                m=abs(total-2*sum[i]);
                re=sum[i];
            }
        }
        return ((long long)(total-re)*re)%1000000007;
    }
    int getSum(TreeNode* root){//æŠŠæ‰€æœ‰çš„å­æ ‘å’Œæ”¾å…¥vector sumä¸­
        if(root==NULL) return 0;
        int temp=getSum(root->left)+getSum(root->right)+root->val;
        sum.push_back(temp);
        return temp;
    }
};
```