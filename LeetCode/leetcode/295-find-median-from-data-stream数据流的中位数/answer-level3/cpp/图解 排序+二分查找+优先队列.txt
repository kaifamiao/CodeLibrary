### æ–¹æ³•ä¸€ï¼šæ’åºæ³•
æ­¤æ–¹æ³•æ˜¯æœ€ç®€å•ç›´æ¥çš„ä¸€ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å°†æ·»åŠ çš„æ•°ä¿å­˜åœ¨æ•°ç»„ä¸­ï¼Œè¿”å›ä¸­ä½æ•°æ—¶ï¼Œåªéœ€å°†æ•°ç»„æ’åºï¼Œè¿”å›ä¸­é—´ä½ç½®æ•°å³å¯ã€‚

æœ¬é¢˜éš¾åº¦ä¸º **å›°éš¾**ï¼Œæ˜¾ç„¶ä¸€å®šå­˜åœ¨æ›´åŠ ä¼˜åŒ–çš„æ–¹æ³•ã€‚
#### ä»£ç ï¼ˆC++ è¶…æ—¶ï¼‰
```python []
class MedianFinder:

    def __init__(self):
        """
        initialize your data structure here.
        """
        self.store = []

    def addNum(self, num: int) -> None:
        self.store.append(num)

    def findMedian(self) -> float:
        self.store.sort()
        n = len(self.store)
        if n & 1 == 1: # n æ˜¯å¥‡æ•°
            return self.store[n // 2]
        else:
            return (self.store[n // 2 - 1] + self.store[n // 2]) / 2
```

```C++ []
class MedianFinder {
    vector<double> store;

public:
    // Adds a number into the data structure.
    void addNum(int num)
    {
        store.push_back(num);
    }

    // Returns the median of current data stream
    double findMedian()
    {
        sort(store.begin(), store.end());

        int n = store.size();
        return (n & 1 ? store[n / 2] : (store[n / 2 - 1] + store[n / 2]) * 0.5);
    }
};
```

#### å¤æ‚åº¦åˆ†æï¼š
- æ—¶é—´å¤æ‚åº¦ï¼š${\mathcal{O}}(nlogn)$ã€‚`addNum()` å‡½æ•°æ¶ˆè€— ${\mathcal{O}}(1)$ çš„æ—¶é—´å¤æ‚åº¦ï¼Œ`findMedian()` å‡½æ•°ä½¿ç”¨äº†æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º ${\mathcal{O}}(nlogn)$ã€‚å› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º ${\mathcal{O}}(1)+{\mathcal{O}}(nlogn)={\mathcal{O}}(nlogn)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š${\mathcal{O}}(n)$ã€‚

### æ–¹æ³•äºŒï¼šäºŒåˆ†æŸ¥æ‰¾æ’å…¥
æ–¹æ³•ä¸€çš„ç¼ºç‚¹åœ¨äºå¯¹æ•°ç»„è¿›è¡Œäº†æ’åºæ“ä½œï¼Œå¯¼è‡´æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œå‡å¦‚æ¯æ¬¡æ’å…¥ä¸€ä¸ªå€¼å‰æ•°ç»„å·²ç»æ’å¥½åºäº†å‘¢ï¼Ÿè¿™æ ·æˆ‘ä»¬åªéœ€è€ƒè™‘æ¯æ¬¡å°†å€¼æ’åœ¨åˆé€‚çš„ä½ç½®å³å¯ï¼Œæ‰€ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥æ‰¾åˆ°è¿™ä¸ªåˆé€‚çš„ä½ç½®ï¼Œä¼šå°†æ—¶é—´å¤æ‚åº¦é™ä½åˆ° ${\mathcal{O}}(n)$ï¼ˆæŸ¥æ‰¾: ${\mathcal{O}}(log n)$ï¼Œæ’å…¥: ${\mathcal{O}}(n)$ï¼‰ã€‚

#### ä»£ç 

```python []
class MedianFinder:

    def __init__(self):
        """
        initialize your data structure here.
        """
        self.store = []

    def addNum(self, num: int) -> None:
        if not self.store:
            self.store.append(num)
        else:
            bisect.insort_left(self.store, num) # æ’å…¥

    def findMedian(self) -> float:
        n = len(self.store)
        if n & 1 == 1:  # næ˜¯å¥‡æ•°
            return self.store[n // 2]
        else:
            return (self.store[n // 2] + self.store[n // 2 - 1]) / 2
```
```C++ []
class MedianFinder {
    vector<int> store; // resize-able container

public:
    // Adds a number into the data structure.
    void addNum(int num)
    {
        if (store.empty())
            store.push_back(num);
        else
            store.insert(lower_bound(store.begin(), store.end(), num), num);     // binary search and insertion combined
    }

    // Returns the median of current data stream
    double findMedian()
    {
        int n = store.size();
        return n & 1 ? store[n / 2] : (store[n / 2 - 1] + store[n / 2]) * 0.5;
    }
};
```
#### å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š${\mathcal{O}}(n)$ã€‚${\mathcal{O}}(log n)+{\mathcal{O}}(n)â‰ˆO(n)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š${\mathcal{O}}(n)$ã€‚ä½¿ç”¨äº†æ•°ç»„ä¿å­˜è¾“å…¥ã€‚
### æ–¹æ³•ä¸‰ï¼šä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰
ã€[ä»€ä¹ˆæ˜¯ä¼˜å…ˆé˜Ÿåˆ—](https://leetcode-cn.com/problems/maximum-number-of-events-that-can-be-attended/solution/xiang-jie-you-xian-dui-lie-tan-xin-suan-fa-by-z1m/)ã€‘

æˆ‘ä»¬å°†ä¸­ä½æ•°å·¦è¾¹çš„æ•°ä¿å­˜åœ¨å¤§é¡¶å †ä¸­ï¼Œå³è¾¹çš„æ•°ä¿å­˜åœ¨å°é¡¶å †ä¸­ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨ ${\mathcal{O}}(1)$ æ—¶é—´å†…å¾—åˆ°ä¸­ä½æ•°ã€‚

æ³¨æ„ï¼šPython ä¸­æ²¡æœ‰å¤§é¡¶å †ï¼Œåªèƒ½å°†å€¼å–è´Ÿä¿å­˜åœ¨å°é¡¶å †æ¥æ¨¡æ‹Ÿã€‚ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œå°†å †ç”¨ä¼˜å…ˆé˜Ÿåˆ—è¡¨ç¤ºï¼Œå¦‚ä¸‹å›¾ã€‚

<![å¹»ç¯ç‰‡1.JPG](https://pic.leetcode-cn.com/93dae43ac85d81bc27115a2383c941919d64ba8d432dead87119c484ef8d6b2f-%E5%B9%BB%E7%81%AF%E7%89%871.JPG),![å¹»ç¯ç‰‡2.JPG](https://pic.leetcode-cn.com/3a53ac9ee812c8d375cba058da2aad1c97707f58a80cb96b8bb38f1a0446f24b-%E5%B9%BB%E7%81%AF%E7%89%872.JPG),![å¹»ç¯ç‰‡3.JPG](https://pic.leetcode-cn.com/bcd5db2277e5531a57db24c390bdd53ddf42ee547556713932a3848514b6f0b7-%E5%B9%BB%E7%81%AF%E7%89%873.JPG),![å¹»ç¯ç‰‡4.JPG](https://pic.leetcode-cn.com/d57c41eeab0b29b21fe8f3dac3c1cfb840f6ed47703c20f2e7596cd363556eb8-%E5%B9%BB%E7%81%AF%E7%89%874.JPG),![å¹»ç¯ç‰‡5.JPG](https://pic.leetcode-cn.com/69fee2fc3a96a190a58f9a97d53a541041e7e05cf0a21e6ab71ac3f87725600f-%E5%B9%BB%E7%81%AF%E7%89%875.JPG),![å¹»ç¯ç‰‡6.JPG](https://pic.leetcode-cn.com/803236bab18997fbe19528f79de055b17265f891301de3b6c7318b363333a32b-%E5%B9%BB%E7%81%AF%E7%89%876.JPG),![å¹»ç¯ç‰‡7.JPG](https://pic.leetcode-cn.com/1799adff94635268f3887512beb3779d09f50ca2343550162700527913cee036-%E5%B9%BB%E7%81%AF%E7%89%877.JPG),![å¹»ç¯ç‰‡8.JPG](https://pic.leetcode-cn.com/4f2519d29f62392ec7bcb2b4f59f6575aee990a7d8d304be2240bf877a8ef400-%E5%B9%BB%E7%81%AF%E7%89%878.JPG),![å¹»ç¯ç‰‡9.JPG](https://pic.leetcode-cn.com/1e3b706d7810508a409f564a41c1b258f4e8e9a1d1594d059589fa7d296a0807-%E5%B9%BB%E7%81%AF%E7%89%879.JPG),![å¹»ç¯ç‰‡10.JPG](https://pic.leetcode-cn.com/861479bca792e227f0fa28eda1900c3993731002378372aff5e3fefd1c7380df-%E5%B9%BB%E7%81%AF%E7%89%8710.JPG),![å¹»ç¯ç‰‡11.JPG](https://pic.leetcode-cn.com/8d9bb1b78d610569f256098e36bee209d0f69f4dbe12f582882f75dd63a4a1a4-%E5%B9%BB%E7%81%AF%E7%89%8711.JPG),![å¹»ç¯ç‰‡12.JPG](https://pic.leetcode-cn.com/30dccd401504b18c73d0b0b895ac13c690a2e2493398d344648636a9069359b0-%E5%B9%BB%E7%81%AF%E7%89%8712.JPG),![å¹»ç¯ç‰‡13.JPG](https://pic.leetcode-cn.com/0970540a6662a60715ce0773c6bb2edee4f296ccd35c8fa63dca6b55d90280d9-%E5%B9%BB%E7%81%AF%E7%89%8713.JPG),![å¹»ç¯ç‰‡14.JPG](https://pic.leetcode-cn.com/88767d693bf83d135864f292c0e4eb041b770390f00534fd95dfd4d00ad9b234-%E5%B9%BB%E7%81%AF%E7%89%8714.JPG),![å¹»ç¯ç‰‡15.JPG](https://pic.leetcode-cn.com/e5e64aef8cc0202d6606e9693044c385e2a4da63546167c3cc58dfb731c7464d-%E5%B9%BB%E7%81%AF%E7%89%8715.JPG),![å¹»ç¯ç‰‡16.JPG](https://pic.leetcode-cn.com/56fc6f1fb6ee420eee1bd54a94353a4de45862e4d70af5c4301b00e2dd7d5262-%E5%B9%BB%E7%81%AF%E7%89%8716.JPG),![å¹»ç¯ç‰‡17.JPG](https://pic.leetcode-cn.com/03584875f43ebf1ae8ff9565a1def78ad0cdff778e6d43a1bec52398ce7037cb-%E5%B9%BB%E7%81%AF%E7%89%8717.JPG),![å¹»ç¯ç‰‡18.JPG](https://pic.leetcode-cn.com/069056fbd5d83a8fc6561254c76aef6e13b71920b1d7f3aef4f78afb69822bc6-%E5%B9%BB%E7%81%AF%E7%89%8718.JPG),![å¹»ç¯ç‰‡19.JPG](https://pic.leetcode-cn.com/09c097d2138f83d67ed7a42e68e15191f3ed75b219ffd1717445e075bc402030-%E5%B9%BB%E7%81%AF%E7%89%8719.JPG)>


#### ä»£ç 
```python []
class MedianFinder:

    def __init__(self):
        """
        initialize your data structure here.
        """
        # åˆå§‹åŒ–å¤§é¡¶å †å’Œå°é¡¶å †
        self.max_heap = []
        self.min_heap = []

    def addNum(self, num: int) -> None:
        if len(self.max_heap) == len(self.min_heap):# å…ˆåŠ åˆ°å¤§é¡¶å †ï¼Œå†æŠŠå¤§å †é¡¶å…ƒç´ åŠ åˆ°å°é¡¶å †
            heapq.heappush(self.min_heap, -heapq.heappushpop(self.max_heap, -num))
        else:  # å…ˆåŠ åˆ°å°é¡¶å †ï¼Œå†æŠŠå°å †é¡¶å…ƒç´ åŠ åˆ°å¤§é¡¶å †
            heapq.heappush(self.max_heap, -heapq.heappushpop(self.min_heap, num))

    def findMedian(self) -> float:
        if len(self.min_heap) == len(self.max_heap):
            return (-self.max_heap[0] + self.min_heap[0]) / 2
        else:
            return self.min_heap[0]
```

```C++ []
class MedianFinder {
    priority_queue<int> lo;                              // å¤§é¡¶å †
    priority_queue<int, vector<int>, greater<int>> hi;   // å°é¡¶å †

public:
    // Adds a number into the data structure.
    void addNum(int num)
    {
        lo.push(num);                                    // åŠ åˆ°å¤§é¡¶å †

        hi.push(lo.top());                               // å¹³è¡¡
        lo.pop();

        if (lo.size() < hi.size()) {                     // ç»´æŠ¤ä¸¤ä¸ªå †å…ƒç´ ä¸ªæ•°
            lo.push(hi.top());
            hi.pop();
        }
    }

    // Returns the median of current data stream
    double findMedian()
    {
        return lo.size() > hi.size() ? (double) lo.top() : (lo.top() + hi.top()) * 0.5;
    }
};
```
#### å¤æ‚åº¦åˆ†æ
- æ—¶é—´å¤æ‚åº¦ï¼š${\mathcal{O}}(log n)$ã€‚å †æ’å…¥å’Œåˆ é™¤éœ€è¦ ${\mathcal{O}}(log n)$ï¼ŒæŸ¥æ‰¾ä¸­ä½æ•°éœ€è¦ ${\mathcal{O}}(1)$ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼š${\mathcal{O}}(n)$ã€‚

PSï¼šæƒ³è¦ä¸€èµ·åŠªåŠ›çš„ç«¥é‹ä»¬å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šè…çƒ‚çš„æ©˜å­ï¼Œè‡´åŠ›äºæ‘†è„±ç®—æ³•çš„æŠ½è±¡æ€ç»´ï¼Œå½»åº•ææ‡‚ç®—æ³•ï¼ŒåŒæ—¶å…¬ä¼—å·è¿˜ä¼šå‘å¸ƒé¢è¯•ä¸­çš„é«˜é¢‘çŸ¥è¯†ç‚¹ï¼Œä¸€èµ·åŠªåŠ›å§ï¼ğŸ˜‹