è€ƒéªŒæ•°å­¦åŠŸåº•çš„ä¸€é“é¢˜ðŸ˜ºã€‚
![æœ€å°å¥½è¿›åˆ¶æ•°å­¦è§£æ³•.jpg](https://pic.leetcode-cn.com/7fee9a478e3bdf2d399c6aaa41d793e9c2689d0adac9d251ee34757c8d118975-%E6%9C%80%E5%B0%8F%E5%A5%BD%E8%BF%9B%E5%88%B6%E6%95%B0%E5%AD%A6%E8%A7%A3%E6%B3%95.jpg)
ä»£ç å¦‚ä¸‹
```javascript
/**
 * @param {string} n
 * @return {string}
 */
var smallestGoodBase = function(n) {
    n = BigInt(n);
    //å…ˆç¡®å®š a çš„æœ€å¤§å€¼ï¼Œå› ä¸ºMath.log2çš„å‚æ•°ä¸èƒ½æ˜¯ BigIntï¼Œæ‰€ä»¥åªèƒ½ä»Žå°åˆ°å¤§åŽ»ç®—açš„ i æ¬¡æ–¹
    let a_max;
    for(let i = 1; ; i++) {
        if(Math.pow(2, i) > n) {
            a_max = BigInt(i) + 1n;
            break;
        }
    }
    console.log("a_max:" + a_max);
    //a ä¸èƒ½ç­‰äºŽ 1ï¼Œå› ä¸º a ç­‰äºŽ 1 çš„æ—¶å€™ï¼Œk å°±ç­‰äºŽ n äº†ã€‚ä½†æ˜¯ä»»æ„ç»™å®šä¸€ä¸ª nï¼Œéƒ½å¯ä»¥å­˜åœ¨k ç­‰äºŽ n-1ï¼Œa ç­‰äºŽ 2ï¼Œä½¿å¾—é¢˜ç›®æˆç«‹
    for(let a = a_max; a >= 2n; a--) {
        //k >= 2 && k <= n - 1, å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼
        let start = 2n;
        let end = n - 1n;
        let k;
        while(true) {
            k = (start + end) / 2n;
            let result = (k ** a - 1n) / (k - 1n);
            if(result === n) return k.toString();
            else if(result > n) {
                end = k - 1n;
            } else if(result < n) {
                start = k + 1n;
            }
            if(start > end) break;
        }
    }
};
```
å› ä¸ºa_max <= logNï¼Œæ‰€ä»¥å¤–å±‚å¾ªçŽ¯logNæ¬¡ï¼Œå†…å±‚å¾ªçŽ¯æ˜¯ç”¨äºŒåˆ†æ³•å¯»æ‰¾ 2 åˆ° N ä¹‹é—´çš„æ•°å­—ï¼Œä¹Ÿæ˜¯ logNæ¬¡ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(logN * logN)ï¼Œ æ€»çš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(1)ã€‚