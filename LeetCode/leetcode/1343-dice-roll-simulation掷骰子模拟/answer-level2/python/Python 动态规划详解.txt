## æ€è·¯

ç”¨ `dp[i][j][k]` è¡¨ç¤ºç¬¬ `i` è½®æ·éª°å­æ·å‡ºæ•°å­— `j` æ—¶ `j` è¿ç»­å‡ºç° `k` æ¬¡çš„ç»„åˆæ•°é‡ã€‚

é‚£ä¹ˆæœ‰çŠ¶æ€è½¬ç§»å¦‚ä¸‹ï¼š

**å½“ `j` å¹¶éåœ¨è¿ç»­å‡ºç°æ—¶ï¼ˆå³ `k == 1` æ—¶ï¼‰ï¼š**

```
// j å‡ºç° 1 æ¬¡çš„ç»„åˆæ•°ç­‰äºä¸Šä¸€è½®æŠ•å‡ºéæ•°å­— j çš„æ‰€æœ‰æƒ…å†µå’Œ
dp[i][j][1] = sum(dp[i - 1][other != j][:])
```

**å½“ `j` è¿ç»­å‡ºç° `k(k > 1)` æ¬¡æ—¶ï¼š**

```
if k <= rollMax[j]:
    // æœ¬è½®æŠ•å‡ºè¿ç»­å‡ºç° k æ¬¡æ•°å­— j çš„æƒ…å†µæ•°é‡ç­‰äºï¼šä¸Šä¸€è½®è¿ç»­æŠ•æ·å‡º k - 1 æ¬¡ j çš„æƒ…å†µæ•°é‡
    dp[i][j][k] = dp[i - 1][j][k - 1]
```

psï¼šå¾ˆå¤šåŒå­¦è¯´æµ‹è¯•ç”¨ä¾‹æ˜¯é”™çš„ï¼Œå¯èƒ½æ˜¯å› ä¸ºç†è§£é”™é¢˜æ„äº†ï¼Œé¢˜ç›®è¯´çš„æ˜¯ **è¿ç»­** æ·å‡ºæ•°å­— `i` çš„æ¬¡æ•°ä¸èƒ½è¶…è¿‡ `rollMax[i]`ï¼Œè€Œä¸æ˜¯æ•°å­—çš„æŠ•æ·æ€»æ•°ã€‚

å…·ä½“å®ç°ï¼š

```python
class Solution:
    def dieSimulator(self, n: int, rollMax: List[int]) -> int:
        dp = [[[0 for _ in range(16)] for _ in range(7)] for _ in range(n + 1)]
        mod = 10**9 + 7
                
        for i in range(1, n + 1):
            # æŠ•æ·çš„æ•°
            for j in range(1, 7):
                # ç¬¬ä¸€æ¬¡æŠ•æ·
                if i == 1:
                    dp[i][j][1] = 1
                    continue
                
                # æ•°å­— j è¿ç»­å‡ºç° k æ¬¡
                for k in range(2, rollMax[j - 1] + 1):
                    dp[i][j][k] = dp[i - 1][j][k - 1]
                    
                # å‰ä¸€æ¬¡æŠ•å‡ºçš„æ•°ä¸æ˜¯ j
                s = 0
                for l in range(1, 7):
                    if l == j:
                        continue
                    for k in range(1, 16):
                        s += dp[i - 1][l][k]
                        s %= mod
                dp[i][j][1] = s
        
        res = 0
        for j in range(1, 7):
            for k in range(1, 16):
                # æ±‚æŠ•æ· n æ¬¡æ—¶æ‰€æœ‰ç»„åˆæ€»å’Œ
                res += dp[n][j][k]
                res %= mod
                
        return res
```

----

## ğŸ±

- æˆ‘çš„é¢˜è§£é¡¹ç›®: [GitHub - leetcode-notebook](https://github.com/JalanJiang/leetcode-notebook)
- å¦‚æœä½ å¯¹åšé¢˜å’Œåˆ†äº«é¢˜è§£æ„Ÿå…´è¶£ï¼Œæ¬¢è¿åŠ å…¥ [LeetCode åˆ·é¢˜å°åˆ†é˜Ÿ](https://github.com/leetcode-notebook/leetcode-notebook.github.io/blob/master/README.md)
- å¦‚æœä½ è§‰å¾—é¢˜è§£å†™å¾—ä¸é”™ï¼Œæ¬¢è¿å…³æ³¨å…¬ä¼—å·ã€Œç¼–ç¨‹æ‹¯æ•‘ä¸–ç•Œã€ï¼Œå…¬ä¼—å·ä¸“æ³¨äºç¼–ç¨‹åŸºç¡€ä¸æœåŠ¡ç«¯ç ”å‘ï¼Œå®šæœŸåˆ†äº«ç®—æ³•ä¸æ•°æ®ç»“æ„å¹²è´§~

![](https://pic.leetcode-cn.com/19e1d10a6d54a3e362ba5b7ad024a689720b30848e7e7b9e3ca971eae5ebd7b6-file_1574392293896)