# 5370. è®¾è®¡åœ°é“ç³»ç»Ÿ
å¯ä»¥ä½¿ç”¨ STL æ¥å­˜å‚¨æ•°æ®ï¼Œé«˜æ•ˆå®ç°åœ°é“ç®¡ç†ç³»ç»ŸğŸ¶ã€‚
æ•°æ®å®¹å™¨çš„è®¾è®¡å¯ä»¥å‚è§æ³¨é‡Šã€‚

```cpp
class UndergroundSystem {
public:
    UndergroundSystem() {
        
    }
    //æ‰€æœ‰å®Œæˆçš„é€šè¡Œè®°å½•
    //key.first ä¸ºä¸Šè½¦ç«™ï¼Œkey.second ä¸ºä¸‹è½¦ç«™
    //value.first ä¸ºç´¯è®¡ç”¨æ—¶ï¼Œvalue.second ä¸ºå®Œæˆçš„é€šè¡Œæ¬¡æ•°ã€‚
    map<pair<string, string>, pair<int64_t, int>> data;
    //ç¼“å­˜ä¹˜å®¢å°šæœªå®Œæˆçš„é€šè¡Œè®°å½•
    //key ä¸º ä¹˜å®¢ID
    //value.first ä¸ºä¹˜å®¢ä¸Šè½¦ç«™ï¼Œvalue.second ä¸ºå‡ºå‘æ—¶é—´ã€‚
    //ä¹˜è½¦ä¸‹è½¦åï¼Œè®°å½•åº”ä»è¯¥å®¹å™¨ä¸­ç§»é™¤ã€‚
    map<int, pair<string, int>> passenger;
    void checkIn(int id, string stationName, int t) {
        passenger[id] = make_pair(stationName, t);
    }
    
    void checkOut(int id, string stationName, int t) {
        auto it = passenger.find(id);
        data[make_pair(it->second.first, stationName)].first += t - it->second.second;
        data[make_pair(it->second.first, stationName)].second ++;
        passenger.erase(it);
    }
    
    double getAverageTime(string startStation, string endStation) {
        auto it = data.find(make_pair(startStation, endStation));
        return double(it->second.first)/(it->second.second);
    }
};
```
 # æ‰«ç å…³æ³¨ å¿«ä¹åŠ å€
![qrcode_for_gh_6e5f8557b1f8_258.jpg](https://pic.leetcode-cn.com/c76daf1deeba4b94c92858e4d52e2f6b0b5b151a2e6d09e0c237357a07210aa2-qrcode_for_gh_6e5f8557b1f8_258.jpg)
